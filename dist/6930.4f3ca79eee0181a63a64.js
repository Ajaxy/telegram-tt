"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[6930],{31293:(e,t,a)=>{a.r(t),a.d(t,{GiftInfoModal:()=>Xe,GiftModal:()=>Fe,GiftRecipientPicker:()=>Je,PaidReactionModal:()=>Te,StarPaymentModal:()=>se,StarsBalanceModal:()=>te,StarsGiftModal:()=>E,StarsGiftingPickerModal:()=>k,StarsSubscriptionModal:()=>de,StarsTransactionInfoModal:()=>ce});var s=a(84051),r=a(13439),n=a(90709),i=a(29807),o=a(87357),l=a(17142),c=a(4961),m=a(14),d=a(17712),u=a(59030),p=a(21849),A=a(56440),y=a(64493),f=a(8410),g=a(1526);const h={root:"j9SVp5No",main:"bTN9Jeph",headerInfo:"c6MiyJgW",logo:"StGLWvzb",logoBackground:"SyTXSfml",description:"kFe3mIZo",section:"BgfHkWd2",header:"zMtAGfXs",starHeaderText:"q3v8orGj",hiddenHeader:"bq3FnXT0",closeButton:"bDsDTkbe",avatar:"jK36xUj4",center:"v1PckUQn",secondaryInfo:"TDWSRfP9",modalDialog:"MFXAwnxJ"},v=a.p+"StarLogo.600328787c79d99dfd66.svg",S=a.p+"stars-bg.dee4c4b73c7d21c2ec73.png",E=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;return{user:a?.forUserId?(0,i.mBe)((0,r.mS)(),a.forUserId):void 0}}))((e=>{let{modal:t,user:a}=e;const{closeStarsGiftModal:i,openInvoice:E,requestConfetti:N}=(0,r.ko)(),b=(0,s.li)(null),I=Boolean(t?.isOpen),C=(0,m.A)(t),T=(0,u.A)(),[k,G]=(0,s.J0)(),[B,P]=(0,s.J0)(!0);(0,s.vJ)((()=>{I||P(!0)}),[I]);const w=(0,d.A)((()=>{const e=b.current;if(e&&I){const{top:t,left:a,width:s,height:r}=e.querySelector(".modal-content").getBoundingClientRect();N({top:t,left:a,width:s,height:r,withStars:!0})}}));(0,s.vJ)((()=>{C?.isCompleted&&w()}),[C,w]);const x=(0,d.A)((e=>{C&&(G(e),E(a?{type:"starsgift",userId:a.id,stars:e.stars,currency:e.currency,amount:e.amount}:{type:"stars",stars:e.stars,currency:e.currency,amount:e.amount}))})),M=(0,d.A)((()=>{i()})),K=(0,s.Kr)((()=>{const e=T("lng_credits_summary_options_about").split("{link}");return[e[0],s.Ay.createElement(A.A,{url:T("StarsTOSLink"),text:T("lng_credits_summary_options_about_link")}),e[1]]}),[T]);return s.Ay.createElement(f.A,{className:(0,o.A)(h.modalDialog,h.root),dialogRef:b,isSlim:!0,onClose:M,isOpen:I},s.Ay.createElement("div",{className:h.main,onScroll:function(e){const{scrollTop:t}=e.currentTarget;P(t<=150)}},s.Ay.createElement(y.A,{round:!0,size:"smaller",className:h.closeButton,color:"translucent",onClick:()=>i(),ariaLabel:T("Close")},s.Ay.createElement("i",{className:"icon icon-close"})),s.Ay.createElement("div",{className:(0,o.A)(h.header,B&&h.hiddenHeader)},s.Ay.createElement("h2",{className:h.starHeaderText},T(a?"GiftStarsTitle":"Star.List.GetStars"))),s.Ay.createElement("div",{className:h.headerInfo},a?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{size:"huge",peer:a,className:h.avatar}),s.Ay.createElement("img",{className:h.logoBackground,src:S,alt:"",draggable:!1})):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("img",{className:h.logo,src:v,alt:"",draggable:!1}),s.Ay.createElement("img",{className:h.logoBackground,src:S,alt:"",draggable:!1}))),s.Ay.createElement("h2",{className:(0,o.A)(h.headerText,h.center)},C?.isCompleted?a?(0,c.A)(T("Notification.StarsGift.SentYou",(0,l.A)(k.amount,k.currency,T.code)),["simple_markdown"]):(0,c.A)(T("StarsAcquiredInfo",k?.stars),["simple_markdown"]):T(a?"GiftStarsTitle":"Star.List.GetStars")),s.Ay.createElement("p",{className:h.description},a?(0,c.A)(T("ActionGiftStarsSubtitle",(0,n.qg$)(T,a)),["simple_markdown"]):T("Stars.Purchase.GetStarsInfo")),s.Ay.createElement("div",{className:h.section},s.Ay.createElement(g.A,{options:C?.starsGiftOptions,onClick:x}),s.Ay.createElement("div",{className:h.secondaryInfo},K))))})));var N=a(31481),b=a(87894),I=a(79582),C=a(54960),T=a(34642);const k=(0,s.ph)((0,r.EK)((e=>{const{chats:{listIds:t},currentUserId:a}=e;return{userIds:e.contactList?.userIds,activeListIds:t.active,archivedListIds:t.archived,currentUserId:a}}))((e=>{let{isOpen:t,currentUserId:a,activeListIds:i,archivedListIds:o,userIds:l}=e;const{closeStarsGiftingPickerModal:c,openStarsGiftModal:m}=(0,r.ko)(),p=(0,u.A)(),[A,y]=(0,s.J0)(""),f=(0,s.Kr)((()=>{const e=(0,r.mS)().users.byId,t=[...l||[],...i||[],...o||[]],s=(0,n.Z$K)(t,e,A);return(0,I.A)((0,b.Am)(s).filter((t=>{const s=e[t];return!(!s||s.isSupport||(0,n.tvf)(s)||(0,n.PL2)(s)||t===a||t===N.zv8)})))}),[a,A,l,i,o]),g=(0,d.A)((e=>{e?.length&&(m({forUserId:e}),c())}));return s.Ay.createElement(T.A,{className:"s3k01dTm",isOpen:t,onClose:c,title:p("GiftStarsTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,confirmButtonText:p("Continue"),onEnter:c},s.Ay.createElement(C.A,{className:"cuI2eDIY",itemIds:f,filterValue:A,filterPlaceholder:p("Search"),onFilterChange:y,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,onSelectedIdChange:g}))})));var G=a(37661),B=a(39351),P=a(18276),w=a(9267),x=a(46222),M=a(24680),K=a(41036),R=a(14242);const O={root:"TtE8LQNJ",transition:"nXQS4E59",main:"JuWZY1ds",container:"mnhBs1uK",section:"lYkNd_gb",sectionTitle:"FF8gm7MP",tos:"Vu6blJk9",logo:"sjhpNB8l",logoBackground:"jjESKN3H",headerHext:"xbpAOr37",description:"teXilLxe",header:"fnhXotO2",starHeaderText:"iUwego5s",hiddenHeader:"DZk6d6hF",closeButton:"piD1PXHW",balance:"LitvQduT",smallerText:"rUnPcfmE",balanceBottom:"F5BTkZ9G",modalBalance:"t8tMrx3y",starButton:"oOt4VBD2",paymentContent:"OReEUNTV",paymentImages:"oKorQYTC",paymentPhoto:"HGTrEtUF",avatarStar:"Wu10dXoa",paymentImageBackground:"os8jb_qv",paymentAmount:"sd2jk3Hn",paymentButton:"VzR5cibf",paymentButtonStar:"Uhg7yWxK",transactions:"Qvc0fTTH",subscriptions:"IX5BhCUF",tabs:"KZVEyKOX",disclaimer:"bpVifdwH"},D=(0,s.ph)((e=>{let{balance:t,className:a}=e;const r=(0,u.A)();return s.Ay.createElement("div",{className:(0,o.A)(O.balance,a)},s.Ay.createElement("span",{className:O.smallerText},r("StarsBalance")),s.Ay.createElement("div",{className:O.balanceBottom},s.Ay.createElement(w.A,{type:"gold",size:"middle"}),void 0!==t?(0,R.Sm)(t):"â€¦"))}));var L=a(17663),z=a(63527);const U={root:"ZXnbeQxP",info:"zLaaDX3c",status:"HbF2qTB2",statusPricing:"AveGvpdV",amount:"_CBiOQcv",title:"k9ZIv5Pd",description:"FlRlxMx2",statusPeriod:"MRrP7Oew",statusEnded:"pRHwfr8m",preview:"t6Syyhzd",subscriptionStar:"ftlbevPm"},F=(0,s.ph)((e=>{let{subscription:t}=e;const{openStarsSubscriptionModal:a}=(0,r.ko)(),{peerId:o,pricing:l,until:c,isCancelled:m}=t,A=(0,u.A)(),y=(0,z.A)(function(e){return t=>(0,i.PVB)(t,e)}(o)),f=(0,d.A)((()=>{a({subscription:t})}));if(!y)return;const g=c<Date.now()/1e3,h=(0,L.A)(1e3*c,A.code,!0,"long");return s.Ay.createElement("div",{className:U.root,onClick:f},s.Ay.createElement("div",{className:U.preview},s.Ay.createElement(p.A,{size:"medium",peer:y}),s.Ay.createElement(w.A,{className:U.subscriptionStar,type:"gold",size:"small"})),s.Ay.createElement("div",{className:U.info},s.Ay.createElement("h3",{className:U.title},(0,n.qg$)(A,y)),s.Ay.createElement("p",{className:U.description},A(g?"StarsSubscriptionExpired":m?"StarsSubscriptionExpires":"StarsSubscriptionRenews",h))),s.Ay.createElement("div",{className:U.status},m||g?s.Ay.createElement("div",{className:U.statusEnded},A(g?"StarsSubscriptionStatusExpired":"StarsSubscriptionStatusCancelled")):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:U.statusPricing},s.Ay.createElement(w.A,{className:U.star,type:"gold",size:"adaptive"}),s.Ay.createElement("span",{className:U.amount},(0,R.Sm)(l.amount))),s.Ay.createElement("div",{className:U.statusPeriod},A("StarsParticipantSubscriptionPerMonth")))))}));var J=a(86046),_=a(58968);function V(e,t){if(t.extendedMedia)return e("StarMediaPurchase");if(t.subscriptionPeriod)return e("StarSubscriptionPurchase");if(t.isReaction)return e("StarsReactionsSent");if(t.giveawayPostId)return e("StarsGiveawayPrizeReceived");if(t.isMyGift)return e("StarsGiftSent");if(t.isGift)return e("StarsGiftReceived");if(t.starGift)return t.stars<0?e("Gift2TransactionSent"):e("Gift2ConvertedTitle");const a=t.peer&&"peer"!==t.peer.type&&(0,J.Pc)(t.peer)||void 0;return a?a.title||e(a.titleKey):t.title}var H=a(62587),j=a(27860);const W={root:"jQkp75Gb",preview:"OYGSN3PF",count:"KX1yz2Jy",thumb:"EvinKr5k",noOutline:"KSAAsUDv",itemCount1:"GxDajfX_",itemCount2:"jXuZoxq8",itemCount3:"TPn3XGHJ",blurry:"hWZuxLS8",full:"w56QPFhl",fadeIn:"ds43W8Wq"};function q(e){let{boughtMedia:t,index:a,className:r}=e;const i=t.video||t.photo,l=(0,n.VOI)(i,"pictogram"),c=(0,n.VDY)(i),m=(0,H.A)(l);return s.Ay.createElement("div",{className:(0,o.A)(W.thumb,void 0!==a&&`stars-transaction-media-${a}`,r)},c&&s.Ay.createElement("img",{className:W.blurry,src:c,alt:""}),m&&s.Ay.createElement("img",{className:W.full,src:m,alt:""}))}const Y=(0,s.ph)((e=>{let{media:t,className:a,isTransactionPreview:r,onClick:n}=e;const i=Math.min(t.length,r?2:3),l="mediaType"in t[0];return s.Ay.createElement("div",{className:(0,o.A)(W.root,W[`itemCount${i}`],r&&W.preview,a),dir:"rtl",onClick:n},t.slice(0,i).reverse().map(((e,t,a)=>{const n=a.length-t-1;return"mediaType"in e?s.Ay.createElement(j.A,{className:W.thumb,isVisible:!0,width:e.width,height:e.height,thumbDataUri:e.thumbnail?.dataUri}):s.Ay.createElement(q,{className:(0,o.A)(r&&n>0&&W.noOutline),boughtMedia:e,index:n})})),l&&s.Ay.createElement("div",{className:W.count},s.Ay.createElement(P.A,{name:"stars-lock"}),t.length>1?t.length:""))})),X={root:"aHAxv_Jg",info:"oyYrn3II",stars:"K5lc75ku",amount:"QLQPuLAr",title:"e0pK8CJ_",description:"xbERdDMQ",date:"l6CwQ0Ev",positive:"P_42_ZWR",negative:"TGjnLJfH",preview:"cnjGihOT",subscriptionStar:"z43YvnDX"},Q=(0,s.ph)((e=>{let{transaction:t,className:a}=e;const{openStarsTransactionModal:l}=(0,r.ko)(),{date:c,stars:m,photo:A,peer:y,extendedMedia:f,subscriptionPeriod:g}=t,h=(0,u.A)(),v="peer"===y.type?y.id:void 0,S=(0,z.A)(function(e){return t=>e?(0,i.PVB)(t,e):void 0}(v)),E=(0,s.Kr)((()=>{let e,a,s,r=V(h,t);if("peer"===t.peer.type)e=S&&(0,n.qg$)(h,S),s=S||_.lw;else{const a=(0,J.Pc)(t.peer);r=a.title||h(a.titleKey),e=h(a.subtitleKey),s=a}return t.photo&&(s=void 0),t.isRefund&&(a=h("StarsRefunded")),t.hasFailed&&(a=h("StarsFailed")),t.isPending&&(a=h("StarsPending")),{title:r,description:e,avatarPeer:s,status:a}}),[h,S,t]),N=(0,d.A)((()=>{l({transaction:t})}));return s.Ay.createElement("div",{className:(0,o.A)(X.root,a),onClick:N},s.Ay.createElement("div",{className:X.preview},f?s.Ay.createElement(Y,{media:f,isTransactionPreview:!0}):s.Ay.createElement(p.A,{size:"medium",webPhoto:A,peer:E.avatarPeer}),Boolean(g)&&s.Ay.createElement(w.A,{className:X.subscriptionStar,type:"gold",size:"small"})),s.Ay.createElement("div",{className:X.info},s.Ay.createElement("h3",{className:X.title},E.title),s.Ay.createElement("p",{className:X.description},E.description),s.Ay.createElement("p",{className:X.date},(0,L.L2)(1e3*c,h.code,!0),E.status&&` â€” (${E.status})`)),s.Ay.createElement("div",{className:X.stars},s.Ay.createElement("span",{className:(0,o.A)(X.amount,m<0?X.negative:X.positive)},(0,J.hk)(m)),s.Ay.createElement(w.A,{className:X.star,type:"gold",size:"adaptive"})))})),Z=["all","inbound","outbound"],$=[{title:"StarsTransactionsAll"},{title:"StarsTransactionsIncoming"},{title:"StarsTransactionsOutgoing"}],ee="StarsTransactionItem",te=(0,s.ph)((0,r.EK)((e=>({starsBalanceState:e.stars,canBuyPremium:!(0,i.n_C)(e)})))((e=>{let{modal:t,starsBalanceState:a,canBuyPremium:l}=e;const{closeStarsBalanceModal:m,loadStarsTransactions:p,openStarsGiftingPickerModal:h,openInvoice:E}=(0,r.ko)(),{balance:N,history:b,subscriptions:I}=a||{},C=(0,u.A)(),T=(0,B.A)(),[k,R]=(0,s.J0)(!0),[L,z]=(0,s.J0)(0),[U,J,_]=(0,G.A)(),V=Boolean(t&&a),{originStarsPayment:H,originReaction:j,originGift:W,topup:q}=t||{},Y=H||j||W||q,X=H?.form?.invoice?.totalAmount||H?.subscriptionInfo?.subscriptionPricing?.amount||j?.amount||W?.gift.stars||q?.balanceNeeded,te=X?X-(N||0):void 0,ae=(0,s.Kr)((()=>{const e=(0,r.mS)();if(j){const t=(0,i.hds)(e,j.chatId);if(!t)return;return C("StarsNeededTextReactions",(0,n.JsG)(C,t))}if(H){const t=H.form?.botId?(0,i.mBe)(e,H.form.botId):void 0;if(!t)return;return C("StarsNeededText",(0,n.YgS)(t))}if(W){const t=(0,i.mBe)(e,W.userId);if(!t)return;return C("StarsNeededTextGift",(0,n.YgS)(t))}if("subs"===q?.purpose)return C("StarsNeededTextLink")}),[j,H,W,q?.purpose,C]),se=Boolean(b?.all?.transactions.length&&!Y),re=!Y;(0,s.vJ)((()=>{V||(R(!0),z(0),_())}),[V]),(0,s.vJ)((()=>{Y?J():_()}),[Y]);const ne=(0,s.Kr)((()=>{if(!V)return;const e=C("lng_credits_summary_options_about").split("{link}");return[e[0],s.Ay.createElement(A.A,{url:C("StarsTOSLink"),text:C("lng_credits_summary_options_about_link")}),e[1]]}),[V,C]),ie=(0,d.A)((()=>{p({type:Z[L]})})),oe=(0,d.A)((()=>{h({})})),le=(0,d.A)((e=>{E({type:"stars",stars:e.stars,currency:e.currency,amount:e.amount})}));return s.Ay.createElement(f.A,{className:O.root,isOpen:V,onClose:m},s.Ay.createElement("div",{className:(0,o.A)(O.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;R(t<=150)}},s.Ay.createElement(y.A,{round:!0,size:"smaller",className:O.closeButton,color:"translucent",onClick:()=>m(),ariaLabel:T("Close")},s.Ay.createElement(P.A,{name:"close"})),s.Ay.createElement(D,{balance:N,className:O.modalBalance}),s.Ay.createElement("div",{className:(0,o.A)(O.header,k&&O.hiddenHeader)},s.Ay.createElement("h2",{className:O.starHeaderText},C("TelegramStars"))),s.Ay.createElement("div",{className:O.section},s.Ay.createElement("img",{className:O.logo,src:v,alt:"",draggable:!1}),s.Ay.createElement("img",{className:O.logoBackground,src:S,alt:"",draggable:!1}),s.Ay.createElement("h2",{className:O.headerText},te?C("StarsNeededTitle",X):C("TelegramStars")),s.Ay.createElement("div",{className:O.description},(0,c.A)(ae||C("TelegramStarsInfo"),["simple_markdown","emoji"])),l&&!U&&s.Ay.createElement(y.A,{className:O.starButton,onClick:J},C("Star.List.BuyMoreStars")),l&&!U&&re&&s.Ay.createElement(y.A,{className:(0,o.A)(O.starButton,"settings-main-menu-star"),color:"translucent",onClick:oe},s.Ay.createElement(w.A,{className:"icon",type:"gold",size:"big"}),C("TelegramStarsGift")),U&&a?.topupOptions&&s.Ay.createElement(g.A,{starsNeeded:te,options:a.topupOptions,onClick:le})),U&&s.Ay.createElement("div",{className:O.tos},ne),se&&Boolean(I?.list.length)&&s.Ay.createElement("div",{className:O.section},s.Ay.createElement("h3",{className:O.sectionTitle},C("StarMySubscriptions")),s.Ay.createElement("div",{className:O.subscriptions},I?.list.map((e=>s.Ay.createElement(F,{key:e.id,subscription:e}))))),se&&s.Ay.createElement("div",{className:O.container},s.Ay.createElement("div",{className:O.section},s.Ay.createElement(K.Ay,{name:T.isRtl?"slideOptimizedRtl":"slideOptimized",activeKey:L,renderCount:$.length,shouldRestoreHeight:!0,className:O.transition},s.Ay.createElement(x.A,{onLoadMore:ie,items:b?.[Z[L]]?.transactions,scrollContainerClosest:`.${O.main}`,itemSelector:`.${ee}`,className:O.transactions,noFastList:!0},b?.[Z[L]]?.transactions.map((e=>s.Ay.createElement(Q,{key:`${e.id}-${e.isRefund}`,transaction:e,className:ee})))))),s.Ay.createElement(M.A,{className:O.tabs,tabClassName:O.tab,activeTab:L,tabs:$,onSwitchTab:z}))))})));var ae=a(29886);const se=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a?.form?.botId?(0,i.mBe)(e,a.form.botId):void 0,r="message"===a?.inputInvoice?.type?a.inputInvoice:void 0,n=r?(0,i.O5q)(e,r.chatId,r.messageId):void 0,o=r?(0,i.hds)(e,r.chatId):void 0,l=n?.content.paidMedia;return{bot:s,starsBalanceState:e.stars,paidMediaMessage:l?n:void 0,paidMediaChat:l?o:void 0}}))((e=>{let{modal:t,bot:a,starsBalanceState:i,paidMediaMessage:l,paidMediaChat:m}=e;const{closeStarsPaymentModal:g,openStarsBalanceModal:h,sendStarPaymentForm:v}=(0,r.ko)(),[E,N,b]=(0,G.A)(),I=Boolean(t?.inputInvoice&&i),C=(0,ae.A)(t),T=t||C,{form:k,subscriptionInfo:P}=T||{},x=k?.invoice?.totalAmount||P?.subscriptionPricing?.amount,M=k?.photo,K=(0,u.A)(),R=(0,B.A)();(0,s.vJ)((()=>{I||b()}),[I]);const L=(0,s.Kr)((()=>{if(!T?.inputInvoice)return"";const e=(0,n.YgS)(a),t=K("Stars.Intro.PurchasedText.Stars",x);if(l){const e=l.content.paidMedia.extendedMedia,a=e.every((e=>!e.duration)),s=e.every((e=>!!e.duration)),r=K(a?"Stars.Transfer.Photos":s?"Stars.Transfer.Videos":"Media",e.length),i=(0,n.JsG)(K,m);return K("Stars.Transfer.UnlockInfo",[r,i,t])}return P?R("StarsSubscribeText",{chat:P.title,amount:x},{withNodes:!0,withMarkdown:!0,pluralValue:x}):K("Stars.Transfer.Info",[k.title,e,t])}),[T,a,K,x,l,P,k,m,R]),z=(0,s.Kr)((()=>{if(P)return R("StarsSubscribeInfo",{link:s.Ay.createElement(A.A,{url:R("StarsSubscribeInfoLink"),text:R("StarsSubscribeInfoLinkText")})},{withNodes:!0})}),[P,R]),U=(0,s.Kr)((()=>{if(P)return(0,n.nrT)(P)}),[P]),F=(0,d.A)((()=>{const e=i?.balance;void 0!==x&&void 0!==e&&(x>e?h({originStarsPayment:t}):(v({}),N()))}));return s.Ay.createElement(f.A,{contentClassName:O.paymentContent,isOpen:I,hasAbsoluteCloseButton:!0,isSlim:!0,onClose:g},s.Ay.createElement(D,{balance:i?.balance,className:O.modalBalance}),s.Ay.createElement("div",{className:O.paymentImages,dir:K.isRtl?"ltr":"rtl"},l?s.Ay.createElement(Y,{media:l.content.paidMedia.extendedMedia}):U?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{className:O.paymentPhoto,peer:U,size:"giant"}),s.Ay.createElement(w.A,{type:"gold",size:"adaptive",className:O.avatarStar})):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{peer:a,size:"giant"}),M&&s.Ay.createElement(p.A,{className:O.paymentPhoto,webPhoto:M,size:"giant"})),s.Ay.createElement("img",{className:O.paymentImageBackground,src:S,alt:"",draggable:!1})),s.Ay.createElement("h2",{className:O.headerText},K(U?"StarsSubscribeTitle":"StarsConfirmPurchaseTitle")),s.Ay.createElement("div",{className:O.description},(0,c.A)(L,["simple_markdown","emoji"])),s.Ay.createElement(y.A,{className:O.paymentButton,size:"smaller",onClick:F,isLoading:E},K("Stars.Transfer.Pay"),s.Ay.createElement("div",{className:O.paymentAmount},x,s.Ay.createElement(w.A,{className:O.paymentButtonStar,size:"small"}))),z&&s.Ay.createElement("div",{className:(0,o.A)(O.disclaimer,O.smallerText)},z))})));var re=a(89925),ne=a(85982),ie=a(79577),oe=a(70046);const le="sso9uZM6",ce=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s="peer"===a?.transaction?.peer?.type&&a.transaction.peer.id,r=s?(0,i.PVB)(e,s):void 0,n=a?.transaction.stars,o=a?.transaction.isGift&&(0,i.WLj)(e,n),l=a?.transaction.starGift?.stickerId,c=l&&(0,i._ni)(e,l);return{peer:r,canPlayAnimatedEmojis:(0,i.BWX)(e),topSticker:c||o}}))((e=>{let{modal:t,peer:a,canPlayAnimatedEmojis:i,topSticker:l}=e;const{showNotification:c,openMediaViewer:m,closeStarsTransactionModal:y}=(0,r.ko)(),f=(0,u.A)(),{transaction:g}=t||{},h=(0,d.A)((()=>{const e=g?.extendedMedia;e&&m({origin:re.TQ.StarsTransaction,standaloneMedia:e.flatMap((e=>Object.values(e)))})})),v=(0,s.Kr)((()=>{if(!g)return;const{giveawayPostId:e,photo:t}=g,r=g.peer&&"peer"!==g.peer.type&&(0,J.Pc)(g.peer)||void 0,m="peer"===g.peer?.type?g.peer.id:void 0,d=g.peer&&f(function(e){switch(e.type){case"appStore":return"AppStore";case"playMarket":return"PlayMarket";case"fragment":return"Fragment";case"premiumBot":return"StarsTransactionBot";case"ads":return"StarsTransactionAds";default:return"Stars.Transaction.Unsupported.Title"}}(g.peer)),u=V(f,g),y=a&&g.messageId?(0,n.ytg)(a,void 0,g.messageId):void 0,v=a&&e&&(0,n.ytg)(a,void 0,e),E=g.extendedMedia,N=E?.length||0,b=E?.every((e=>!e.video)),I=E?.every((e=>!e.photo)),C=f(b?"Stars.Transfer.Photos":I?"Stars.Transfer.Videos":"Media",N),T=g.description||(E?C:void 0),k=!E&&!l,G=t?void 0:a||r,B=s.Ay.createElement("div",{className:(0,o.A)("qBOIq6Jn","VqKkGnpy")},E&&s.Ay.createElement(Y,{className:(0,o.A)("C5r59yiV","transaction-media-preview"),media:E,onClick:h}),!E&&l&&s.Ay.createElement(ie.A,{key:g.id,sticker:l,play:i,noLoop:!0,nonInteractive:!0}),k&&s.Ay.createElement(p.A,{peer:G,webPhoto:t,size:"jumbo"}),s.Ay.createElement("img",{className:(0,o.A)("nML8IQqX"),src:S,alt:"",draggable:!1}),u&&s.Ay.createElement("h1",{className:"ZZAj3hj7"},u),s.Ay.createElement("p",{className:"NuWOY7ED"},T),s.Ay.createElement("p",{className:le},s.Ay.createElement("span",{className:(0,o.A)(le,g.stars<0?"xDyq9cc0":"jvBZSrpd")},(0,J.hk)(g.stars)),s.Ay.createElement(w.A,{type:"gold",size:"middle"}))),x=[];x.push([f(g.stars<0||g.isMyGift?"Stars.Transaction.To":m?"Star.Transaction.From":"Stars.Transaction.Via"),m?{chatId:m}:d||""]),y&&x.push([f("Stars.Transaction.Reaction.Post"),s.Ay.createElement(A.A,{url:y,text:y})]),v&&(x.push([f("BoostReason"),s.Ay.createElement(A.A,{url:v,text:f("Giveaway")})]),x.push([f("Gift"),f("Stars",g.stars,"i")])),g.id&&x.push([f("Stars.Transaction.Id"),s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"tMF8VIOM",onClick:()=>{(0,ne.eM)(g.id),c({message:f("StarsTransactionIDCopied")})}},g.id),s.Ay.createElement(P.A,{className:"voCttFzS",name:"copy"}))]),x.push([f("Stars.Transaction.Date"),(0,L.L2)(1e3*g.date,f.code,!0)]);const M=f("lng_credits_box_out_about").split("{link}");return{header:B,tableData:x,footer:s.Ay.createElement("span",{className:"KgzPpgS6"},M[0],s.Ay.createElement(A.A,{url:f("StarsTOSLink"),text:f("lng_credits_summary_options_about_link")}),M[1])}}),[g,f,a,l,i]),E=(0,ae.A)(v)||v;return s.Ay.createElement(oe.A,{isOpen:Boolean(g),className:"IzhfRIWu",header:E?.header,tableData:E?.tableData,footer:E?.footer,buttonText:f("OK"),onClose:y})}))),me="oBLHWBtJ",de=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a?.subscription.peerId;return{peer:s?(0,i.PVB)(e,s):void 0}}))((e=>{let{modal:t,peer:a}=e;const{closeStarsSubscriptionModal:n,fulfillStarsSubscription:i,changeStarsSubscription:l,checkChatInvite:c,loadStarStatus:m}=(0,r.ko)(),f=(0,u.A)(),g=(0,B.A)(),{subscription:h}=t||{},v=(0,s.Kr)((()=>{if(!h)return"hidden";if(h.canRefulfill)return"refulfill";const e=h.until>Date.now()/1e3;return e&&!h.isCancelled?"cancel":e&&h.isCancelled?"renew":e?"ok":"restart"}),[h]),E=(0,d.A)((()=>{if(h){switch(v){case"refulfill":i({id:h.id});break;case"restart":c({hash:h.chatInviteHash}),m();break;case"renew":l({id:h.id,isCancelled:!1});break;case"cancel":l({id:h.id,isCancelled:!0})}n()}})),b=(0,s.Kr)((()=>{if(!h||!a)return;const{pricing:e,until:t,isCancelled:r,canRefulfill:n}=h,i=s.Ay.createElement("div",{className:(0,o.A)("E3R22yAI","gLkKCjkD")},s.Ay.createElement("div",{className:"wuTMXDP9"},s.Ay.createElement(p.A,{peer:a,size:"jumbo"}),s.Ay.createElement(w.A,{className:"enRetSny",type:"gold",size:"adaptive"})),s.Ay.createElement("img",{className:(0,o.A)("zGCayu45"),src:S,alt:"",draggable:!1}),s.Ay.createElement("h1",{className:"qdydQHgc"},f("StarsSubscriptionTitle")),s.Ay.createElement("p",{className:"FI6rEJlK"},g("StarsPerMonth",{amount:e.amount},{withNodes:!0,specialReplacement:{[N.Cyx]:s.Ay.createElement(w.A,{className:"J8HIcN6k",size:"adaptive",type:"gold"})}}))),l=[];l.push([f("StarsSubscriptionChannel"),{chatId:a.id}]);const c=t<Date.now()/1e3;l.push([f(c?"StarsSubscriptionUntilExpired":r?"StarsSubscriptionUntilExpires":"StarsSubscriptionUntilRenews"),(0,L.L2)(1e3*t,f.code,!0)]);const m=g("StarsTransactionTOS",{link:s.Ay.createElement(A.A,{url:g("StarsTransactionTOSLink"),text:g("StarsTransactionTOSLinkText")})},{withNodes:!0});return{header:i,tableData:l,footer:s.Ay.createElement("span",{className:"GMWMuWCr"},s.Ay.createElement("p",{className:me},m),r&&s.Ay.createElement("p",{className:"nkwiG25Q"},f("StarsSubscriptionCancelledText")),n&&s.Ay.createElement("p",{className:me},f("StarsSubscriptionRefulfillInfo",(0,L.L2)(1e3*t,f.code,!0))),!r&&!n&&c&&s.Ay.createElement("p",{className:me},f("StarsSubscriptionExpiredInfo",(0,L.L2)(1e3*t,f.code,!0))),!r&&!n&&!c&&s.Ay.createElement("p",{className:me},f("StarsSubscriptionCancelInfo",(0,L.L2)(1e3*t,f.code,!0))),"hidden"!==v&&s.Ay.createElement(y.A,{size:"smaller",color:"cancel"===v?"danger":"primary",isText:"cancel"===v,onClick:E},f("cancel"===v?"StarsSubscriptionCancel":"refulfill"===v?"StarsSubscriptionRefulfill":"restart"===v?"StarsSubscriptionAgain":"renew"===v?"StarsSubscriptionRenew":"OK")))}}),[v,g,f,a,h]),I=(0,ae.A)(b)||b;return s.Ay.createElement(oe.A,{isOpen:Boolean(h),className:"eR_RZfGB",header:I?.header,tableData:I?.tableData,footer:I?.footer,onClose:n})})));var ue=a(84991),pe=a(19806),Ae=a(32581),ye=a(66644),fe=a(15283),ge=a(93545),he=a(68292),ve=a(85118);const Se={root:"CuBAw2yg",slider:"euOOAbZi",sparkles:"_L1YQTIP",progress:"kwK0cNPX",floatingBadgeWrapper:"uvlMoXj0",floatingBadge:"BGSDWAYc",floatingBadgeText:"qqQan8uF",floatingBadgeTriangle:"mIdJOmsB"},Ee=[50,100,500,1e3,2e3,5e3,1e4];function Ne(e,t){const a=e.findIndex((e=>t<=e)),s=e[a-1]||1,r=e[a]||e[e.length-1];return a+(t-s)/(r-s)}function be(e,t){const a=Math.floor(t),s=e[a-1]||1,r=s+((e[a]||e[e.length-1])-s)*(t-a);return Math.round(r)}const Ie=(0,s.ph)((e=>{let{maxValue:t,defaultValue:a,className:r,onChange:n}=e;const i=(0,s.li)(null),l=(0,s.Kr)((()=>{const e=[];for(let a=0;a<Ee.length;a++)if(Ee[a]<t&&e.push(Ee[a]),Ee[a]>=t){e.push(t);break}return e}),[t]),[c,m]=(0,s.J0)(0);(0,fe.A)((()=>{m(Ne(l,a))}));const u=(0,d.A)((()=>{const e=i.current;if(!e)return;const t=e.parentElement;(0,ye.YS)((()=>{const a=t.offsetLeft+e.offsetWidth/2,s=t.offsetLeft+t.offsetWidth-e.offsetWidth/2;(0,ye.RK)((()=>{t.style.setProperty("--_min-x",`${a}px`),t.style.setProperty("--_max-x",`${s}px`)}))}))}));(0,ge.A)(i,u);const p=(0,d.A)((e=>{const t=Number(e.currentTarget.value);m(t),n(be(l,t))}));return s.Ay.createElement("div",{className:(0,o.A)(Se.root,r),style:"--progress: "+c/l.length},s.Ay.createElement("div",{className:Se.floatingBadgeWrapper},s.Ay.createElement("div",{className:Se.floatingBadge,ref:i},s.Ay.createElement("div",{className:Se.floatingBadgeText},s.Ay.createElement(P.A,{name:"star",className:Se.floatingBadgeIcon}),s.Ay.createElement(he.A,{text:(0,R.Sm)(be(l,c))})),s.Ay.createElement("svg",{className:Se.floatingBadgeTriangle,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},s.Ay.createElement("defs",null,s.Ay.createElement("linearGradient",{id:"StarBadgeTriangle",x1:"0",x2:"1",y1:"0",y2:"0"},s.Ay.createElement("stop",{offset:"-50%","stop-color":"#FFAA00"}),s.Ay.createElement("stop",{offset:"150%","stop-color":"#FFCD3A"}))),s.Ay.createElement("path",{d:"m 28,4 v 9 c 0.0089,7.283278 -3.302215,5.319646 -6.750951,8.589815 l -5.8284,5.82843 c -0.781,0.78105 -2.0474,0.78104 -2.8284,0 L 6.7638083,21.589815 C 2.8288652,17.959047 0.04527024,20.332086 0,13 V 4 C 0,4 0.00150581,0.97697493 3,1 5.3786658,1.018266 22.594519,0.9142007 25,1 c 2.992326,0.1067311 3,3 3,3 z",fill:"url(#StarBadgeTriangle)"})))),s.Ay.createElement("div",{className:Se.progress}),s.Ay.createElement(ve.A,{preset:"progress",className:Se.sparkles}),s.Ay.createElement("input",{className:Se.slider,type:"range",min:0,max:l.length,defaultValue:Ne(l,a),step:"any",onChange:p}))})),Ce={avatarIcon:"author-hidden",customPeerAvatarColor:"#9eaab5",isCustomPeer:!0,titleKey:"StarsReactionAnonymous"},Te=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a&&(0,i.hds)(e,a.chatId),r=a&&(0,i.O5q)(e,a.chatId,a.messageId),n=e.stars?.balance;return{chat:s,message:r,starBalance:n,maxAmount:e.appConfig?.paidReactionMaxAmount||2500,defaultPrivacy:e.settings.paidReactionPrivacy}}))((e=>{let{modal:t,chat:a,message:o,maxAmount:l,starBalance:m,defaultPrivacy:p}=e;const{closePaidReactionModal:g,addLocalPaidReaction:h}=(0,r.ko)(),[v,S]=(0,s.J0)(50),[E,b,I]=(0,G.A)(),[C,T]=(0,s.J0)(!0),k=(0,u.A)(),w=(0,B.A)(),x=(0,d.A)((e=>{T(e.target.checked)})),M=(0,d.A)((e=>{S(e),b()}));(0,s.vJ)((()=>{t||I()}),[t]),(0,s.vJ)((()=>{const e=o?.reactions?.topReactors?.find((e=>e.isMe));T(e?!e.isAnonymous:p||!0)}),[p,o?.reactions?.topReactors]);const K=(0,d.A)((()=>{t&&(h({chatId:t.chatId,messageId:t.messageId,count:v,isPrivate:!C}),g())})),O=(0,s.Kr)((()=>{const e=(0,r.mS)(),t=o?.reactions?.topReactors;if(!t)return;const a=[];let s=!1;if(t.forEach((t=>{const r=t.peerId?(0,i.mBe)(e,t.peerId):void 0;(r||t.isAnonymous||t.isMe)&&(t.isMe&&(s=!0),a.push({amount:t.count,localAmount:t.isMe&&E?v:0,isMe:t.isMe,isAnonymous:t.isAnonymous,user:r}))})),!s&&E){const t=(0,i.mBe)(e,e.currentUserId);a.push({amount:0,localAmount:v,isMe:!0,user:t})}return a.sort(((e,t)=>t.amount+t.localAmount-(e.amount+e.localAmount))),a.slice(0,3)}),[E,o?.reactions?.topReactors,v]),L=a&&(0,n.JsG)(k,a);return s.Ay.createElement(f.A,{isOpen:Boolean(t),onClose:g,isSlim:!0,hasAbsoluteCloseButton:!0,contentClassName:"RdhRpsCn"},s.Ay.createElement(D,{balance:m,className:"Q3560fzx"}),s.Ay.createElement(Ie,{className:"xePPMXOI",defaultValue:50,maxValue:l,onChange:M}),s.Ay.createElement("h3",{className:"yzbjj73U"},k("StarsReactionTitle")),s.Ay.createElement("div",{className:"BlpfdOtK"},(0,c.A)(k("StarsReactionText",L),["simple_markdown","emoji"])),s.Ay.createElement(Ae.A,null,O&&s.Ay.createElement("div",{className:"bnou4CpV"},k("StarsReactionTopSenders"))),O&&s.Ay.createElement("div",{className:"QludQDKR"},O.map((e=>{const t=(0,R.Sm)(e.amount+e.localAmount),a=e.isAnonymous||!e.user||e.isMe&&!C?Ce:e.user,r="isCustomPeer"in a?k(a.titleKey):(0,n.YgS)(a);return s.Ay.createElement(ue.A,{className:"Ty4Ud_Rd",key:`${e.user?.id||"anonymous"}-${t}`,peer:a,badgeText:t,badgeIcon:"star",badgeClassName:"JBF9pTUK",text:r})}))),s.Ay.createElement(pe.A,{className:"oQ5Ar48z",checked:C,onChange:x,label:k("StarsReactionShowMeInTopSenders")}),s.Ay.createElement(y.A,{size:"smaller",onClick:K},w("SendPaidReaction",{amount:v},{withNodes:!0,specialReplacement:{[N.Cyx]:s.Ay.createElement(P.A,{className:"NJJFuym9",name:"star"})}})),s.Ay.createElement("p",{className:"KRvkHeo1"},w("StarsReactionTerms",{link:s.Ay.createElement(A.A,{text:w("StarsReactionLinkText"),url:w("StarsReactionLink")})},{withNodes:!0})))})));var ke=a(20333),Ge=a(95685),Be=a(22720),Pe=a(63152),we=a(94079);const xe=(0,s.ph)((0,r.EK)(((e,t)=>{let{userId:a}=t;const s=(0,i.SJA)(e),{patternColor:r}=e.settings.themes[s]||{},n=(0,i.mBe)(e,a),o=(0,i.nTw)(e);return{user:n,patternColor:r,captionLimit:e.appConfig?.starGiftMaxMessageLength,currentUserId:e.currentUserId,isPaymentFormLoading:o.isPaymentFormLoading}}))((function(e){let{gift:t,userId:a,user:i,captionLimit:c,patternColor:m,currentUserId:u,isPaymentFormLoading:p}=e;const{sendStarGift:A,openInvoice:f}=(0,r.ko)(),g=(0,B.A)(),[h,v]=(0,s.J0)(""),[S,E]=(0,s.J0)(!1),b="id"in t,I=(0,s.Kr)((()=>b?{id:-1,chatId:u,isOutgoing:!1,senderId:u,date:Math.floor(Date.now()/1e3),content:{action:{targetUserIds:[a],mediaType:"action",text:"ActionGiftInbound",type:"starGift",currency:N.OUy,amount:t.stars,starGift:{message:h?.length?{text:h}:void 0,isNameHidden:S,starsToConvert:t.starsToConvert,isSaved:!1,isConverted:!1,gift:t},translationValues:["%action_origin%","%gift_payment_amount%"]}}}:{id:-1,chatId:"0",isOutgoing:!0,senderId:u,date:Math.floor(Date.now()/1e3),content:{action:{targetUserIds:[a],mediaType:"action",text:"ActionGiftInbound",type:"giftPremium",amount:t.amount,currency:t.currency,months:t.months,message:{text:h},translationValues:["%action_origin%","%gift_payment_amount%"]}}}),[u,t,h,b,S,a]),C=(0,d.A)((e=>{v(e.target.value)})),T=(0,d.A)((()=>{E(!S)})),k=(0,d.A)((()=>{b?A({userId:a,shouldHideName:S,gift:t,message:h?{text:h}:void 0}):f({type:"giftcode",userIds:[a],currency:t.currency,amount:t.amount,option:t,message:h?{text:h}:void 0})}));return s.Ay.createElement("div",{className:(0,o.A)("jKOG0It6","no-scroll")},s.Ay.createElement("div",{className:(0,o.A)("CB1mxsgp","MessageList"),inert:!0,style:`--pattern-color: ${m}`},s.Ay.createElement(Ge.A,{key:b?t.id:t.months,message:I})),function(){const e=c?c-h.length:void 0;return s.Ay.createElement("div",{className:"Y68CEIKn"},s.Ay.createElement(we.A,{className:"o5r2IPoA",onChange:C,value:h,label:g("GiftMessagePlaceholder"),maxLength:c,maxLengthIndicator:e&&e<50?e.toString():void 0}),b&&s.Ay.createElement(Be.A,{className:"zZUpGRSI",narrow:!0,ripple:!0,onClick:T},s.Ay.createElement("span",null,g("GiftHideMyName")),s.Ay.createElement(Pe.A,{checked:S,onChange:T,label:g("GiftHideMyName")})))}(),function(){const e=(0,n.YgS)(i),a=b?(0,l.v)(t.stars,N.OUy,g.code,{iconClassName:"star-amount-icon"}):(0,l.v)(t.amount,t.currency);return s.Ay.createElement("div",{className:"jxWZSvet"},b&&s.Ay.createElement("div",{className:"nTPAv1ci"},g("GiftHideNameDescription",{profile:e,receiver:e})),s.Ay.createElement("div",{className:"ATowWJ60"}),b&&t.availabilityRemains&&s.Ay.createElement(ke.A,{isPrimary:!0,progress:t.availabilityRemains/t.availabilityTotal,rightText:g("GiftSoldCount",{count:t.availabilityTotal-t.availabilityRemains}),leftText:g("GiftLeftCount",{count:t.availabilityRemains}),className:"mWzLu0c0"}),s.Ay.createElement(y.A,{className:"IDuhjrne",onClick:k,isLoading:p},g("GiftSend",{amount:a},{withNodes:!0})))}())})));var Me=a(87049);const Ke="G1mBmzxs",Re="a8no5WH0",Oe=(0,s.ph)((0,r.EK)(((e,t)=>{let{option:a}=t;return{sticker:(0,i.t0O)(e,a.months),canPlayAnimatedEmojis:(0,i.BWX)(e)}}))((function(e){let{sticker:t,canPlayAnimatedEmojis:a,baseMonthAmount:r,option:n,onClick:i}=e;const{months:o,amount:c,currency:m}=n,u=(0,B.A)(),p=(0,d.A)((()=>{i(n)})),A=Math.floor(c/o),f=r&&r>A?Math.ceil(100-A/(r/100)):void 0;return s.Ay.createElement("div",{className:Ke,tabIndex:0,role:"button",onClick:p},s.Ay.createElement(ie.A,{sticker:t,play:a,noLoop:!0,nonInteractive:!0,size:86}),function(){const e=12===o?u("Years",{count:1},{pluralValue:1}):u("Months",{count:o},{pluralValue:o});return s.Ay.createElement("div",{className:"rn9aWFNA"},e)}(),s.Ay.createElement("div",{className:"q4_ydkAx"},u("PremiumGiftDescription")),s.Ay.createElement(y.A,{className:Re,nonInteractive:!0,size:"tiny",pill:!0,fluid:!0},(0,l.A)(c,m)),Boolean(f)&&s.Ay.createElement(Me.A,{color:"red",text:u("GiftDiscount",{percent:f})}))}))),De=(0,s.ph)((0,r.EK)(((e,t)=>{let{gift:a}=t;return{sticker:e.stickers.starGifts.stickers[a.stickerId]}}))((function(e){let{sticker:t,gift:a,onClick:n}=e;const{openGiftInfoModal:i}=(0,r.ko)(),l=(0,B.A)(),{stars:c,isLimited:m,isSoldOut:u}=a,p=(0,d.A)((()=>{u?i({gift:a}):n(a)}));if(t)return s.Ay.createElement("div",{className:(0,o.A)(Ke,"f5ArEO1S"),tabIndex:0,role:"button",onClick:p},s.Ay.createElement(ie.A,{sticker:t,noLoop:!0,nonInteractive:!0,size:90}),s.Ay.createElement(y.A,{className:Re,nonInteractive:!0,size:"tiny",color:"stars",withSparkleEffect:!0,pill:!0,fluid:!0},s.Ay.createElement(P.A,{name:"star",className:"DvJLTVFU"}),s.Ay.createElement("div",{className:"sbo2dMcH"},c)),m&&!u&&s.Ay.createElement(Me.A,{color:"blue",text:l("GiftLimited")}),u&&s.Ay.createElement(Me.A,{color:"red",text:l("GiftSoldOut")}))})));var Le=a(36838);const ze=(0,s.ph)((0,r.EK)((e=>{const{starGiftCategoriesByName:t}=e;return{starGiftCategoriesByName:t}}))((e=>{let{starGiftCategoriesByName:t,onCategoryChanged:a}=e;const r=(0,s.li)(null),n=(0,B.A)(),i=(0,s.Kr)((()=>Object.keys(t).filter((e=>"all"!==e&&"limited"!==e)).map(Number).sort(((e,t)=>e-t))),[t]),[l,c]=(0,s.J0)("all");function m(e){return s.Ay.createElement("div",{className:(0,o.A)("dO7FKYY4",l===e&&"B2lEJk1v"),onClick:()=>function(e){c(e),a(e)}(e)},"all"!==e&&"limited"!==e&&s.Ay.createElement(w.A,{className:"Pb7AU805",type:"gold",size:"middle"}),function(e){return"all"===e?n("AllGiftsCategory"):"limited"===e?n("LimitedGiftsCategory"):e}(e))}return(0,Le.A)(r,void 0,!0),s.Ay.createElement("div",{ref:r,className:(0,o.A)("cUjwvN00","no-scrollbar")},m("all"),m("limited"),i.map(m))}))),Ue={root:"tJK1W0pJ",transition:"pP8TxefR",content:"o3V1HqbL",main:"cVXqeu9P",giftSection:"v4eKefwN",section:"EqfarEYb",starGiftsContainer:"OQX3GZl5",premiumGiftsGallery:"n40m3BK2",header:"iqqoyRgW",headerSlide:"BTWhJUQB",headerText:"lLRmbpIu",hiddenHeader:"XgGzn1cQ",commonHeaderText:"ybZo03if",closeButton:"r_Y5uG1T",balance:"soqAknia",avatars:"N_7tYJKr",logoBackground:"ieK4TzSb",center:"Ey5gX40t",description:"ZioU5h_k",starGiftsDescription:"gFgzS8pV",boostIcon:"Qi2YR6Dz",optionBottom:"RTbClMKE",secondaryInfo:"g0R9GSNq",footer:"J3Gju3bv",starGiftsTransition:"kB6IyXqS"},Fe=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const{starGiftsById:s,starGiftCategoriesByName:r,stars:n}=e,o=a?.forUserId?(0,i.mBe)(e,a.forUserId):void 0;return{boostPerSentGift:e.appConfig?.boostsPerSentGift,starGiftsById:s,starGiftCategoriesByName:r,starBalance:n?.balance,user:o}}))((e=>{let{modal:t,starGiftsById:a,starGiftCategoriesByName:i,starBalance:l,user:c}=e;const{closeGiftModal:g,requestConfetti:h}=(0,r.ko)(),v=(0,s.li)(null),E=(0,s.li)(null),N=(0,s.li)(null),b=Boolean(t),I=(0,m.A)(t),[C,T]=(0,s.J0)(),[k,G]=(0,s.J0)(!0),[P,w]=(0,s.J0)(!1),[x,M]=(0,s.J0)("all"),R=(0,u.A)(),O=(0,B.A)(),L=(0,s.Kr)((()=>I?.gifts?.sort(((e,t)=>e.months-t.months)).filter((e=>1===e.users))),[I]),z=(0,s.Kr)((()=>L?.reduce(((e,t)=>e.amount<t.amount?e:t))),[L]),U=(0,d.A)((()=>{const e=v.current;if(e&&b){const{top:t,left:a,width:s,height:r}=e.querySelector(".modal-content").getBoundingClientRect();h({top:t,left:a,width:s,height:r,withStars:!0})}}));(0,s.vJ)((()=>{I?.isCompleted&&U()}),[I]),(0,s.vJ)((()=>{b||(G(!0),T(void 0))}),[b]);const F=(0,d.A)((e=>{if(C)return;const{scrollTop:t}=e.currentTarget;if(G(t<=150),E.current&&N.current){const{top:e}=N.current.getBoundingClientRect(),{top:t}=E.current.getBoundingClientRect();w(e-t<=0)}})),J=O("GiftPremiumDescription",{user:(0,n.YgS)(c),link:s.Ay.createElement(A.A,{text:O("GiftPremiumDescriptionLinkCaption"),url:O("GiftPremiumDescriptionLink")})},{withNodes:!0}),_=O("StarGiftDescription",{user:(0,n.YgS)(c)},{withNodes:!0}),V=(0,d.A)((e=>{T(e),w("id"in e),G(!1)})),H=(0,d.A)((e=>{M(e)})),j=(0,d.A)((()=>{C?T(void 0):g()})),W=Boolean(C),q=(0,o.A)("animated-close-icon",W&&"state-back");return s.Ay.createElement(f.A,{dialogRef:v,onClose:g,isOpen:b,isSlim:!0,contentClassName:Ue.content,className:(0,o.A)(Ue.modalDialog,Ue.root)},s.Ay.createElement(y.A,{className:Ue.closeButton,round:!0,color:"translucent",size:"smaller",onClick:j,ariaLabel:R(W?"Common.Back":"Common.Close")},s.Ay.createElement("div",{className:q})),s.Ay.createElement(D,{className:Ue.balance,balance:l}),s.Ay.createElement("div",{className:(0,o.A)(Ue.header,k&&Ue.hiddenHeader)},s.Ay.createElement(K.Ay,{name:"slideVerticalFade",activeKey:Number(P),slideClassName:Ue.headerSlide},s.Ay.createElement("h2",{className:Ue.commonHeaderText},O(P?"StarsGiftHeader":"GiftPremiumHeader")))),s.Ay.createElement(K.Ay,{ref:E,className:Ue.transition,name:"pushSlide",activeKey:C?1:0},!C&&s.Ay.createElement("div",{className:(0,o.A)(Ue.main,"custom-scroll"),onScroll:F},s.Ay.createElement("div",{className:Ue.avatars},s.Ay.createElement(p.A,{size:"huge",peer:c}),s.Ay.createElement("img",{className:Ue.logoBackground,src:S,alt:"",draggable:!1})),s.Ay.createElement("h2",{className:(0,o.A)(Ue.headerText,Ue.center)},O("GiftPremiumHeader")),s.Ay.createElement("p",{className:(0,o.A)(Ue.description,Ue.center)},J),s.Ay.createElement("div",{className:Ue.premiumGiftsGallery},L?.map((e=>s.Ay.createElement(Oe,{option:e,baseMonthAmount:z?Math.floor(z.amount/z.months):void 0,onClick:V})))),s.Ay.createElement("h2",{ref:N,className:(0,o.A)(Ue.headerText,Ue.center)},O("StarsGiftHeader")),s.Ay.createElement("p",{className:(0,o.A)(Ue.description,Ue.starGiftsDescription,Ue.center)},_),s.Ay.createElement(ze,{onCategoryChanged:H}),s.Ay.createElement(K.Ay,{name:"zoomFade",activeKey:(Y=x,"all"===Y?-1:"limited"===Y?0:Y),className:Ue.starGiftsTransition},s.Ay.createElement("div",{className:Ue.starGiftsContainer},a&&i[x].map((e=>{const t=a[e];return s.Ay.createElement(De,{gift:t,onClick:V})}))))),C&&I?.forUserId&&s.Ay.createElement(xe,{gift:C,userId:I.forUserId})));var Y})));const Je=(0,s.ph)((0,r.EK)((e=>{const{currentUserId:t}=e;return{currentUserId:t,userIds:e.contactList?.userIds,userSelectionLimit:e.appConfig?.giveawayAddPeersMax}}))((e=>{let{modal:t,currentUserId:a,userIds:i}=e;const{closeGiftRecipientPicker:o,openGiftModal:l}=(0,r.ko)(),c=(0,u.A)(),m=t,[p,A]=(0,s.J0)(""),y=(0,s.Kr)((()=>{const e=(0,r.mS)().users.byId,t=i?(0,n.Z$K)(i,e,p):[];return(0,I.A)((0,b.Am)(t).filter((t=>{const s=e[t];return!s||!(0,n.tvf)(s)&&t!==a})))}),[a,p,i]),f=(0,d.A)((e=>{l({forUserId:e}),o()}));return s.Ay.createElement(T.A,{className:"W3JMs1YE",isOpen:m,onClose:o,title:c("GiftTelegramPremiumOrStarsTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0},s.Ay.createElement(C.A,{className:"wOipz1Y_",itemIds:y,filterValue:p,filterPlaceholder:c("Search"),onSelectedIdChange:f,onFilterChange:A,isSearchable:!0,withDefaultPadding:!0,withStatus:!0}))})));function _e(e,t){return e("StarsAmountText",{amount:t},{pluralValue:t})}function Ve(e,t){return e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[N.Cyx]:s.Ay.createElement(w.A,{type:"gold",className:"star-amount-icon",size:"adaptive"})}})}var He=a(18501);const je=e=>{let{children:t,className:a,onClick:r}=e;return s.Ay.createElement("div",{className:(0,o.A)("hJUqHi4B",a),onClick:r},t)};var We=a(94189),qe=a(96530);const Ye={header:"p7FTs7_p",amount:"zJS3I8BT",title:"pIbzzTir",description:"CCPfr26t",soldOut:"kjWcRp4W",footerDescription:"VUylTszM",unknown:"zDauXmpS",giftValue:"w_E4LkUj"},Xe=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a?.gift,r=s&&"gift"in s,n=r?s.gift:s,o=n?.stickerId,l=o?(0,i._ni)(e,o):void 0,c=r&&s.fromId;return{sticker:l,userFrom:c?(0,i.mBe)(e,c):void 0,targetUser:a?.userId?(0,i.mBe)(e,a.userId):void 0,currentUserId:e.currentUserId,starGiftMaxConvertPeriod:e.appConfig?.starGiftMaxConvertPeriod}}))((e=>{let{modal:t,sticker:a,userFrom:i,targetUser:l,currentUserId:c,starGiftMaxConvertPeriod:A}=e;const{closeGiftInfoModal:f,changeGiftVisilibity:g,convertGiftToStars:h,openChatWithInfo:v}=(0,r.ko)(),[S,E,N]=(0,G.A)(),b=(0,B.A)(),I=(0,u.A)(),C=Boolean(t),T=(0,m.A)(t),{gift:k}=T||{},P=k&&"gift"in k,x=P?k:void 0,M=Boolean(x?.fromId&&x.messageId),K=x?.fromId===c,O=x&&A&&x.date+A-Date.now()/1e3||0,D=Math.ceil(O/60/60/24),z=(0,d.A)((()=>{f()})),U=(0,d.A)((()=>{const{fromId:e,messageId:t,isUnsaved:a}=x;g({userId:e,messageId:t,shouldUnsave:!a}),z()})),F=(0,d.A)((()=>{const{fromId:e,messageId:t}=x;h({userId:e,messageId:t}),N(),z()})),J=(0,d.A)((()=>{v({id:c,profileTab:"gifts"}),z()})),V=(0,s.Kr)((()=>{if(!k)return;const{fromId:e,isNameHidden:t,message:r,starsToConvert:i,isUnsaved:c,isConverted:m}=x||{},d=P?k.gift:k,u=t&&l,A=x?!M&&!K||!i||O<0?void 0:m?M?b("GiftInfoDescriptionConverted",{amount:(0,R.Sm)(i)},{pluralValue:i,withNodes:!0,withMarkdown:!0}):b("GiftInfoDescriptionOutConverted",{amount:(0,R.Sm)(i),user:(0,n.YgS)(l)},{pluralValue:i,withNodes:!0,withMarkdown:!0}):M?b("GiftInfoDescription",{amount:i},{withNodes:!0,withMarkdown:!0,pluralValue:i}):b("GiftInfoDescriptionOut",{amount:i,user:(0,n.YgS)(l)},{withNodes:!0,withMarkdown:!0,pluralValue:i}):b("GiftInfoSoldOutDescription"),f=s.Ay.createElement("div",{className:Ye.header},s.Ay.createElement(ie.A,{sticker:a,noLoop:!0,nonInteractive:!0,size:120}),s.Ay.createElement("h1",{className:Ye.title},!x&&b("GiftInfoSoldOutTitle"),x&&b(M?"GiftInfoReceived":"GiftInfoTitle")),x&&s.Ay.createElement("p",{className:Ye.amount},s.Ay.createElement("span",{className:Ye.amount},(0,R.Sm)(d.stars)),s.Ay.createElement(w.A,{type:"gold",size:"middle"})),A&&s.Ay.createElement("p",{className:(0,o.A)(Ye.description,!x&&Ye.soldOut)},A)),g=[];return(e||t)&&g.push([b("GiftInfoFrom"),e?{chatId:e}:s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{size:"small",peer:_.I5}),s.Ay.createElement("span",{className:Ye.unknown},I(_.I5.titleKey)))]),x?.date&&g.push([b("GiftInfoDate"),(0,L.L2)(1e3*x.date,b.code,!0)]),d.firstSaleDate&&g.push([b("GiftInfoFirstSale"),(0,L.L2)(1e3*d.firstSaleDate,b.code,!0)]),d.lastSaleDate&&g.push([b("GiftInfoLastSale"),(0,L.L2)(1e3*d.lastSaleDate,b.code,!0)]),g.push([b("GiftInfoValue"),s.Ay.createElement("div",{className:Ye.giftValue},Ve(b,d.stars),M&&O>0&&Boolean(i)&&s.Ay.createElement(je,{onClick:E},b("GiftInfoConvert",{amount:i},{pluralValue:i})))]),d.availabilityTotal&&g.push([b("GiftInfoAvailability"),b("GiftInfoAvailabilityValue",{count:d.availabilityRemains||0,total:d.availabilityTotal},{pluralValue:d.availabilityRemains||0})]),r&&g.push([void 0,(0,He.f)(r)]),{header:f,tableData:g,footer:s.Ay.createElement("div",{className:Ye.footer},M&&s.Ay.createElement("div",{className:Ye.footerDescription},s.Ay.createElement("div",null,c?b("GiftInfoHidden"):b("GiftInfoSaved",{link:s.Ay.createElement(qe.A,{isPrimary:!0,onClick:J},b("GiftInfoSavedView"))},{withNodes:!0})),u&&s.Ay.createElement("div",null,b("GiftInfoSenderHidden"))),!M&&s.Ay.createElement(y.A,{size:"smaller",onClick:z},b("OK")),M&&s.Ay.createElement(y.A,{size:"smaller",onClick:U},b(c?"GiftInfoMakeVisible":"GiftInfoMakeInvisible")))}}),[k,x,P,l,a,b,M,O,K,I]);return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(oe.A,{isOpen:C,header:V?.header,tableData:V?.tableData,footer:V?.footer,onClose:z}),x&&s.Ay.createElement(We.A,{isOpen:S,onClose:N,confirmHandler:F,title:b("GiftInfoConvertTitle")},s.Ay.createElement("div",null,b("GiftInfoConvertDescription1",{amount:_e(b,x.starsToConvert),user:(0,n.YgS)(i)},{withNodes:!0,withMarkdown:!0})),O>0&&s.Ay.createElement("div",null,b("GiftInfoConvertDescriptionPeriod",{count:D},{withNodes:!0,withMarkdown:!0,pluralValue:D})),s.Ay.createElement("div",null,b("GiftInfoConvertDescription2"))))})))},84991:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(84051),r=a(87357),n=a(21849),i=a(18276);const o={root:"hyRfEyRz",top:"p_Ny8jqJ",badge:"QRrryqp4",text:"I5jdPgFL"},l=(0,s.ph)((e=>{let{peer:t,text:a,badgeText:l,badgeIcon:c,className:m,badgeClassName:d,badgeIconClassName:u,textClassName:p,onClick:A}=e;return s.Ay.createElement("div",{className:(0,r.A)(o.root,A&&o.clickable,m),onClick:A},s.Ay.createElement("div",{className:o.top},s.Ay.createElement(n.A,{size:"large",peer:t}),l&&s.Ay.createElement("div",{className:(0,r.A)(o.badge,d)},c&&s.Ay.createElement(i.A,{name:c,className:u}),l)),a&&s.Ay.createElement("p",{className:(0,r.A)(o.text,p)},a))}))},34642:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(84051),r=a(87357),n=a(59030),i=a(64493),o=a(8410);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l.apply(this,arguments)}const c=(0,s.ph)((e=>{let{confirmButtonText:t,isConfirmDisabled:a,shouldAdaptToSearch:c,withFixedHeight:m,onConfirm:d,withPremiumGradient:u,...p}=e;const A=(0,n.A)(),y=Boolean(t||d);return s.Ay.createElement(o.A,l({},p,{isSlim:!0,className:(0,r.A)(c&&"WGSZ8u75",m&&"CrEsDylb",p.className),contentClassName:(0,r.A)("FuFYE0AA",p.contentClassName),headerClassName:(0,r.A)("iEptOmIp",p.headerClassName)}),p.children,y&&s.Ay.createElement("div",{className:"HqeDTaSr"},s.Ay.createElement(i.A,{withPremiumGradient:u,onClick:d||p.onClose,color:"primary",size:"smaller",disabled:a},t||A("Confirm"))))}))},70046:(e,t,a)=>{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),n=a(87357),i=a(17712),o=a(21849),l=a(71690),c=a(64493),m=a(8410);const d="Cnh5ENvm",u=(0,s.ph)((e=>{let{isOpen:t,title:a,tableData:u,headerAvatarPeer:p,header:A,footer:y,buttonText:f,className:g,onClose:h,onButtonClick:v}=e;const{openChat:S}=(0,r.ko)(),E=(0,i.A)((e=>{S({id:e}),h()}));return s.Ay.createElement(m.A,{isOpen:t,hasCloseButton:Boolean(a),hasAbsoluteCloseButton:!a,isSlim:!0,title:a,className:g,contentClassName:"KYHkJ9Qf",onClose:h},p&&s.Ay.createElement(o.A,{peer:p,size:"jumbo",className:"SHQbPR5Y"}),A,s.Ay.createElement("div",{className:"DFRB0Ad4"},u?.map((e=>{let[t,a]=e;return s.Ay.createElement(s.Ay.Fragment,null,t&&s.Ay.createElement("div",{className:(0,n.A)(d,"AwnUe4Qk")},t),s.Ay.createElement("div",{className:(0,n.A)(d,"JGH6P9Az",!t&&"UssCZwgy")},"object"==typeof a&&"chatId"in a?s.Ay.createElement(l.A,{peerId:a.chatId,className:"aS9U4hiQ",forceShowSelf:!0,fluid:!0,clickArg:a.chatId,onClick:E}):a))}))),y,f&&s.Ay.createElement(c.A,{className:y?void 0:"cSamlkt9",size:"smaller",onClick:v||h},f))}))},1526:(e,t,a)=>{a.d(t,{A:()=>y});var s=a(84051),r=a(87357),n=a(17142),i=a(14242),o=a(4961),l=a(37661),c=a(39351),m=a(59030),d=a(18276),u=a(9267),p=a(64493);const A={options:"OnCj9kef",option:"tpTHQAUF",active:"U_9MXPG5",wideOption:"dJcJl33b",optionTop:"x9G4lqMf",stackedStars:"etXLebjM",stackedStar:"swttXv9P",optionBottom:"tK7La7L2",moreOptions:"AWXBaWLW",iconDown:"zWYHZJmd"},y=(0,s.ph)((e=>{let{isActive:t,className:a,options:y,selectedStarOption:f,selectedStarCount:g,starsNeeded:h,onClick:v}=e;const S=(0,m.A)(),E=(0,c.A)(),[N,b,I]=(0,l.A)();(0,s.vJ)((()=>{t||I()}),[t]);const[C,T]=(0,s.Kr)((()=>{if(!y)return[void 0,!1];const e=y.reduce(((e,t)=>e.stars>t.stars?e:t)),t=h&&e.stars<h,a=[];let s=0,r=!1;return y.forEach(((e,n)=>{e.isExtended||s++,h&&!t&&e.stars<h||(N||!e.isExtended?a.push({option:e,starsCount:Math.min(s,6),isWide:n===y.length-1}):r=!0)})),[a,r]}),[N,y,h]);return s.Ay.createElement("div",{className:(0,r.A)(A.options,a)},C?.map((e=>{let{option:t,starsCount:a,isWide:l}=e;const c=C?.length,m=c%2==0,d=t===f;let p;if(t&&"winners"in t){const e=t.winners.find((e=>e.users===g))||t.winners.reduce(((e,t)=>t.users>e.users?t:e),t.winners[0]);p=e?.perUserStars}return s.Ay.createElement("div",{className:(0,r.A)(A.option,!m&&l&&A.wideOption,d&&A.active),key:t.stars,onClick:()=>v?.(t)},s.Ay.createElement("div",{className:A.optionTop},"+",(0,i.Sm)(t.stars),s.Ay.createElement("div",{className:A.stackedStars,dir:E.isRtl?"ltr":"rtl"},Array.from({length:a}).map((()=>s.Ay.createElement(u.A,{className:A.stackedStar,type:"gold",size:"big"}))))),s.Ay.createElement("div",{className:A.optionBottom},(0,n.v)(t.amount,t.currency,S.code)),(d||f&&"winners"in f)&&p&&s.Ay.createElement("div",{className:A.optionBottom},s.Ay.createElement("div",{className:A.perUserStars},(0,o.A)(S("BoostGift.Stars.PerUser",(0,i.Sm)(p))))))})),!N&&T&&s.Ay.createElement(p.A,{className:A.moreOptions,isText:!0,noForcedUpperCase:!0,onClick:b},S("Stars.Purchase.ShowMore"),s.Ay.createElement(d.A,{className:A.iconDown,name:"down"})))}))},86046:(e,t,a)=>{a.d(t,{D5:()=>c,M6:()=>l,Pc:()=>i,hk:()=>o,jA:()=>n});var s=a(14242),r=a(29807);function n(e,t){if("slug"===t.type)return t;if("stargift"===t.type){const{userId:a,shouldHideName:s,giftId:n,message:i}=t,o=(0,r.mBe)(e,a);if(!o)return;return{type:"stargift",user:o,shouldHideName:s,giftId:n,message:i}}if("starsgift"===t.type){const{userId:a,stars:s,amount:n,currency:i}=t,o=(0,r.mBe)(e,a);if(!o)return;return{type:"stars",purpose:{type:"starsgift",user:o,stars:s,amount:n,currency:i}}}if("stars"===t.type){const{stars:e,amount:a,currency:s}=t;return{type:"stars",purpose:{type:"stars",stars:e,amount:a,currency:s}}}if("chatInviteSubscription"===t.type){const{hash:e}=t;return{type:"chatInviteSubscription",hash:e}}if("message"===t.type){const a=(0,r.hds)(e,t.chatId);if(!a)return;return{type:"message",chat:a,messageId:t.messageId}}if("giftcode"===t.type){const{userIds:a,boostChannelId:s,amount:n,currency:i,option:o,message:l}=t;return{type:"giveaway",option:o,purpose:{type:"giftcode",amount:n,currency:i,users:a.map((t=>(0,r.mBe)(e,t))).filter(Boolean),boostChannel:s?(0,r.hds)(e,s):void 0,message:l}}}if("starsgiveaway"===t.type){const{chatId:a,additionalChannelIds:s,amount:n,currency:i,untilDate:o,areWinnersVisible:l,countries:c,isOnlyForNewSubscribers:m,prizeDescription:d,stars:u,users:p}=t,A=(0,r.hds)(e,a);if(!A)return;const y=s?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"starsgiveaway",purpose:{type:"starsgiveaway",amount:n,currency:i,chat:A,additionalChannels:y,untilDate:o,areWinnersVisible:l,countries:c,isOnlyForNewSubscribers:m,prizeDescription:d,stars:u,users:p}}}if("giveaway"===t.type){const{chatId:a,additionalChannelIds:s,amount:n,currency:i,option:o,untilDate:l,areWinnersVisible:c,countries:m,isOnlyForNewSubscribers:d,prizeDescription:u}=t,p=(0,r.hds)(e,a);if(!p)return;const A=s?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"giveaway",option:o,purpose:{type:"giveaway",amount:n,currency:i,chat:p,additionalChannels:A,untilDate:l,areWinnersVisible:c,countries:m,isOnlyForNewSubscribers:d,prizeDescription:u}}}}function i(e){return"appStore"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.AppleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.AppleTopUp.Subtitle",peerColorId:5}:"playMarket"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.GoogleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.GoogleTopUp.Subtitle",peerColorId:3}:"fragment"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.FragmentTopUp.Title",subtitleKey:"Stars.Intro.Transaction.FragmentTopUp.Subtitle",customPeerAvatarColor:"#000000"}:"premiumBot"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Title",subtitleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Subtitle",peerColorId:1,withPremiumGradient:!0}:"ads"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.TelegramAds.Title",subtitleKey:"Stars.Intro.Transaction.TelegramAds.Subtitle",peerColorId:2}:{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.Unsupported.Title",subtitleKey:"Stars.Intro.Transaction.Unsupported.Title",peerColorId:0}}function o(e){return e<0?`- ${(0,s.Sm)(Math.abs(e))}`:`+ ${(0,s.Sm)(e)}`}function l(e){const{action:t}=e.content;if("giftStars"!==t?.type)return;const{transactionId:a,stars:s}=t;return{id:a,stars:s,peer:{type:"peer",id:e.isOutgoing?e.chatId:e.senderId||e.chatId},date:e.date,isGift:!0,isMyGift:e.isOutgoing||void 0}}function c(e){const{action:t}=e.content;if("prizeStars"!==t?.type)return;const{transactionId:a,stars:s,targetChatId:r}=t;return{id:a,stars:s,peer:{type:"peer",id:r},date:e.date,giveawayPostId:e.id}}}}]);
//# sourceMappingURL=6930.4f3ca79eee0181a63a64.js.map