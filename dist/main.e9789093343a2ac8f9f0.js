(()=>{"use strict";var e,t,n,o,r={14:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(73767);function r(e,t=!1,n=!1){const r=(0,o.A)(e,t);return n||null!=e?e:r}},38:(e,t,n)=>{function o(e){return{publicKey:PublicKeyCredential.parseCreationOptionsFromJSON(e.publicKey)}}function r(e){return{publicKey:PublicKeyCredential.parseRequestOptionsFromJSON(e.publicKey)}}n.d(t,{C:()=>o,I:()=>r})},188:(e,t,n)=>{n.d(t,{k:()=>i});var o=n(14487),r=n(32989),s=n(13439);function i(e,t){(0,s.aJ)(e,(e,n,s)=>{const{tabId:i=(0,o.g0)()}=s||{};return(0,r.w)(e,{[t]:void 0},i)})}},529:(e,t,n)=>{let o;n.d(t,{A:()=>r,l:()=>s});try{o=/[^\p{L}\p{M}]+/iu}catch(e){o=/[^\wÐ°-ÑÑ‘Ò‘Ñ”Ñ–Ñ—]+/i}function r(e,t){if(!e||!t)return!1;const n="string"==typeof t?t.toLowerCase().split(o):t,r=e.toLowerCase();if(1===n.length&&!r.includes(n[0]))return!1;let s;return n.every(e=>!!r.includes(e)&&(s||(s=r.split(o)),s.some(t=>t.startsWith(e))))}function s(e){const t=e.toLowerCase().split(o);return e=>r(e,t)}},672:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(37836);function s(e,t,n,s=!1){const i=(0,o.hb)(e,t);return(0,o.Kr)(()=>"number"==typeof n?(0,r.nF)(i,n,!s):(0,r.nb)(n,i),[i,n,s])}},1903:(e,t,n)=>{n.d(t,{Ms:()=>d,R3:()=>h,V9:()=>i,_$:()=>l,_b:()=>c,dN:()=>f,gV:()=>u,gd:()=>a,tW:()=>p});var o=n(14487),r=n(46211),s=n(5056);function i(e,...[t=(0,o.g0)()]){const{storyViewer:{peerId:n,storyId:r}}=(0,s.n)(e,t);return{peerId:n,storyId:r}}function a(e,...[t=(0,o.g0)()]){const{peerId:n,storyId:r}=i(e,t);return Boolean(n)&&Boolean(r)}function c(e,t){return e.stories.byPeerId[t]}function d(e,t,n){return c(e,t)?.byId[n]}function u(e,t){const n=c(e,t);if(n?.pinnedIds?.length)return n.pinnedIds.map(e=>n.byId[e]).filter(e=>e&&"isInProfile"in e&&e.isInProfile)}function l(e,t){const n=c(e,t);if(!n)return;if(!n.lastReadId)return n.orderedIds?.[0];const o=n.orderedIds.findIndex(e=>e===n.lastReadId);return n.orderedIds?.[o+1]}function f(e,t){return c(e,t)?.orderedIds?.[0]}function h(e,t,n,o,s,i,a){const c=n||l(e,t)||f(e,t);if(!c)return;if(o)return{peerIds:[t],storyIdsByPeerId:{[t]:[c]}};const u=(0,r.PV)(e,t),h=d(e,t,c);if(!u||!h)return;const p=(e.stories.byPeerId[t].lastReadId||0)<h.id;if(s){const n=m(e,t,p,a,i);return n?.length?{peerIds:[t],storyIdsByPeerId:{[t]:n}}:void 0}const{orderedPeerIds:{active:g,archived:y}}=e.stories,b=(u.areStoriesHidden?y:g)??[],v=[],w={};for(const t of b){const n=m(e,t,p,a,i);n?.length&&(v.push(t),w[t]=n)}return v.length?{peerIds:v,storyIdsByPeerId:w}:void 0}function m(e,t,n,o,r){const s=c(e,t),i=o?"archiveIds":r?"profileIds":"orderedIds",a=s?.[i];if(!s||!a?.length)return;if(!s.lastReadId||!n)return a.slice();const d=a.indexOf(s.lastReadId);return a.length>d+1?a.slice(d+1):void 0}function p(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).selectedStoryAlbumId||"all"}},2188:(e,t,n)=>{n.d(t,{H:()=>d});var o=n(31481),r=n(14487),s=n(37836);let i,a=!0;window.addEventListener("error",u),window.addEventListener("unhandledrejection",u),o.Oig&&(window.addEventListener("focus",()=>{(0,r.ve)()&&(a=!0,i&&(window.alert(l(i)),i=void 0))}),window.addEventListener("blur",()=>{(0,r.ve)()&&(a=!1)}));const c=(0,s.nF)(e=>{a?window.alert(l(e)):i=e},1500);function d(e){console.error(e),o.Oig&&c(e)}function u(e){if(e instanceof ErrorEvent){if("ResizeObserver loop limit exceeded"===e.message)return;if(e.message.includes("A wait of"))return}e.preventDefault(),d(e instanceof ErrorEvent?e.error||e.message:e.reason)}function l(e){return`${o.FHx}\n\n${e?.message||e}\n${e?.stack}`}},2338:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(13439),s=n(91048),i=n(56494);function a(e){const t=e&&"content"in e,n=(0,r.mS)(),a=t?(0,i.if)(n,e):e?.dataUri,c=(0,s.SJA)(n);return(0,o.Kr)(()=>{const e=a;return e&&"dark"===c?e.replace("<svg",'<svg fill="white"'):e},[a,c])}},3325:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(61433);const s=({containerSelector:e,className:t,children:n})=>{const s=(0,o.li)();return s.current||(s.current=document.createElement("div")),(0,o.Nf)(()=>{const n=document.querySelector(e||"#portals");if(!n)return;const o=s.current;return t&&o.classList.add(t),n.appendChild(o),()=>{r.Ay.render(void 0,o),n.removeChild(o)}},[t,e]),r.Ay.render(n,s.current)}},3544:(e,t,n)=>{n.d(t,{GG:()=>f,Gn:()=>u,Su:()=>l,dS:()=>d,oL:()=>h,vs:()=>c});var o=n(23174),r=n(58849),s=n(18501),i=n(86525);const a=["â º","â µ","â ž","â Ÿ"],c=200;function d(e,t,n,o=!1,s=c,i=!1){const a=!o&&l(t);return`${a?`${a} `:""}${h(e,t,n,(0,r.A)(u(e,t,n),s),i)}`}function u(e,t,n){const r=(0,i.WD)(t),s=(0,i.BN)(e,n?.story||t)?.text;if(!s)return r;const{entities:c}=t.content.text||{};if(!c?.length)return r?`${r}\n${s}`:s;const d=c.reduce((e,{type:t,offset:n,length:r})=>{if(t!==o.C7.Spoiler)return e;const s=function(e){return new Array(e).fill(void 0).map(()=>a[Math.floor(Math.random()*a.length)]).join("")}(r);return`${e.slice(0,n)}${s}${e.slice(n+r)}`},s);return r?`${r}\n${d}`:d}function l(e){const{photo:t,video:n,audio:o,voice:r,document:s,sticker:i,pollId:a,paidMedia:c,todo:d}=e.content;return e.groupedId||t||c?"ðŸ–¼":n?"ðŸ“¹":i?i.emoji:o?"ðŸŽ§":r?"ðŸŽ¤":s?"ðŸ“Ž":a?"ðŸ“Š":d?"ðŸ“":void 0}function f(e,t,n){return m(e,t,n)}function h(e,t,n,o,r=!1){return m(e,t.content,n,t,o,r)}function m(e,t,n,o,r,i=!1){const{text:a,photo:c,video:d,audio:u,voice:l,document:f,sticker:h,contact:m,invoice:p,location:g,game:y,storyData:b,giveaway:v,giveawayResults:w,paidMedia:I,todo:C,dice:A}=t,{poll:S}=n||{};let k,P=!1;const T=I?.isBought&&I.extendedMedia,M=I&&!I.isBought?I.extendedMedia:void 0,E=I&&I.extendedMedia.length>1,N=!E&&(T?.[0].video||M?.[0].duration),L=!E&&!N;return(o?.groupedId||E)&&(P=!0,k=r||e("Album")),(c||L)&&(P=!0,k=r||e("AttachPhoto")),(d||N)&&(P=!0,k=r||e(d?.isGif?"AttachGif":"AttachVideo")),h&&(k=e("AttachSticker").trim()),u&&(k=function(e){const{audio:t,text:n}=e;return t&&[t.title,t.performer].filter(Boolean).join(" â€” ")||n?.text}(t)||e("AttachMusic")),l&&(P=!0,k=r||e("AttachAudio")),f&&(P=!i,k=i?f.fileName:r||f.fileName),m&&(k=e("AttachContact")),S&&(k=(0,s.fd)({text:S.summary.question.text,entities:S.summary.question.entities,asPreview:!0})),p&&(k=p.extendedMedia?p.title:e("AttachInvoice",{description:p.description})),a&&(i&&k&&!P?k+=`\n${r}`:k=r),"geo"!==g?.mediaType&&"venue"!==g?.mediaType||(k=e("AttachLocation")),"geoLive"===g?.mediaType&&(k=e("AttachLiveLocation")),y&&(k=`ðŸŽ® ${y.title}`),v&&(k=e("AttachGiveaway")),w&&(k=e("AttachGiveawayResults")),b&&(k=r||e("AttachStory")),C&&(k=(0,s.fd)({text:C.todo.title.text,entities:C.todo.title.entities,asPreview:!0})),A&&(k=A.emoticon),k||e("MessageUnsupported")}},4029:(e,t,n)=>{n.d(t,{S:()=>i,a:()=>s});var o=n(13439);let r;function s(){window.addEventListener("beforeinstallprompt",e=>{r=async()=>{e.prompt(),"accepted"===(await e.userChoice).outcome&&(0,o.ko)().setInstallPrompt({canInstall:!1})},(0,o.ko)().setInstallPrompt({canInstall:!0})})}function i(){return r}},4262:(e,t,n)=>{n.d(t,{AD:()=>l,I$:()=>f,Nm:()=>h,U5:()=>p,fB:()=>g,sB:()=>m});var o=n(13439),r=n(90709),s=n(96454),i=n(87357),a=n(4961),c=n(96530),d=n(50805),u=n(20021);function l(e,t,n,o,r){const{pluralValue:s,asText:i,withMarkdown:a,renderTextFilters:c}=r||{};return e(n?`${t}You`:t,o,{withNodes:!i,withMarkdown:a,pluralValue:s,renderTextFilters:c})}function f(e,t){const{audio:n,contact:o,document:s,game:i,giveaway:a,giveawayResults:c,paidMedia:d,storyData:u,invoice:l,location:f,photo:h,pollId:m,sticker:p,video:g,voice:y,dice:b}=(0,r.r_)(t);return t.groupedId||d?e("ActionPinnedMediaAlbum"):h?e("ActionPinnedMediaPhoto"):n?e("ActionPinnedMediaAudio"):y?e("ActionPinnedMediaVoice"):g?.isRound?e("ActionPinnedMediaVideoMessage"):g?.isGif?e("ActionPinnedMediaGif"):g?e("ActionPinnedMediaVideo"):p?e("ActionPinnedMediaSticker"):s?e("ActionPinnedMediaFile"):o?e("ActionPinnedMediaContact"):f?e("ActionPinnedMediaLocation"):u?e("ActionPinnedMediaStory"):l?e("ActionPinnedMediaInvoice"):i?e("ActionPinnedMediaGame",{game:i.title}):m?e("ActionPinnedMediaPoll"):a?e("ActionPinnedMediaGiveaway"):c?e("ActionPinnedMediaGiveawayResults"):b?b.emoticon:void 0}function h(e,t,n){return!e||n?(0,a.A)(t):(0,u.Y)(c.A,{className:(0,i.A)(d.A.peerLink,d.A.strong),onClick:t=>{t.stopPropagation(),(0,o.ko)().openChat({id:e})},withMultilineFix:s.Yw,children:(0,a.A)(t)})}function m(e,t,n,r){const{noEllipsis:a}=r||{};return n||!e?t:(0,u.Y)(c.A,{className:(0,i.A)(d.A.messageLink,a&&d.A.noEllipsis),onClick:t=>{t.stopPropagation(),(0,o.ko)().focusMessage({chatId:e.chatId,messageId:e.id})},withMultilineFix:s.Yw,children:t})}function p(e,t,n,r){return r?n:(0,u.Y)(c.A,{className:d.A.topicLink,onClick:n=>{n.stopPropagation(),(0,o.ko)().openThread({chatId:e,threadId:t})},withMultilineFix:s.Yw,children:n})}function g(e,t){const n="missed"===e.reason,o="busy"===e.reason||void 0===e.duration;return e.isVideo?n?t?"CallMessageVideoOutgoingMissed":"CallMessageVideoIncomingMissed":o?"CallMessageVideoIncomingDeclined":t?"CallMessageVideoOutgoing":"CallMessageVideoIncoming":n?t?"CallMessageOutgoingMissed":"CallMessageIncomingMissed":o?"CallMessageIncomingDeclined":t?"CallMessageOutgoing":"CallMessageIncoming"}},4350:(e,t,n)=>{n.d(t,{Nv:()=>g,Ph:()=>m,Xz:()=>i,a9:()=>c,gD:()=>p,pg:()=>u,pn:()=>d,rL:()=>a,zk:()=>l});var o=n(31481),r=n(63495);const s="undefined"!=typeof WorkerGlobalScope&&globalThis.self instanceof WorkerGlobalScope?globalThis.self.name:void 0,i=(s?Number(new URLSearchParams(s).get(o.r6P)):void 0)||(r.vM?function(e){const t=new URL(e).searchParams.get(o.r6P),n=t?Number(t):1;return!n||Number.isNaN(n)||1===n?void 0:n}(globalThis.location.href):void 0),a=`${o.YAK}_${i||1}`,c=`${o.L3V}_${i||1}`,d=`${o.z2M}_${i||1}`,u=i?`${o.iJx}_${i}`:o.iJx;function l(){if(!r.vM)return{};const e=Object.keys(localStorage).filter(e=>e.startsWith(o.um6)),t={};for(const n of e){const e=Number(n.slice(o.um6.length)),r=f(e);r&&(t[e]=r)}return t}function f(e){const t=h(e),{userId:n,avatarUri:o,color:r,emojiStatusId:s,firstName:i,lastName:a,isPremium:c,isTest:d,phone:u}=t||{};if(n)return{userId:n,avatarUri:o,color:r,emojiStatusId:s,firstName:i,lastName:a,isPremium:c,isTest:d,phone:u}}function h(e){try{const t=JSON.parse(localStorage.getItem(`${o.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function m(e,t){const n=h(e);if(!n)return;const o={...n,...t};o.userId&&p(e,o)}function p(e,t){localStorage.setItem(`${o.um6}${e||1}`,JSON.stringify(t))}function g(e,t,n){const r=new URL(globalThis.location.href);return 1!==e?r.searchParams.set(o.r6P,String(e)):r.searchParams.delete(o.r6P),n?r.searchParams.set("test","true"):r.searchParams.delete("test"),r.hash=t?"login":"",r.toString()}if("object"==typeof window){const e=new BroadcastChannel("tt-version");e.postMessage({version:"12.0.17"}),e.addEventListener("message",t=>{const{version:n}=t.data;n&&(-1===y("12.0.17",n)&&window.location.reload(),1===y("12.0.17",n)&&e.postMessage({version:"12.0.17"}))})}function y(e,t){return e.startsWith(`${t}-`)?-1:t.startsWith(`${e}-`)?1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}},4438:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(84051),r=n(87357),s=n(37661),i=n(17712),a=n(83057),c=n(18104),d=n(20021);const u=150,l=(0,o.ph)(function(e){const{size:t=u,play:n=!0,noLoop:l=!0,className:f,noTransition:h,nonInteractive:m,onLoad:p,onClick:g,...y}=e,[b,v]=(0,s.A)(!1),w=(0,a.A)(h||b),I=(0,i.A)(()=>{v(),p?.()}),[C,A]=(0,o.J0)(()=>String(Math.random())),S=(0,i.A)(()=>{!0===n&&A(String(Math.random())),g?.()});return(0,d.Y)(c.A,{className:(0,r.A)(f,w),size:t,play:!0===n?C:n,noLoop:l,onClick:m?void 0:S,onLoad:I,...y})})},4875:(e,t,n)=>{n.d(t,{px:()=>B,eZ:()=>L,om:()=>F,Ar:()=>x,PH:()=>O,Hn:()=>D,Ru:()=>T,eu:()=>N,iB:()=>E,fj:()=>M});var o=n(31481),r=n(63495),s=n(61182),i=n(9705),a=n(14487),c=n(14235),d=n(4350),u=n(37836);const l=150,f=5e3,h=new Set(["destroy"]);let m;const p=new Map,g=new Map;let y=[];const b={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let v=!0;(0,a.wr)(e=>{v=e});const w=new BroadcastChannel(d.rL),I=(0,u.Fe)(()=>{const e=y;y=[],m?.postMessage({payloads:e})});function C(e){y.push(e),I()}let A,S=[],k=[],P=!1;function T(e,t){if(A=e,!v)return function(e){w.postMessage({type:"initApi",token:(0,a.g0)(),initialArgs:e})}(t),Promise.resolve();if(!m){o.Oig&&console.log(">>> START LOAD WORKER");const i=new URLSearchParams;d.Xz&&i.set("account",String(d.Xz)),m=new Worker(new URL(n.p+n.u(81),n.b),{name:i.toString()}),function(e){m?.addEventListener("message",({data:t})=>{t?.payloads.forEach(t=>{if("updates"===t.type){let n;if(o.Oig&&(n=performance.now()),t.updates.forEach(e),o.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)D(t);else if("methodCallback"===t.type)O(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&o.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,s.bO)(t.level,...t.args)}})})}(e),("iOS"===t.platform||"macOS"===t.platform&&r.Vq)&&window.addEventListener("focus",()=>{_(),setTimeout(()=>_(),1e3)})}return R({type:"initApi",args:[t,b]}).then(()=>{P=!0,k.forEach(e=>{B(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),k=[],S.forEach(e=>{L(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),S=[]})}function M(e,t,n){b[e][t]=n}function E(e){Object.assign(b,e)}function N(e){return R({type:"toggleDebugMode",isEnabled:e})}function L(e,...t){if(!P){if(h.has(e))return Promise.resolve(void 0);const n=new i.A;return S.push({fnName:e,args:t,deferred:n}),n.promise}const n=R({type:"callMethod",name:e,args:t});return o.Oig&&(async()=>{try{await n}catch(e){}})(),n}function B(e,...t){if(!P&&v){if(h.has(e))return Promise.resolve(void 0);const n=new i.A;return k.push({fnName:e,args:t,deferred:n}),n.promise}const n=v?R({type:"callMethod",name:e,args:t}):function(e){const t=(0,c.A)(),n={messageId:t,...e},o={messageId:t},r=new Promise((e,t)=>{Object.assign(o,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();o.callback=e,g.set(e,o)}return p.set(t,o),r.catch(()=>{}).finally(()=>{p.delete(t),o.callback&&g.delete(o.callback)}),function(e){w.postMessage({type:"callApi",token:(0,a.g0)(),...e})}(n),r}({name:e,args:t});return o.Oig&&(async()=>{try{await n}catch(e){}})(),n}function F(e){e.isCanceled=!0;const{messageId:t}=g.get(e)||{};t&&(v?x(t):w.postMessage({type:"cancelApiProgress",token:(0,a.g0)(),messageId:t}))}function x(e){C({type:"cancelProgress",messageId:e})}function D(e){const t=p.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function O(e){p.get(e.messageId)?.callback?.(...e.callbackArgs)}function R(e){const t=(0,c.A)(),n={messageId:t,...e},o={messageId:t},r=new Promise((e,t)=>{Object.assign(o,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();o.callback=e,g.set(e,o)}return o.DEBUG_payload=n,p.set(t,o),r.catch(()=>{}).finally(()=>{p.delete(t),o.callback&&g.delete(o.callback)}),C(n),r}const U=Date.now();async function _(){let e=!1;try{await Promise.race([R({type:"ping"}),(0,u.v7)(l).then(()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT")))])}catch(e){console.error(e),Date.now()-U>=f&&(m?.terminate(),m=void 0,A({"@type":"requestReconnectApi"}))}finally{e=!0}}},4961:(e,t,n)=>{n.d(t,{A:()=>p,o:()=>I});var o=n(31481),r=n(16120),s=n(96454),i=n(87357),a=n(46275),c=n(52491),d=n(24282),u=n(87894),l=n(56362),f=n(84685),h=n(20021);const m=/(\*\*|__).+?\1/g;function p(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,u.oE)(t.reduce((e,t)=>{switch(t){case"escape_html":return function(e,t){const n=t||(e=>e),o=document.createElement("div");return e.reduce((e,t)=>"string"!=typeof t?(e.push(t),e):(o.innerText=t,e.push(n(o.innerHTML)),e),[])}(e,n?.markdownPostProcessor);case"hq_emoji":return r.A.lastIndex=0,g(e,"big","jsx",n?.markdownPostProcessor);case"emoji":return r.A.lastIndex=0,g(e,"small","jsx",n?.markdownPostProcessor);case"emoji_html":return r.A.lastIndex=0,g(e,"small","html");case"br":return y(e,"jsx",n?.markdownPostProcessor);case"br_html":return y(e,"html");case"highlight":return function(e,t,n){const o=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n||!t)return e.push(n),e;const r=n.toLowerCase().indexOf(t.toLowerCase());if(r<0)return e.push(o(n)),e;const s=[];return s.push(o(n.substring(0,r))),s.push((0,h.Y)("span",{className:"matching-text-highlight",children:o(n.substring(r,r+t.length))})),s.push(o(n.substring(r+t.length))),[...e,...s]},[])}(e,n.highlight,n?.markdownPostProcessor);case"links":return v(e,void 0,n?.markdownPostProcessor);case"tg_links":return v(e,!0,n?.markdownPostProcessor);case"simple_markdown":return w(e,"jsx",n?.markdownPostProcessor);case"simple_markdown_html":return w(e,"html")}return e},[e]))}function g(e,t,n,o){const a=o||(e=>e);return s.TL?e.map(e=>"string"==typeof e?a(e):e):e.reduce((e,o)=>{if("string"!=typeof o)return e.push(o),e;const s=(o=(0,d.A)(o)).split(r.A),u=o.match(r.A)||[];return e.push(a(s[0])),u.reduce((e,o,r)=>{const d=(0,c.mS)(o);if(d){const r=`./img-apple-${"big"===t?"160":"64"}/${d}.png`,s=(0,i.A)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=c.On.has(r);e.push((0,h.Y)("img",{src:r,className:`${s}${t?"":" opacity-transition slow shown"}`,alt:o,"data-path":r,draggable:!1,onLoad:t?void 0:c.P_}))}"html"===n&&e.push(`<img            draggable="false"            class="${s}"            src="${r}"            alt="${o}"          />`)}else e.push(a(o));const u=2*r+2;return s[u]&&e.push(a(s[u])),e},e)},[])}function y(e,t,n){const o=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(/\r\n|\r|\n/g).reduce((e,n,r,s)=>{const i=n.trimStart(),a=n.length-i.length;return e.push(String.fromCharCode(160).repeat(a)),e.push(o(i)),r!==s.length-1&&e.push("jsx"===t?(0,h.Y)("br",{}):"<br />"),e},[]);return[...e,...r]},[])}const b=new RegExp(`${o.kNZ}|${o.sXR}`,"ig");function v(e,t,n){const o=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.match(b);if(!r||!r.length)return e.push(o(n)),e;const s=[];let i=r.shift(),c=0;for(;i;){const e=n.indexOf(i,c);s.push(o(n.substring(c,e))),i.startsWith("@")?s.push((0,h.Y)(l.A,{username:i,children:o(i)})):(i.endsWith("?")&&(i=i.slice(0,i.length-1)),!t||(0,a.zq)(i)?s.push((0,h.Y)(f.A,{text:i,url:i})):s.push(o(i))),c=e+i.length,i=r.shift()}return s.push(o(n.substring(c))),[...e,...s]},[])}function w(e,t,n){const o=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const r=n.split(m),s=n.match(m)||[];return e.push(o(r[0])),s.reduce((e,n,s)=>{"jsx"===t?e.push(n.startsWith("**")?(0,h.Y)("b",{children:o(n.replace(/\*\*/g,""))}):(0,h.Y)("i",{children:o(n.replace(/__/g,""))})):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const i=2*s+2;return r[i]&&e.push(o(r[i])),e},e)},[])}function I(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:o}=getComputedStyle(t),r=parseFloat(o.split("px")[0]);return t.clientHeight>=(n+1)*r}},4990:(e,t,n)=>{var o=n(14487),r=n(99375),s=n(87894),i=n(4350),a=n(6e4),c=n(66414),d=n(80140),u=n(57751),l=n(84553),f=n(90709),h=n(13439),m=n(17872),p=n(17567),g=n(32989),y=n(91048),b=n(30708);function v(e,t,n){const{connectionState:r}=n,i=(0,y.nTw)(e,(0,o.g0)());if("connectionStateReady"===r&&i.isMasterTab&&i.multitabNextAction&&(t[i.multitabNextAction.action](i.multitabNextAction.payload),t.clearMultitabNextAction({tabId:i.id})),r!==e.connectionState){if(e={...e,connectionState:r},(0,h.UF)(e),e.isSynced){const n=Object.values(e.byTabId).flatMap(e=>e.messageLists).map(e=>e.chatId).filter(t=>{const n=e.chats.byId[t];return n&&((0,f.WX)(n)||(0,f.Vs)(n))});"connectionStateReady"===r&&n.length&&(0,s.Am)(n).forEach(e=>{t.requestChannelDifference({chatId:e})})}"connectionStateBroken"===r&&t.signOut({forceInitApi:!0})}}(0,h.aJ)("apiUpdate",(e,t,n)=>{switch(n["@type"]){case"updateApiReady":!function(e){(0,a.wT)((0,b.lS)(e).language)}(e);break;case"updateAuthorizationState":!function(e,t){const n="authorizationStateReady"===e.auth.state,o=t.authorizationState;switch(e=(0,p.K)(e,{state:o,isLoading:!1}),(0,h.UF)(e),e=(0,h.mS)(),o){case"authorizationStateLoggingOut":(0,l.nv)(!1),e=(0,p.K)(e,{isLoggingOut:!0}),(0,h.UF)(e);break;case"authorizationStateWaitCode":e=(0,p.K)(e,{isCodeViaApp:t.isCodeViaApp}),(0,h.UF)(e);break;case"authorizationStateWaitPassword":e=(0,p.K)(e,{hint:t.hint}),t.noReset&&(e=(0,p.K)(e,{hasWebAuthTokenPasswordRequired:!0})),(0,h.UF)(e);break;case"authorizationStateWaitQrCode":e=(0,p.K)(e,{isLoadingQrCode:!1,qrCode:t.qrCode}),(0,h.UF)(e);break;case"authorizationStateReady":if(n)break;(0,l.nv)(!0),e=(0,p.K)(e,{isLoggingOut:!1}),Object.values(e.byTabId).forEach(({id:t})=>{e=(0,g.w)(e,{inactiveReason:void 0},t)}),(0,h.UF)(e)}}(e,n);break;case"updateAuthorizationError":!function(e,t){"PASSKEY_CREDENTIAL_NOT_FOUND"!==t.errorCode?(e=(0,p.K)(e,{errorKey:t.errorKey}),(0,h.UF)(e)):(0,h.ko)().showNotification({message:t.errorKey,tabId:(0,o.g0)()})}(e,n);break;case"updateUserAlreadyAuthorized":!function(e,t){const{userId:n}=t;if(e.currentUserId===n)return;const o=(0,i.zk)(),r=Object.entries(o).find(([e,t])=>t.userId===n)?.[0];if(!r)return;const s=(0,i.Nv)(Number(r));window.location.replace(s)}(e,n);break;case"updateWebAuthTokenFailed":!function(e){(0,c.fY)(),e=(0,p.K)(e,{hasWebAuthTokenFailed:!0}),(0,h.UF)(e)}(e);break;case"updatePasskeyOption":!function(e,t){e=(0,p.K)(e,{passkeyOption:t.option}),(0,h.UF)(e)}(e,n);break;case"updateConnectionState":v(e,t,n);break;case"updateSession":!function(e,t,n){const{sessionData:o}=n,{rememberMe:r,state:s}=e.auth,i=!o||!o.mainDcId,a=o?.isTest;a&&(e={...e,config:{...e.config,isTestServer:a}},(0,h.UF)(e)),r&&"authorizationStateReady"===s&&!i&&t.saveSession({sessionData:o})}(e,t,n);break;case"updateServerTimeOffset":!function(e){(0,d.SH)(e.serverTimeOffset)}(n);break;case"updateCurrentUser":!function(e,t){const{currentUser:n,currentUserFullInfo:o}=t;e={...(0,m.TKu)(e,n.id,n),currentUserId:n.id},e=(0,m.weB)(e,n.id,o),(0,h.UF)(e),(0,u.id)(n.id)}(e,n);break;case"requestReconnectApi":e={...e,isSynced:!1},(0,h.UF)(e),v(e,t,{"@type":"updateConnectionState",connectionState:"connectionStateConnecting"}),t.initApi();break;case"requestSync":t.sync();break;case"updateFetchingDifference":e={...e,isFetchingDifference:n.isFetching},(0,h.UF)(e);break;case"error":Object.values(e.byTabId).forEach(({id:e})=>{const o=(0,r.zr)(n.error);o?t.addPaymentError({error:o,tabId:e}):(0,r.Dd)(n.error)?t.closePaymentModal({tabId:e}):t.showDialog&&t.showDialog({data:n.error,tabId:e})});break;case"notSupportedInFrozenAccount":t.showNotification({title:{key:"NotificationTitleNotSupportedInFrozenAccount"},message:{key:"NotificationMessageNotSupportedInFrozenAccount"},tabId:(0,o.g0)()})}})},5056:(e,t,n)=>{n.d(t,{n:()=>r});var o=n(14487);function r(e,...[t=(0,o.g0)()]){return e.byTabId[t]}},5560:(e,t,n)=>{n.d(t,{Ac:()=>D,B1:()=>O,BA:()=>E,DJ:()=>U,Kz:()=>$,M2:()=>S,Mi:()=>j,Oq:()=>_,al:()=>F,wC:()=>N,xe:()=>L});var o=n(13439),r=n(23174),s=n(31481),i=n(90709),a=n(27109),c=n(70636),d=n(91048),u=n(4875),l=n(63495),f=n(96454),h=n(6842),m=n(87894),p=n(43044),g=n(58554),y=n(6e4),b=n(37836),v=n(80140),w=n(18653),I=n(20021);function C(e){const t=e.toJSON();return JSON.stringify({endpoint:t.endpoint,keys:t.keys})}function A(){return!(!f.Tz||l.Vq||("showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),1):!("PushManager"in window)&&(s.Oig&&console.warn("[PUSH] Push messaging isn't supported."),1):(s.Oig&&console.warn("[PUSH] Push notifications aren't supported."),1)))}function S(){return"Notification"in window?"denied"!==Notification.permission||(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),!1):(s.Oig&&console.warn("[PUSH] This browser does not support desktop notification"),!1)}const k=432e5,P=3e3,T=new Set,M=new Audio("./notification.mp3");async function E(e,t){if(void 0!==e&&T.has(e))return;const{notificationSoundVolume:n}=(0,d.eCL)((0,o.mS)()),r=t?t/10:n/10;if(0!==r){M.volume=r,void 0!==e&&(M.addEventListener("ended",()=>{T.add(e)},{once:!0}),setTimeout(()=>{T.delete(e)},P));try{await M.play()}catch(e){s.Oig&&console.warn("[PUSH] Unable to play notification sound")}}}M.setAttribute("mozaudiochannel","notification");const N=(0,b.sg)(E,1e3,!0,!1);async function L(){if(l.Vq){const e=await n.e(131).then(n.bind(n,70131));return!!await e.isPermissionGranted()||"granted"===await e.requestPermission()}if(!("Notification"in window))return!1;let e=Notification.permission;return["granted","denied"].includes(e)||(e=await Notification.requestPermission()),"granted"===e}async function B(e){const{deleteDeviceToken:t}=(0,o.ko)();if(e)try{const n=C(e);return await(0,u.px)("unregisterDevice",n),await e.unsubscribe(),void t()}catch(e){s.Oig&&console.log("[PUSH] Unable to unsubscribe from push.",e)}const n=(0,o.mS)();n.push&&(await(0,u.px)("unregisterDevice",n.push.deviceToken),t())}async function F(){if(!A())return;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();await B(t)}let x=!1;function D(){return x}async function O(){const{setDeviceToken:e,updateWebNotificationSettings:t}=(0,o.ko)();let n=!1,r=!1;if(!A())return n=await L(),void t({hasWebNotifications:n,hasPushNotifications:r});const i=await navigator.serviceWorker.ready;let a=await i.pushManager.getSubscription();if(function(e){const t=(0,o.mS)();return!t.push||!e||C(e)!==t.push.deviceToken||Date.now()-t.push.subscribedAt>k}(a)){await B(a);try{a=await i.pushManager.subscribe({userVisibleOnly:!0});const t=C(a);s.Oig&&console.log("[PUSH] Received push subscription: ",t),await(0,u.px)("registerDevice",t),e({token:t}),r=!0,n=!0}catch(e){"denied"===Notification.permission?s.Oig&&console.warn("[PUSH] The user has blocked push notifications."):(s.Oig&&console.log("[PUSH] Unable to subscribe to push.",e),[DOMException.ABORT_ERR,DOMException.NOT_SUPPORTED_ERR].includes(e.code)&&(x=!0,n=await L()))}t({hasWebNotifications:n,hasPushNotifications:r})}}async function R(e){const t=(0,i.cP)(e);if(!t)return;let n=g.Ih(t);return n||(await g.hd(t,r.qZ.BlobUrl),n=g.Ih(t)),n}async function U({call:e,user:t}){const{hasWebNotifications:n}=(0,d.eCL)((0,o.mS)());if(document.hasFocus()||!n)return;if(!S())return;const r=await R(t),s={body:(0,i.Yg)(t),icon:r,badge:r,tag:`call_${e.id}`};"vibrate"in navigator&&(s.vibrate=[200,100,200]);const a=new Notification((0,y.yE)("VoipIncoming"),s);a.onclick=()=>{a.close(),window.focus&&window.focus()}}async function _({chat:e,message:t,isReaction:n=!1}){const r=(0,o.mS)(),{hasWebNotifications:g}=(0,d.eCL)(r);if(!function(e,t){const n=(0,o.mS)(),r=(0,a.If)(e,(0,d.K52)(n),(0,d.P5N)(n,e.id)),s=(0,d.nkm)(n,t),i=s?.notifySettings.mutedUntil,c=void 0===i?r:i>(0,v.Fm)(),u=t.isMentioned,l="phoneCall"!==t.content?.action?.type;if(c&&!u||!l||e.isNotJoined||!e.isListed||(0,d.nZ4)(n,e.id))return!1;if(f.TF){const{chatId:t,type:o}=(0,d.Xf0)(n)||{};return!(t===e.id&&"thread"===o)}return!document.hasFocus()}(e,t))return;const b=(0,a.sh)(e,(0,d.K52)((0,o.mS)()),(0,d.P5N)((0,o.mS)(),e.id)),C=(0,d.nkm)(r,t),k=void 0===C?.notifySettings.hasSound?b:!C.notifySettings.hasSound,P=S();if(!g||!P)return void(k||t.isSilent||n||l.Vq||N(String(t.id)||e.id));if(!P)return;if(!t.id)return;const T=(0,i.cU)(t);if(n&&!T)return;n&&T&&"custom"===T.reaction.type&&await async function(e){let t=(0,o.mS)();if((0,d.O8F)(t,e))return;const n=await(0,u.px)("fetchCustomEmoji",{documentId:[e]});n&&(t=(0,o.mS)(),t={...t,customEmojis:{...t.customEmojis,byId:{...t.customEmojis.byId,...(0,m.dU)(n,"id")}}},(0,o.UF)(t))}(T.reaction.documentId);const M=await R(e),{title:E,body:L}=function(e,t,n){const r=(0,o.mS)();let u=(0,d.Y7C)(r,t);const l=Boolean(n);l&&(u=(0,d.PVB)(r,n.peerId));const{isScreenLocked:f}=r.passcode,m=(0,i.e7)(e)===r.currentUserId;let g;if(!f&&(0,a.o3)(e,(0,d.K52)(r),(0,d.P5N)(r,e.id))){const r=u?(0,c.Q5)((0,p.Yw)(),e.id,u):void 0;let s=(0,h.A)((0,I.Y)("span",{children:(0,I.Y)(w.A,{message:t})}))[0].textContent||"";if(l){const e=function(e){let t;return"emoji"===e.reaction.type&&(t=e.reaction.emoticon),"custom"===e.reaction.type&&(t=(0,d.O8F)((0,o.mS)(),e.reaction.documentId)?.emoji),t||"â¤ï¸"}(n);s=(0,y.yE)("PushReactText",[e,s])}g=r?`${r}: ${s}`:s}else g=(0,p.Yw)()("NotificationMessageTextHidden");let b=f?s.C39:(0,i.Js)(y.yE,e,m);return t.isSilent&&(b+=" ðŸ”•"),{title:b,body:g}}(e,t,T);if(A())navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"showMessageNotification",payload:{title:E,body:L,icon:M,chatId:e.id,messageId:t.id,shouldReplaceHistory:!0,isSilent:k||t.isSilent,reaction:T?.reaction}});else{const r=(0,o.ko)(),s={body:L,icon:M,badge:M,tag:String(t.id)};"vibrate"in navigator&&(s.vibrate=[200,100,200]);const i=new Notification(E,s);i.onclick=()=>{i.close(),r.focusMessage({chatId:e.id,messageId:t.id,shouldReplaceHistory:!0}),window.focus&&window.focus()},i.onshow=()=>{n||t.isSilent||l.Vq||N(String(t.id)||e.id)}}}function $(e){!s.W75&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"closeMessageNotifications",payload:e})}function j(){navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"clientReady"})}},5718:(e,t,n)=>{n.d(t,{R:()=>s});var o=n(84051),r=n(22237);function s(e,t){const n=(0,o.li)(!0);n.current&&(n.current=!1,t?.forEach(t=>{(0,r.Hp)(t)&&t.subscribe(e)})),(0,o._W)(()=>{(0,r.cO)(e)})}},5912:(e,t,n)=>{n.d(t,{BL:()=>c,Vz:()=>u,mv:()=>d});var o=n(84051),r=n(46536),s=n(37836),i=n(84080),a=n(17712);function c({rootRef:e,throttleMs:t,throttleScheduler:n,debounceMs:c,shouldSkipFirst:d,margin:u,threshold:l,isDisabled:f},h){const m=(0,o.li)(),p=(0,o.li)(),g=(0,o.li)(0),y=(0,o.li)();p.current=h;const b=(0,a.A)(()=>{g.current++}),v=(0,a.A)(()=>{g.current&&(g.current--,!g.current&&y.current&&(y.current(),y.current=void 0))});return(0,i.Ay)(b,v),(0,o.vJ)(()=>{if(!f)return()=>{m.current&&(m.current.observer.disconnect(),m.current.destroy(),m.current=void 0)}},[f]),{observe:(0,a.A)((o,i)=>{m.current||function(){const o=new Map,i=new Map;let a;function f(){if(g.current)return void(y.current=a);const e=Array.from(i.values());e.forEach(e=>{const t=o.get(e.target);t?.runCallbacks(e)}),p.current&&p.current(e),i.clear()}a="function"==typeof n?(0,s.nb)(n,f):t?(0,s.nF)(f,t,!d):c?(0,s.sg)(f,c,!d):f;const h=new IntersectionObserver(e=>{e.forEach(e=>{i.set(e.target,e)}),g.current?y.current=a:a()},{root:e.current,rootMargin:u?`${u}px`:void 0,threshold:l});m.current={observer:h,addCallback:function(e,t){o.get(e)||o.set(e,(0,r.h)()),o.get(e).addCallback(t)},removeCallback:function(e,t){const n=o.get(e);n&&(n.removeCallback(t),n.hasCallbacks()||o.delete(e))},destroy:function(){o.clear(),h.disconnect(),i.clear()}}}();const a=m.current;return a.observer.observe(o),i&&a.addCallback(o,i),()=>{i&&a.removeCallback(o,i),a.observer.unobserve(o)}}),freeze:b,unfreeze:v}}function d(e,t,n){const r=(0,a.A)(n);(0,o.vJ)(()=>t?t(e.current,r):void 0,[r,t,e])}function u(e,t,n){const[r,s]=(0,o.J0)(!t);return d(e,t,e=>{s(e.isIntersecting),n&&n(e)}),r}},5930:(e,t,n)=>{function o(e,t){if(e===t)return!0;const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;if(0===o)return!0;for(let r=0;r<o;r++){const o=n[r];if(e[o]!==t[o])return!1}return!0}function r(e,t,n,o=""){const r=Object.keys(e);r.length===Object.keys(t).length?(console.log(n),r.forEach(n=>{e[n]!==t[n]&&console.log(o,n,":",e[n],"=>",t[n])})):console.log(`${n} LENGTH`)}n.d(t,{A:()=>o,q:()=>r})},6842:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(61433);function r(e){const t=document.createElement("div");o.Ay.render(e,t);const n=Array.from(t.children);return o.Ay.render(void 0,t),n}},8718:(e,t,n)=>{n.d(t,{By:()=>g,Mb:()=>l,OV:()=>h,VK:()=>m,qF:()=>p});var o=n(37836),r=n(22237),s=n(66644);const i=1e3;let a=0,c=0;const[d,u]=(0,r.n5)(!1),[l,f]=(0,r.n5)(!1),h=d;function m(e=i,t=!1){a++,1===a&&u(!0),t&&(c++,1===c&&f(!0));const n=window.setTimeout(r,e);let o=!1;function r(){o||(o=!0,clearTimeout(n),a--,0===a&&u(!1),t&&(c--,0===c&&f(!1)))}return r}function p(e){(0,o.kI)(()=>{d()?(0,s.YS)(()=>{p(e)}):e()})}function g(e){return(0,o.nb)(p,e)}},9267:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(84051),r=n(87357),s=n(14745);const i={root:"qEhgJEpm",middle:"GjxPnwZR",big:"HRLrnZvQ",adaptive:"ebO2WJkv",svg:"lbK6aMGA",clickable:"hqg1cKl7"};var a=n(20021);const c="M6.63869 12.1902L3.50621 14.1092C3.18049 14.3087 2.75468 14.2064 2.55515 13.8807C2.45769 13.7216 2.42864 13.5299 2.47457 13.3491L2.95948 11.4405C3.13452 10.7515 3.60599 10.1756 4.24682 9.86791L7.6642 8.22716C7.82352 8.15067 7.89067 7.95951 7.81418 7.80019C7.75223 7.67116 7.61214 7.59896 7.47111 7.62338L3.66713 8.28194C2.89387 8.41581 2.1009 8.20228 1.49941 7.69823L0.297703 6.69116C0.00493565 6.44581 -0.0335059 6.00958 0.211842 5.71682C0.33117 5.57442 0.502766 5.48602 0.687982 5.47153L4.35956 5.18419C4.61895 5.16389 4.845 4.99974 4.94458 4.75937L6.36101 1.3402C6.5072 0.987302 6.91179 0.819734 7.26469 0.965925C7.43413 1.03612 7.56876 1.17075 7.63896 1.3402L9.05539 4.75937C9.15496 4.99974 9.38101 5.16389 9.6404 5.18419L13.3322 5.47311C13.713 5.50291 13.9975 5.83578 13.9677 6.2166C13.9534 6.39979 13.8667 6.56975 13.7269 6.68896L10.9114 9.08928C10.7131 9.25826 10.6267 9.52425 10.6876 9.77748L11.5532 13.3733C11.6426 13.7447 11.414 14.1182 11.0427 14.2076C10.8642 14.2506 10.676 14.2208 10.5195 14.1249L7.36128 12.1902C7.13956 12.0544 6.8604 12.0544 6.63869 12.1902Z";function d({randomId:e}){const t=`${e}-mask1`,n=`${e}-mask2`,o=`${e}-gradient1`,r=`${e}-gradient2`,s=`${e}-gradient3`;return(0,a.FD)("svg",{className:i.svg,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,a.FD)("g",{"clip-path":"url(#clip0_4913_7387)",children:[(0,a.Y)("mask",{id:t,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24",children:(0,a.Y)("path",{d:"M21.416 -1.42493H-1.08398V21.0751H21.416V-1.42493Z",fill:"white"})}),(0,a.FD)("g",{mask:`url(#${t})`,children:[(0,a.Y)("mask",{id:n,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24",children:(0,a.Y)("path",{d:"M-1.08398 -1.42493H21.416V21.0751H-1.08398V-1.42493Z",fill:"white"})}),(0,a.FD)("g",{mask:`url(#${n})`,children:[(0,a.Y)("path",{d:"M7.26843 6.25162L9.28943 2.22541C9.52311 1.76121 10.0884 1.5749 10.5494 1.80857C10.7294 1.90015 10.8747 2.04857 10.9662 2.23172L12.8767 6.11583C13.0314 6.43477 13.3378 6.64951 13.6883 6.69056L17.6829 7.17055C18.2261 7.23686 18.6145 7.73264 18.5513 8.27894C18.5229 8.50314 18.4218 8.71156 18.2608 8.86945L15.0998 11.9862C14.9703 12.1125 14.9103 12.2894 14.9324 12.4694L15.4598 16.6756C15.5356 17.2787 15.1093 17.8282 14.5093 17.904C14.2819 17.9324 14.0546 17.8913 13.8525 17.7808L10.5147 15.9556C10.2715 15.823 9.98099 15.8198 9.73784 15.9461L6.27687 17.7208C5.79057 17.9703 5.1969 17.7745 4.94743 17.285C4.8527 17.1019 4.82112 16.8966 4.84954 16.6945L5.12427 14.7619C5.26006 13.8177 5.84425 12.9967 6.69055 12.5641L10.5305 10.6031C10.6315 10.5526 10.6726 10.4263 10.622 10.322C10.581 10.2431 10.4957 10.1957 10.4073 10.2084L5.70847 10.8841C4.99164 10.9852 4.26535 10.7831 3.7001 10.322L2.13698 9.04629C1.69173 8.68314 1.6191 8.02 1.98225 7.57159C2.15277 7.36317 2.39592 7.22739 2.66118 7.19265L6.6716 6.67793C6.92739 6.64319 7.15159 6.4853 7.26843 6.25162Z",fill:`url(#${o})`}),(0,a.Y)("path",{d:"M10.8242 2.9422C10.4168 2.85062 9.98417 3.0464 9.78839 3.43797L7.76423 7.46419C7.64739 7.69787 7.42634 7.85576 7.1674 7.89049L3.15698 8.40837C2.89804 8.44311 2.6612 8.56942 2.49384 8.76837L3.97801 9.98097C4.44537 10.3631 5.05167 10.5304 5.64849 10.4452L10.3442 9.77255C10.6221 9.73466 10.8936 9.8736 11.0168 10.1231C11.1778 10.442 11.0515 10.8336 10.7326 10.9978L9.50734 11.623L10.9031 11.4209C10.9915 11.4083 11.0799 11.4557 11.1178 11.5346C11.1715 11.6388 11.1273 11.7651 11.0263 11.8157L7.18635 13.7767C6.34006 14.2093 5.75586 15.0303 5.62007 15.9745L5.44008 17.2282C5.60428 17.3924 5.86322 17.4366 6.07796 17.326L9.53261 15.5514C9.90839 15.3587 10.3536 15.365 10.7231 15.5671L14.0609 17.3924C14.1809 17.4587 14.3199 17.4839 14.4556 17.4682C14.8093 17.4239 15.0651 17.0955 15.0209 16.7324L14.4967 12.523C14.4588 12.2072 14.5662 11.8946 14.7904 11.6736L17.9513 8.55679C18.005 8.50311 18.0461 8.43995 18.0745 8.37048L14.1841 7.90312C13.8336 7.86207 13.5304 7.64418 13.3725 7.3284L13.2209 7.01578C12.902 6.87683 12.6399 6.63052 12.482 6.31159L10.8242 2.9422Z",fill:`url(#${r})`}),(0,a.Y)("path",{d:"M10.7484 1.41397C10.0663 1.06977 9.23893 1.3445 8.89789 2.02659L6.87373 6.05596C6.8232 6.15701 6.72531 6.22649 6.61478 6.23912L2.60436 6.757C2.22542 6.80437 1.87806 7.00015 1.63807 7.29699C1.12334 7.93486 1.22124 8.86958 1.85596 9.38746L3.42223 10.6664C4.08222 11.2032 4.93167 11.44 5.77165 11.32L9.09051 10.8432L6.48847 12.1727C5.51271 12.6716 4.84325 13.6126 4.68852 14.6989L4.41063 16.6315C4.36958 16.9252 4.41695 17.222 4.55273 17.4873C4.90956 18.1915 5.77481 18.4725 6.479 18.1125L9.93681 16.3378C10.0505 16.2778 10.1863 16.281 10.3 16.3441L13.6378 18.1662C13.9188 18.3209 14.2441 18.3841 14.563 18.343C15.4061 18.2357 15.9998 17.462 15.8956 16.622L15.3714 12.4126C15.3651 12.3716 15.3809 12.3274 15.4093 12.299L18.5703 9.1822C18.8008 8.95168 18.9492 8.65169 18.9871 8.32959C19.0787 7.5433 18.5229 6.82963 17.7366 6.73489L13.7388 6.25491C13.5399 6.2328 13.363 6.10649 13.2715 5.92334L11.3641 2.03606C11.2315 1.76765 11.0136 1.54976 10.7484 1.41397ZM9.68418 2.42132C9.80734 2.17501 10.1073 2.07712 10.3505 2.20027C10.4452 2.24764 10.5242 2.32974 10.5715 2.42763L12.482 6.31175C12.7031 6.76332 13.1357 7.06962 13.6346 7.12962L17.6324 7.60961C17.9324 7.64435 18.1471 7.91908 18.1124 8.22538C18.0966 8.3517 18.0398 8.46854 17.9513 8.55695L14.7904 11.6737C14.5662 11.8948 14.4588 12.2074 14.4967 12.5232L15.0209 16.7325C15.0651 17.0957 14.8093 17.4241 14.4556 17.4683C14.3199 17.4841 14.1809 17.4588 14.0609 17.3925L10.7231 15.5673C10.3536 15.3652 9.90839 15.362 9.53261 15.5547L6.0748 17.3294C5.80638 17.4652 5.47797 17.3578 5.33903 17.0862C5.2885 16.9852 5.26956 16.8683 5.28534 16.7546L5.56007 14.8252C5.67376 14.0231 6.17269 13.3253 6.88952 12.959L10.7294 10.9979C11.0515 10.8337 11.1778 10.4422 11.0168 10.1232C10.8905 9.87376 10.6221 9.73482 10.3442 9.77271L5.64534 10.4453C5.04851 10.5306 4.44537 10.3632 3.97801 9.98113L2.41489 8.70221C2.15595 8.49064 2.1149 8.10854 2.32647 7.8496C2.42436 7.72961 2.56331 7.65066 2.71488 7.63171L6.72531 7.11383C7.12951 7.06331 7.48003 6.81384 7.66318 6.45069L9.68418 2.42132Z",fill:`url(#${s})`})]})]})]}),(0,a.FD)("defs",{children:[(0,a.FD)("linearGradient",{id:o,x1:"10.1547",y1:"1.70752",x2:"10.1547",y2:"17.9134",gradientUnits:"userSpaceOnUse",children:[(0,a.Y)("stop",{"stop-color":"#FFF0C2"}),(0,a.Y)("stop",{offset:"1","stop-color":"#FFEBBA"})]}),(0,a.FD)("linearGradient",{id:r,x1:"10.2842",y1:"2.92009",x2:"14.7304",y2:"17.4713",gradientUnits:"userSpaceOnUse",children:[(0,a.Y)("stop",{"stop-color":"#FFD147"}),(0,a.Y)("stop",{offset:"1","stop-color":"#FFB526"})]}),(0,a.FD)("linearGradient",{id:s,x1:"10.1547",y1:"1.26556",x2:"14.0546",y2:"18.3525",gradientUnits:"userSpaceOnUse",children:[(0,a.Y)("stop",{"stop-color":"#E58F0D"}),(0,a.Y)("stop",{offset:"1","stop-color":"#EB7814"})]}),(0,a.Y)("clipPath",{id:"clip0_4913_7387",children:(0,a.Y)("rect",{width:"20",height:"20",fill:"white"})})]})]})}function u({randomId:e}){return(0,a.FD)("svg",{className:i.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:[(0,a.Y)("defs",{children:(0,a.FD)("linearGradient",{id:e,x1:"3",y1:"63.5001",x2:"84.1475",y2:"-1.32262",gradientUnits:"userSpaceOnUse",children:[(0,a.Y)("stop",{"stop-color":"#6B93FF"}),(0,a.Y)("stop",{offset:"0.439058","stop-color":"#976FFF"}),(0,a.Y)("stop",{offset:"1","stop-color":"#E46ACE"})]})}),(0,a.Y)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:c,fill:`url(#${e})`})]})}function l(){return(0,a.Y)("svg",{className:i.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:(0,a.Y)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:c,fill:"var(--color-fill)"})})}const f=(0,o.ph)(({type:e="regular",size:t="small",className:n,style:o,onClick:c})=>{const f=`svg-${(0,s.A)()}`;return(0,a.Y)("i",{onClick:c,className:(0,r.A)("StarIcon",i.root,n,c&&i.clickable,i[t]),style:o,children:(()=>{switch(e){case"gold":return(0,a.Y)(d,{randomId:f});case"premium":return(0,a.Y)(u,{randomId:f});default:return(0,a.Y)(l,{})}})()})})},9705:(e,t,n)=>{n.d(t,{A:()=>o});class o{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}static resolved(e){const t=new o;return t.resolve(e),t}}},9935:(e,t,n)=>{n.d(t,{f:()=>d,iB:()=>h,q2:()=>c,xE:()=>u});var o=n(31481);const r=new Set(["scroll","mouseenter","mouseleave","load","error"]),s={},i={},a=new Map;function c(e,t,n,o=!1){const r=u(t,e);l(r,e,o)?function(e,t,n){s[e]||(s[e]=0,document.addEventListener(e,m)),function(e){return i[e]||(i[e]=new Map),i[e]}(e).set(t,n),function(e){const t=a.get(e);if(t)return t;const n=new Set;return a.set(e,n),n}(t).add(e),s[e]++}(r,e,n):e.addEventListener(r,n,o)}function d(e,t,n,o=!1){const r=u(t,e);l(r,e,o)?f(r,e):e.removeEventListener(r,n,o)}function u(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function l(e,t,n){return!n&&!r.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function f(e,t){s[e]--,s[e]||document.removeEventListener(e,m),i[e].delete(t),a.get(t).delete(e)}function h(e){const t=a.get(e);t&&(t.forEach(t=>f(t,e)),a.delete(e))}function m(e){const t=i[e.type];if(t){let n=!1,o=e.target;const r=()=>{n=!0},s=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?o:"stopPropagation"===t||"stopImmediatePropagation"===t?r:"preventDefault"===t?s:Reflect.get(e,t)});for(;o&&o!==document.body;){const e=t.get(o);if(e&&(e(i),n))return;o=o.parentNode}}}o.Oig&&document.addEventListener("dblclick",()=>{const e=Object.keys(s).length,t=Object.values(s).reduce((e,t)=>e+t,0),n=Object.keys(i).length,o=Object.values(i).reduce((e,t)=>e+t.size,0),r=a.size,c=Array.from(a.values()).reduce((e,t)=>e+t.size,0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:o,delegatedEventTypesCount:c,delegationRegistriesCount:n,delegationElementsCount:r,documentListenersCount:e})})},10315:(e,t,n)=>{n.d(t,{N:()=>i});var o=n(31481);const r=new Set(["text/html","image/svg+xml"]),s=new Set([...o.c59,"htm","html","svg","m4v","m3u","m3u8","xhtml","xml"]);function i({mimeType:e,extension:t}){return!(!e||!r.has(e))||!!s.has(t)}},10328:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(84051),r=n(66644),s=n(17712);const i=(e,t,n,i,a)=>{const[c,d]=(0,o.J0)(-1);return(0,o.vJ)(()=>{d(-1);const n=e.current;t&&n&&!a&&((0,r.RK)(()=>{n.tabIndex=-1}),(0,r.YS)(()=>n.focus()))},[e,t,a]),(0,s.A)(o=>{const r=e.current;if(!r||!t)return;if(13===o.keyCode&&n)return void n(c);if(38!==o.keyCode&&40!==o.keyCode)return;const s=document.activeElement,a=Array.from(i?r.querySelectorAll(i):r.children);let u=s&&a.indexOf(s)||c;if(38===o.keyCode&&u>0)u--;else if(40===o.keyCode&&u<a.length-1)u++;else{if(1!==a.length)return;u=0}const l=a[u];l&&(d(u),l.focus())})}},11116:(e,t,n)=>{n.d(t,{BU:()=>a,Ny:()=>i,Tk:()=>s,tX:()=>r});const o=3,r=5,s=32,i=/^[a-zA-Z]\w+$/;function a(e,t){const n=t?r:o;return e.length>=n&&e.length<=s&&i.test(e)}},11117:(e,t,n)=>{var o=n(37932),r=n(89925),s=n(66644),i=n(96454),a=n(61182),c=n(14487),d=n(6e4),u=n(21687),l=n(71322),f=n(74065),h=n(4875),m=n(188),p=n(13439),g=n(17872),y=n(32989),b=n(91048),v=n(30708);let w;(0,o.DW)(e=>{const{updatePageTitle:t,updateShouldDebugExportedSenders:n,updateShouldEnableDebugLog:o}=(0,p.ko)(),r=w;if(w=e,!r)return;const a=(0,v.lS)(r),c=(0,v.lS)(e),m=c.performance,y=a.performance,I=e.peerColors,C=r.peerColors;if(I&&I!==C&&(0,f.En)(I.general),m!==y&&(0,s.RK)(()=>{(0,u.u)(m)}),c.theme!==a.theme){const t=!!document.hasFocus()&&(0,b.PKK)(e);(0,l.A)(c.theme,t)}c.language!==a.language&&(0,d.wT)(c.language),c.timeFormat!==a.timeFormat&&(0,d.bV)(c.timeFormat),c.messageTextSize!==a.messageTextSize&&(document.documentElement.style.setProperty("--composer-text-size",`${Math.max(c.messageTextSize,i.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*c.messageTextSize)}px`),document.documentElement.style.setProperty("--message-text-size",`${c.messageTextSize}px`),document.documentElement.setAttribute("data-message-text-size",c.messageTextSize.toString())),c.canDisplayChatInTitle!==a.canDisplayChatInTitle&&t(),c.shouldForceHttpTransport!==a.shouldForceHttpTransport&&(0,h.px)("setForceHttpTransport",Boolean(c.shouldForceHttpTransport)),c.shouldAllowHttpTransport!==a.shouldAllowHttpTransport&&((0,h.px)("setAllowHttpTransport",Boolean(c.shouldAllowHttpTransport)),!c.shouldAllowHttpTransport&&c.shouldForceHttpTransport&&(e=(0,g.qoo)(e,{shouldForceHttpTransport:!1}),(0,p.UF)(e))),c.shouldDebugExportedSenders!==a.shouldDebugExportedSenders&&n(),c.shouldCollectDebugLogs!==a.shouldCollectDebugLogs&&o()}),(0,p.aJ)("updateShouldEnableDebugLog",e=>{(0,v.lS)(e).shouldCollectDebugLogs?((0,h.eu)(!0),(0,a.fw)()):((0,h.eu)(!1),(0,a.pF)())}),(0,p.aJ)("updateShouldDebugExportedSenders",e=>{const t=(0,v.lS)(e);(0,h.px)("setShouldDebugExportedSenders",Boolean(t.shouldDebugExportedSenders))}),(0,p.aJ)("setSettingOption",(e,t,n)=>(0,g.qpc)(e,n)),(0,p.aJ)("setSharedSettingOption",(e,t,n)=>(0,g.qoo)(e,n)),(0,p.aJ)("updatePerformanceSettings",(e,t,n)=>{const o=(0,v.lS)(e);return(0,g.qoo)(e,{performance:{...o.performance,...n},wasAnimationLevelSetManually:!0})}),(0,p.aJ)("setThemeSettings",(e,t,n)=>{const{theme:o,...r}=n;return(0,g.KyT)(e,o,r)}),(0,p.aJ)("requestNextFoldersAction",(e,t,n)=>{const{foldersAction:o,tabId:r=(0,c.g0)()}=n;return(0,y.w)(e,{nextFoldersAction:o},r)}),(0,p.aJ)("openLeftColumnContent",(e,t,n)=>{const{contentKey:o=r.Bn.ChatList,tabId:s=(0,c.g0)()}=n,i=(0,b.nTw)(e,s);return(0,y.w)(e,{leftColumn:{...i.leftColumn,contentKey:o}},s)}),(0,p.aJ)("openSettingsScreen",(e,t,n)=>{const{screen:o,tabId:s=(0,c.g0)()}=n,i=(0,b.nTw)(e,s);return t.loadPrivacySettings({skipIfCached:!0}),void 0!==n.screen&&t.openLeftColumnContent({contentKey:r.Bn.Settings,tabId:s}),(0,y.w)(e,{leftColumn:{...i.leftColumn,settingsScreen:o||r.VS.Main}},s)}),(0,p.aJ)("openEditChatFolder",(e,t,n)=>{const{folderId:o,isOnlyInvites:s,tabId:i=(0,c.g0)()}=n,a=(0,b.$aQ)(e,o);a&&(t.openSettingsScreen({screen:s?r.VS.FoldersEditFolderInvites:r.VS.FoldersEditFolderFromChatList,tabId:i}),t.requestNextFoldersAction({foldersAction:{type:"editFolder",payload:a},tabId:i}))}),(0,p.aJ)("openShareChatFolderModal",(e,t,n)=>{const{folderId:o,url:s,noRequestNextScreen:i,tabId:a=(0,c.g0)()}=n,d=(0,b.$aQ)(e,o),u=d?.isChatList;if(!u||i)return i||t.openSettingsScreen({screen:r.VS.FoldersShare,tabId:a}),(0,y.w)(e,{shareFolderScreen:{folderId:o,isFromSettings:Boolean(i),url:s}},a);t.openEditChatFolder({folderId:o,isOnlyInvites:!0,tabId:a})}),(0,p.aJ)("closeShareChatFolderModal",(e,t,n)=>{const{tabId:o=(0,c.g0)()}=n||{};return t.openSettingsScreen({screen:void 0,tabId:o}),(0,y.w)(e,{shareFolderScreen:void 0},o)}),(0,p.aJ)("openPasskeyModal",(e,t,n)=>{const{tabId:o=(0,c.g0)()}=n||{};return(0,y.w)(e,{isPasskeyModalOpen:!0},o)}),(0,m.k)("closePasskeyModal","isPasskeyModalOpen")},11217:(e,t,n)=>{n.d(t,{Q:()=>s});var o=n(96454),r=n(17712);function s(e){const t=(0,r.A)(t=>{"mousedown"===t.type&&t.button!==o.w3.Main||e(t)});return o.TF?{handleClick:e?t:void 0}:{handleMouseDown:e?t:void 0}}},11778:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(52674);function r(e){return(0,o.A)({onEsc:e})}},13235:(e,t,n)=>{n.d(t,{Yf:()=>a,bc:()=>s,dR:()=>i,hE:()=>d,m:()=>r,tI:()=>c});var o=n(31481);const r=100,s=50,i={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,4096],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20],recommendedChannels:[10,100],savedDialogsPinned:[5,100],maxReactions:[1,3],moreAccounts:[3,o.ACj]},a=4096,c=128,d={hash:0,limits:{uploadMaxFileparts:i.uploadMaxFileparts,stickersFaved:i.stickersFaved,savedGifs:i.savedGifs,dialogFiltersChats:i.dialogFiltersChats,dialogFilters:i.dialogFilters,dialogFolderPinned:i.dialogFolderPinned,captionLength:i.captionLength,channels:i.channels,channelsPublic:i.channelsPublic,aboutLength:i.aboutLength,chatlistInvites:i.chatlistInvites,chatlistJoined:i.chatlistJoined,recommendedChannels:i.recommendedChannels,savedDialogsPinned:i.savedDialogsPinned,moreAccounts:i.moreAccounts,maxReactions:i.maxReactions},autologinDomains:["instantview.telegram.org","translations.telegram.org","contest.dev","contest.com","bugs.telegram.org","suggestions.telegram.org","themes.telegram.org","promote.telegram.org","ads.telegram.org"],channelLevelMax:100,boostsPerSentGift:3,channelRestrictAdsLevelMin:50,seenByExpiresAt:604800,seenByMaxChatMembers:100,defaultEmojiStatusesStickerSetId:"773947703670341676",emojiSounds:{},giveawayAddPeersMax:10,giveawayBoostsPerPremium:4,giveawayCountriesMax:10,isGiveawayGiftsPurchaseAvailable:!1,groupTranscribeLevelMin:6,hiddenMembersMinCount:100,ignoreRestrictionReasons:[],canLimitNewMessagesWithoutPremium:!1,readDateExpiresAt:604800,premiumBotUsername:"PremiumBot",premiumPromoOrder:["stories","more_upload","double_limits","last_seen","voice_to_text","faster_download","translations","animated_emoji","emoji_status","saved_tags","profile_badge","message_privacy","advanced_chat_management","no_ads","infinite_reactions","animated_userpics","premium_stickers","effects"],isPremiumPurchaseBlocked:!1,maxUniqueReactions:11,starGiftMaxConvertPeriod:7776e3,starGiftMaxMessageLength:255,starRefStartPrefixes:["_tgr_"],isStarsGiftEnabled:!0,paidReactionMaxAmount:2500,starsUsdWithdrawRateX1000:1300,storyChangelogUserId:"777000",maxPinnedStoriesCount:3,starsSuggestedPostAmountMax:1e5,starsSuggestedPostAmountMin:5,starsSuggestedPostAgeMin:86400,starsSuggestedPostFutureMin:300,starsSuggestedPostFutureMax:2678400,starsSuggestedPostCommissionPermille:850,tonSuggestedPostCommissionPermille:850,todoItemLengthMax:64,todoItemsMax:30,todoTitleLengthMax:32,tonSuggestedPostAmountMax:1e13,tonSuggestedPostAmountMin:1e7,tonTopupUrl:"https://fragment.com/ads/topup",storyViewersExpirePeriod:86400,topicsPinnedLimit:5,bandwidthPremiumDownloadSpeedup:10,bandwidthPremiumNotifyPeriod:3600,bandwidthPremiumUploadSpeedup:10,urlAuthDomains:["web.telegram.org","web.t.me","k.t.me","z.t.me","a.t.me"],whitelistedDomains:["telegram.dog","telegram.me","telegram.org","t.me","telesco.pe","fragment.com","translations.telegram.org"],typingDraftTtl:10,arePasskeysAvailable:!0,passkeysMaxCount:5,diceEmojies:[],diceEmojiesSuccess:{}}},13439:(e,t,n)=>{n.d(t,{EK:()=>u,UF:()=>s,aJ:()=>c,br:()=>d,ko:()=>i,mS:()=>r,pv:()=>a});const o=(0,n(37932).cl)(),r=o.getGlobal,s=o.setGlobal,i=o.getActions,a=o.getPromiseActions,c=o.addActionHandler,d=o.execAfterActions,u=o.withGlobal},14235:(e,t,n)=>{function o(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}function r(){return Date.now()%1e8+Math.floor(1e3*Math.random())}n.d(t,{A:()=>o,t:()=>r})},14242:(e,t,n)=>{n.d(t,{Qh:()=>d,Sm:()=>i,Vw:()=>a,l9:()=>c,v7:()=>l});var o=n(16120),r=n(24282),s=n(43336);function i(e){return String(e).replace(/\d(?=(\d{3})+$)/g,"$& ")}function a(e,t){return t<1e3?e.number(t):t<1e6?`${e.number((0,s.RI)(t/1e3,1))}K`:`${e.number((0,s.RI)(t/1e6,1))}M`}function c(e,t=1){return`${Number.isInteger(e)?e:e.toFixed(t)}%`}const d=(0,n(19314).A)((e,t=2)=>e.replace(/[.,!@#$%^&*()_+=\-`~[\]/\\{}:"|<>?]+/gi,"").trim().split(/\s+/).slice(0,t).map(e=>{if(!e.length)return"";const t=(e=(0,r.A)(e)).match(o.A);return t&&e.startsWith(t[0])?t[0]:e.match(/./u)[0].toUpperCase()}).join("")),u=["B","KB","MB","GB"];function l(e,t,n=1){if(0===t)return e("MediaSizeB",{size:0},{pluralValue:0});const o=Math.floor(Math.log(t)/Math.log(1024)),r=t/1024**o,s=r.toFixed(Math.max(n,0));return e(`MediaSize${u[o]}`,{size:s},{pluralValue:r})}},14487:(e,t,n)=>{n.d(t,{I:()=>M,T_:()=>L,UJ:()=>A,VS:()=>E,ZQ:()=>k,g0:()=>P,gb:()=>T,ve:()=>B,wr:()=>N});var o=n(63495),r=n(46536),s=n(4350),i=n(70934),a=n(9705);const c=100,{addCallback:d,runCallbacks:u}=(0,r.h)(),{addCallback:l,runCallbacks:f}=(0,r.h)(),h=Number(Math.random().toString().substring(2)),m=new Set([h]),p=new BroadcastChannel(s.a9);let g=!1;const y=new a.A;let b,v,w=!1,I=!1;const C=({data:e})=>{if(e){if(e.currentPasscodeHash&&(0,i.tn)(e.currentPasscodeHash),e.hasGaveUpMaster&&w)return b=h,w=!1,y.resolve(),void u(!0);if(e.shouldGiveUpMaster)return b===h&&(u(!1),p.postMessage({currentPasscodeHash:(0,i.dl)(),hasGaveUpMaster:!0})),void(b=e.masterToken);if(e.tokenDied&&(f(e.tokenDied),m.delete(e.tokenDied),e.tokenDied===b&&(m.delete(e.tokenDied),b=void 0,g=!1,v=e.tokenDied,p.postMessage({collectedTokens:m,masterToken:b,reestablishToken:v}),1===m.size&&(g=!0,b=h,v=void 0,y.resolve(),u(!0)))),e.collectedTokens){if(!e.reestablishToken&&v)return;e.reestablishToken&&v!==e.reestablishToken&&(e.collectedTokens.delete(e.reestablishToken),v=e.reestablishToken);const t=m.size;e.collectedTokens.forEach(e=>m.add(e)),v&&e.collectedTokens.delete(v),g?e.masterToken||p.postMessage({collectedTokens:m,masterToken:b,reestablishToken:v}):e.masterToken?(v=void 0,b=e.masterToken,u(b===h),g||p.postMessage({collectedTokens:m,masterToken:b,reestablishToken:v}),y.resolve(),g=!0):t!==m.size?p.postMessage({collectedTokens:m,masterToken:b,reestablishToken:v}):(v=void 0,b=Math.max(...Array.from(m)),u(b===h),g||p.postMessage({collectedTokens:m,masterToken:b,reestablishToken:v}),y.resolve(),g=!0)}}};function A(e){I||(p.addEventListener("message",C),p.postMessage({collectedTokens:m}),setTimeout(()=>{void 0===b?(b=h,y.resolve(),u(!0)):e&&M()},c),window.addEventListener("beforeunload",S),o.Vq&&window.addEventListener("unload",S))}function S(){I||(f(h),p.removeEventListener("message",C),p.postMessage({tokenDied:h,currentPasscodeHash:(0,i.dl)()}),p.close(),I=!0)}function k(){p.postMessage({currentPasscodeHash:(0,i.dl)()})}function P(){return h}function T(){return Array.from(m)}function M(){w=!0,p.postMessage({collectedTokens:m,masterToken:h,shouldGiveUpMaster:!0})}const E=l,N=d,L=y.promise;function B(){return b===h}},14745:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(14235);function s(){const e=(0,o.li)();return e.current||(e.current=(0,r.A)()),e.current}},15283:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=function(e){(0,o.vJ)(e,[])}},16120:(e,t,n)=>{n.d(t,{A:()=>i,a:()=>s});const o=/\uFE0F/g,r=String.fromCharCode(8205);function s(e){return e.indexOf(r)<0?e.replace(o,""):e}const i=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[Â©Â®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udf85\udfc2\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4\udeb5\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude89\ude8f-\udec2\udec6\udece-\udedc\udedf-\udee9]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},16350:(e,t,n)=>{n.d(t,{CX:()=>S,Cb:()=>M,Kr:()=>C,Nl:()=>w,SJ:()=>k,We:()=>m,XU:()=>l,cz:()=>T,ec:()=>f,h7:()=>v,hO:()=>c,iW:()=>b,lt:()=>y,pW:()=>p,qw:()=>A,tN:()=>E,tP:()=>d,t_:()=>P,wi:()=>g,yK:()=>u});var o=n(31481),r=n(22986),s=n(87894),i=n(91048);const a=["active","archived"];function c(e,t,n){return{...e,chats:{...e.chats,listIds:{...e.chats.listIds,[t]:n}}}}function d(e,t,n,o,r){return{...e,chats:{...e.chats,loadingParameters:{...e.chats.loadingParameters,[t]:{nextOffsetId:n,nextOffsetPeerId:o,nextOffsetDate:r}}}}}function u(e,t,n,o){const r="saved"===o?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[r]:{...e.chats.lastMessageIds[r],[t]:n}}}}}function l(e,t,n){const o="saved"===n?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[o]:{...e.chats.lastMessageIds[o],...t}}}}}function f(e,t,n){const{[t]:o}=e.chats.listIds,r=o?.length?n.filter(e=>!o.includes(e)):n;return o&&!r.length?e:c(e,t,[...o||[],...r])}function h(e,t){return{...e,chats:{...e.chats,byId:t}}}function m(e,t,n,o,r=!1){const i=n.unreadMentions||[],a=(0,s.Am)([...i,...o]).sort((e,t)=>t-e);return e=g(e,t,{unreadMentions:a}),r&&(e=g(e,t,{unreadMentionsCount:(n.unreadMentionsCount||0)+Math.max(0,a.length-i.length)})),e}function p(e,t,n,o,r=!1){const s=n.unreadMentions||[],i=s?.filter(e=>!o.includes(e));if(e=g(e,t,{unreadMentions:i}),r&&n.unreadMentionsCount){const o=s.length-i.length;e=g(e,t,{unreadMentionsCount:Math.max(n.unreadMentionsCount-o,0)||void 0})}return e}function g(e,t,n,o=!1,i=!1){const{byId:a}=e.chats,c=a[t];if(i&&c){const t=Object.keys(n);if((0,r.T)((0,s.Up)(c,t),n))return e}const d=I(e,t,n,o);return d?h(e,{...a,[t]:d}):e}function y(e,t,n){const o=(0,i.AWZ)(e,t),s={...o,...n};return(0,r.T)(o,s)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:s}}}}function b(e,t,n){const o=(0,i.AWZ)(e,t);return(0,r.T)(o,n)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:n}}}}function v(e,t){const n=Object.keys(t).reduce((n,o)=>{const r=I(e,o,t[o]);return r&&(n[o]=r),n},{});return e=h(e,{...e.chats.byId,...n})}function w(e,t){const{byId:n}=e.chats;let o=!1;const r=Object.keys(t).reduce((r,s)=>{const i=n[s],a=t[s],c=!i?.membersCount&&a.membersCount;if(i&&!i.isMin&&!c&&(a.isMin||i.accessHash===a.accessHash))return r;const d=I(e,s,a);return d&&(r[s]=d,o||(o=!0)),r},{});return o?e=h(e,{...n,...r}):e}function I(e,t,n,o=!1){const{byId:i}=e.chats,a=i[t],c=[];if(n.isMin&&a&&!a.isMin)return;o||c.push("unreadReactionsCount"),(0,r.T)(a?.usernames,n.usernames)&&c.push("usernames");const d={...a,...(0,s.cJ)(n,c)};return d.id&&d.type?(0,s.Oy)(d):void 0}function C(e,t,n){const r=n===o._E9?"archived":"active";let s=e.chats.listIds;return Object.keys(s).forEach(e=>{const n=s[e]||[];e!==r||n.includes(t)?e!==r&&n.includes(t)&&(s={...s,[e]:n.filter(e=>e!==t)}):s={...s,[e]:[...n,t]}}),g(e={...e,chats:{...e.chats,listIds:s}},t,{folderId:n||void 0})}function A(e,t,n){const o="active"===t?"all":t;return{...e,chats:{...e.chats,...n.orderedPinnedIds&&{orderedPinnedIds:{...e.chats.orderedPinnedIds,[t]:n.orderedPinnedIds}},totalCount:{...e.chats.totalCount,[o]:n.totalChatCount}}}}function S(e,t){return y(e=g(e=k(e,t),t,{isNotJoined:!0}),t,{joinInfo:void 0})}function k(e,t,n="all"){return("all"===n?a:[n]).forEach(n=>{e=c(e,n,e.chats.listIds[n]?.filter(e=>e!==t))}),e}function P(e,t,n){const o=(0,i.AWZ)(e,t.id)?.members,r=new Set(n.map(e=>e.userId)),a=[...o?.filter(({userId:e})=>!r.has(e))||[],...n],c=o?.map(({userId:e})=>e)||[],d=a.map(({userId:e})=>e);if((0,s.k)(c,d))return e;const u=a.filter(({isAdmin:e,isOwner:t})=>e||t);return y(e,t.id,{members:a,adminMembersById:(0,s.dU)(u,"userId")})}function T(e,t,n,o){return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{similarChannelIds:n,count:o||n.length}}}}}function M(e,t){const n=e.chats.similarChannelsById[t];return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{...n,isExpanded:!n?.isExpanded}}}}}function E(e,t,n,o){return{...e,chats:{...e.chats,similarBotsById:{...e.chats.similarBotsById,[t]:{similarBotsIds:n,count:o}}}}}},16460:(e,t,n)=>{function o(e,t){let n=0,o=0,r=e;for(;r&&r!==t&&!r.contains(t);)n+=r.offsetTop,o+=r.offsetLeft,r=r.offsetParent;return n-=t.clientTop,o-=t.clientLeft,{top:n,left:o}}n.d(t,{A:()=>o})},16581:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(37836);function s(e,t,n,s=!1,i=!1){const a=(0,o.hb)(e,t);return(0,o.Kr)(()=>(0,r.sg)(a,n,!s,!i),[a,n,s,i])}},17142:(e,t,n)=>{n.d(t,{Ad:()=>u,C:()=>d,UL:()=>s,tT:()=>a,vv:()=>c,wD:()=>i});var o=n(31481),r=n(48775);function s(e,t){return e/10**l(t)}function i(e){return s(e,o.ykW)}function a(e){return e*10**l(o.ykW)}function c(e,t,n,i){const a=s(t,n);return n===o.OUy?(0,r.U2)(e,a,{asFont:i?.asFontIcon,className:i?.iconClassName}):n===o.ykW?(0,r.Ms)(e,a,{className:i?.iconClassName}):u(t,n,e.code,i)}function d(e,t,n=!1){return(n?i(e):e)*t*100}function u(e,t,n="en",r){const i=s(e,t);return(r?.shouldOmitFractions||t===o.OUy)&&Number.isInteger(i)?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(i):t===o.ykW?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:10}).format(i):new Intl.NumberFormat(n,{style:"currency",currency:t}).format(i)}function l(e){return e===o.ykW?9:"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF",o.OUy].includes(e)?0:"MRO"===e?1:2}},17237:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(16120),r=n(24282);const s=100,i=8*s;function a(e){const t=(0,r.A)(e).split("\n"),n=t.join("");if(n.length>i)return!1;const o=c(n);if(!o||o>s)return!1;let a=t.length;for(const e of t){const t=c(e);if(!1===t)return!1;t>a&&(a=t)}return a}function c(e){const t=e.matchAll(o.A);let n=0,r=0;for(const e of t){if(e.index!==r)return!1;n++,r=e.index+e[0].length}return r===e.length&&n}},17567:(e,t,n)=>{function o(e,t){return{...e,auth:{...e.auth,...t}}}n.d(t,{K:()=>o})},17663:(e,t,n)=>{n.d(t,{$$:()=>p,A:()=>O,A$:()=>_,BR:()=>G,CS:()=>m,F5:()=>E,IF:()=>S,JW:()=>x,L2:()=>R,Lu:()=>v,QO:()=>B,Rm:()=>j,TI:()=>V,U:()=>U,be:()=>b,cK:()=>f,dq:()=>A,e0:()=>M,fS:()=>L,fU:()=>y,i6:()=>w,il:()=>l,jy:()=>k,pU:()=>h,vm:()=>P,w6:()=>C,wv:()=>N,yC:()=>F,zA:()=>T,zt:()=>I});var o=n(80140),r=n(19314),s=n(21309);const i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>e.toLowerCase()),c=2015,d=31,u=12,l=864e5;function f(e){return m(new Date)===m(e)}function h(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function m(e){return h(e).getTime()}function p(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${t.getMonth()}`}function g(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function y(e,t){const n="number"==typeof t?new Date(t):t,o=e.timeFormat||"24h";let r=n.getHours(),s="";return"12h"===o&&(s=r>=12?"Â PM":"Â AM",r=r>12?r%12:r),`${String(r).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}${s}`}function b(e,t,n=!1){const o="number"==typeof t?new Date(t):t,r=y(e,o),s=h(new Date);if(o>=s)return r;const a=new Date(s);if(a.setDate(s.getDate()-7),o>=a){const t=e(`Weekday.Short${i[o.getDay()]}`);return n?e("formatDateAtTime",[t,r]):t}const c=o.getFullYear()===s.getFullYear(),d=O(o,e.code,c);return n?e("formatDateAtTime",[d,r]):d}function v(e,t){return O(t,e.code,!1,"numeric")}function w(e,t,n=!1){return O(t,e.code,!1,n?"short":"long",!0)}function I(e,t){const n=(0,s._k)(t);if(t<0)return 0;if(n<1)return B(t);if(n<7)return e("Days",{count:n},{pluralValue:n});if(n<30){const t=Math.floor(n/7);return e("Weeks",{count:t},{pluralValue:t})}if(n<365){const t=Math.floor(n/30);return e("Months",{count:t},{pluralValue:t})}{const t=Math.floor(n/365);return e("Years",{count:t},{pluralValue:t})}}function C(e,t){if(t<7)return e("Days",{count:t},{pluralValue:t});if(t<30){const n=Math.floor(t/7);return e("Weeks",{count:n},{pluralValue:n})}if(t<360){const n=Math.floor(t/30);return e("Months",{count:n},{pluralValue:n})}{const n=Math.floor(t/360);return e("Years",{count:n},{pluralValue:n})}}function A(e,t){return t<6e4?Math.ceil(t/1e3).toString():t<36e5?Math.ceil(t/6e4).toString():t<l?e("MessageTimer.ShortHours",Math.ceil(t/36e5)):e("MessageTimer.ShortDays",Math.ceil(t/l))}function S(e,t,n=t){const o=t-n;return o<60?e("LiveLocationUpdated.JustNow"):o<3600?e("LiveLocationUpdated.MinutesAgo",Math.floor(o/60)):e("LiveLocationUpdated.TodayAt",y(e,n))}function k(e,t,n=t){const o=t-n;if(o<60)return e("Time.JustNow");if(o<3600)return e("Time.MinutesAgo",Math.floor(o/60));const r=new Date(1e3*n),s=h(new Date);if(r>=s)return e("Time.TodayAt",y(e,r));const i=new Date(s);return i.setDate(s.getDate()-1),r>i?e("Time.YesterdayAt",y(e,r)):e("Time.AtDate",v(e,r))}function P(e,t,n=(0,o.Fm)()){const r=n-t,i=(0,s.Os)(r),a=(0,s.qZ)(r),c=(0,s._k)(r);return r<60?e("JustNowAgo"):i<60?e("MinutesAgo",{count:i},{pluralValue:i}):a<24?e("HoursAgo",{count:a},{pluralValue:a}):c<28?e("DaysAgo",{count:c},{pluralValue:c}):e("AtDateAgo",{date:v(e,t)})}function T(e,t,n=2){if(!t)return;const o=[],r=[{multiplier:1,type:"Seconds"},{multiplier:60,type:"Minutes"},{multiplier:60,type:"Hours"},{multiplier:24,type:"Days"},{multiplier:7,type:"Weeks"}];let s=1;r.forEach((e,n)=>{if(s*=e.multiplier,t<s)return;const i=r[n===r.length-1?n:n+1].multiplier;o.push({duration:Math.floor(t/s%i),type:e.type})});const i=o.slice(-n).reverse();for(let e=i.length-1;e>=0;--e)0===i[e].duration&&i.splice(e,1);return i.map(t=>e(t.type,t.duration,"i")).join(", ")}function M(e,t,n){return t("FormatDateAtTime",{date:f(new Date(1e3*e))?t("WeekdayToday"):E(n,1e3*e,!0,!1,!0),time:y(n,1e3*e)})}function E(e,t,n=!1,o=!1,r){const s="number"==typeof t?new Date(t):t,i=h(new Date);if(!o){if(g(s)===g(i))return(r||!n?Y:z)(e("Weekday.Today"));const t=new Date(i);if(t.setDate(i.getDate()-1),g(s)===g(t))return(r||!n?Y:z)(e("Weekday.Yesterday"));const o=new Date(i);o.setDate(i.getDate()-6);const a=new Date(i);if(a.setDate(i.getDate()+6),s>=o&&s<=a)return(r||!n?Y:z)(N(e,s.getDay(),n))}const a=s.getFullYear()===i.getFullYear();return(r||!n?Y:z)(O(s,e.code,a,n?"short":"long"))}function N(e,t,n=!1){const o=i[t];return e(n?`Weekday.Short${o}`:`Weekday.${o}`)}function L(e,t,n){const o="number"==typeof t?new Date(t):t;return`${E(e,o,!0,void 0,n)}, ${y(e,o)}`}function B(e,t){const n=Math.floor(e/3600),o=Math.floor(e%3600/60),r=Math.floor(e%3600%60),s=t?Math.floor(t/3600):0,i=t?Math.floor(t%3600/60):0;let a="";return n>0||s>0?(a+=`${String(n).padStart(2,"0")}:`,a+=`${String(o).padStart(2,"0")}:`):a+=i>=10?`${String(o).padStart(2,"0")}:`:`${String(o)}:`,a+=String(r).padStart(2,"0"),a}function F(e,t){if(t<=0)return e("MessageTimer.ShortMinutes",0);const n=Math.floor(t/3600),o=Math.floor(t%3600/60);if(n>0){const t=e("MessageTimer.ShortHours",n);return 0===o?t:`${t} ${e("MessageTimer.ShortMinutes",o)}`}return e("MessageTimer.ShortMinutes",o)}function x(e){const t=[];let n=e%1e3;e-=n,n=Math.floor(n/10);const o=(e=Math.floor(e/1e3))%60;e-=o;const r=(e=Math.floor(e/60))%60;e-=r;const s=(e=Math.floor(e/60))%60;return s>0&&t.push(String(s).padStart(2,"0")),t.push(String(r).padStart(s>0?2:1,"0")),t.push(String(o).padStart(2,"0")),`${t.join(":")},${String(n).padStart(2,"0")}`}const D=(0,r.A)((e,t,n,o="short",r)=>new Date(e).toLocaleString(t,{year:n?void 0:"numeric",month:o,day:r?void 0:"numeric"}));function O(e,t="en-US",n=!1,o="short",r=!1){const s=m("number"==typeof e?new Date(e):e);return D(s,t,n,o,r)}function R(e,t="en-US",n,o,r){return("number"==typeof e?new Date(e):e).toLocaleString(t,{year:r?void 0:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:n?void 0:"numeric",hourCycle:"12h"===o?"h12":"h23"})}function U(e,t){const n="number"==typeof t?new Date(t):t,o=h(new Date),r=y(e,n);if(g(n)===g(o))return e("Time.TodayAt",r);const s=new Date(o);if(s.setDate(o.getDate()-1),g(n)===g(s))return e("Time.YesterdayAt",r);const i=n.getFullYear()===o.getFullYear();return e("formatDateAtTime",[O(n,e.code,i),r])}function _(e,t,n){if(t<0)return e("RightNow");if(t<60)return e("Seconds",{count:Math.ceil(t)},{pluralValue:t});if(t<3600){const n=Math.ceil(t/60);return e("Minutes",{count:n},{pluralValue:n})}if(t<86400||n&&t<=172800){const n=Math.ceil(t/3600);return e("Hours",{count:n},{pluralValue:n})}const o=Math.ceil(t/86400);return e("Days",{count:o},{pluralValue:o})}function $(e,t,n=2021){if(t>u-1||e>d)return!1;const o=new Date(n,t,e);return!Number.isNaN(o.getTime())&&o.getDate()===e}function j(e=""){const t=e.match(/\d{1,2}\s[a-zA-Z]{3,}/),n=e.match(/[a-zA-Z]{3,}\s\d{1,2}/),o=e.match(/\d{1,2}[./-]\d{1,2}([./-]\d{2,4})?/);if(!t&&!o&&!n)return;if(o){const[t,n,o]=e.split(/[./-]/).map(Number);return o&&o<c||!$(t,n-1,o||void 0)?void 0:`${o?`${o}-`:""}${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`}const r=e.split(" "),s=t?r[0]:r[1],i=(t?r[1]:r[0]).toLowerCase(),d=a.findIndex(e=>e.startsWith(i));return-1!==d&&$(Number(s),d)?`${String(d+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`:void 0}function V(e){return e+l/1e3}function z(e){return`${e[0].toLowerCase()}${e.slice(1)}`}function Y(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function G(e,t){const[n,o]=t.split("."),r=new Date(`${o}-${n}`);return new Intl.DateTimeFormat(e,{month:"long",year:"numeric"}).format(r)}},17712:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(41257);function s(e){const t=(0,r.i)(e);return(0,o.hb)((...e)=>t.current?.(...e),[])}},17872:(e,t,n)=>{n.d(t,{iRS:()=>r.iR,P6h:()=>oe,ec2:()=>o.ec,t_k:()=>o.t_,o4A:()=>r.o4,Nl5:()=>o.Nl,KcS:()=>r.Kc,m1I:()=>te,DeY:()=>Z,tNY:()=>o.tN,Niu:()=>Ge,K4v:()=>Ke,Wez:()=>o.We,d2X:()=>D,g18:()=>P,fgD:()=>r.fg,qEh:()=>Pe,Psh:()=>ke,IwB:()=>r.Iw,nYM:()=>de,BxO:()=>at.Bx,gt4:()=>at.gt,XQb:()=>ce,GSI:()=>Ie,i_d:()=>ue,Y1r:()=>Ce,cYc:()=>Ae,_54:()=>K._5,BOn:()=>O,AH0:()=>r.AH,XAm:()=>r.XA,MOQ:()=>M,sol:()=>Ye,hjk:()=>r.hj,vad:()=>r.v,Itk:()=>r.It,do9:()=>ft,l3i:()=>r.l3,T4Z:()=>r.T4,tXQ:()=>K.tX,CX_:()=>o.CX,olz:()=>K.ol,MeL:()=>Ee,V5q:()=>Me,PcY:()=>b,OW3:()=>re,SJu:()=>o.SJ,OlY:()=>mt.Ol,qKm:()=>r.qK,ONz:()=>Ze,xGf:()=>at.xG,pWt:()=>o.pW,$nQ:()=>m,iW2:()=>o.iW,hOQ:()=>o.hO,tPq:()=>o.tP,n$d:()=>r.n$,KNO:()=>mt.KN,tTf:()=>r.tT,GEE:()=>ee,Khb:()=>Ve,xOA:()=>_,mPd:()=>ht,qpc:()=>q,czZ:()=>o.cz,n4t:()=>r.n4,eww:()=>r.ew,wWy:()=>B,o7c:()=>r.o7,zde:()=>K.zd,gz3:()=>r.gz,s3Z:()=>r.s3,lwK:()=>K.lw,_te:()=>ve,lwH:()=>ge,lEm:()=>we,bbG:()=>pe,Mac:()=>be,yQW:()=>ye,yrN:()=>r.yr,Cbr:()=>o.Cb,cxc:()=>U,$ry:()=>xe,wix:()=>o.wi,ltr:()=>o.lt,yKC:()=>o.yK,qwk:()=>o.qw,KrP:()=>o.Kr,PKO:()=>K.PK,Qb2:()=>K.Qb,r3y:()=>r.r3,h7P:()=>o.h7,XUr:()=>o.XU,MNF:()=>r.MN,G4z:()=>g,E24:()=>l,kV7:()=>r.kV,Cfr:()=>r.Cf,Mel:()=>h,qK3:()=>mt.qK,ly2:()=>mt.ly,b8O:()=>V,GQ:()=>z,RgT:()=>G,HyB:()=>Y,Ahb:()=>He,SYp:()=>Je,d4w:()=>r.d4,Y4o:()=>dt,H6X:()=>H,G42:()=>W,gJI:()=>Le,FCT:()=>at.FC,oeN:()=>at.oe,rmT:()=>at.rm,$RI:()=>K.$R,VmW:()=>K.Vm,hQe:()=>R,p92:()=>ne,E0b:()=>r.E0,Vg3:()=>ae,_$X:()=>fe,kTB:()=>_e,zTz:()=>$e,LZP:()=>ze,Tqk:()=>je,KpR:()=>ot,thC:()=>$,oeX:()=>We,VWO:()=>rt,Xzz:()=>tt,ZCo:()=>nt,Gzl:()=>qe,J81:()=>r.J8,DLl:()=>r.DL,xAV:()=>r.xA,QNR:()=>r.QN,tMr:()=>r.tM,T3R:()=>y,lcj:()=>at.lc,_Bm:()=>at._B,Egm:()=>r.Eg,Ffw:()=>r.Ff,k31:()=>et,jU1:()=>K.jU,Tu_:()=>K.Tu,qoo:()=>X,oFy:()=>me,EKx:()=>r.EK,L_F:()=>Se,nv6:()=>he,Yzx:()=>Te,n8l:()=>Ne,RoI:()=>Fe,qsx:()=>it,bG:()=>d,v9P:()=>f,MkE:()=>u,f_N:()=>p,KXe:()=>Be,X5v:()=>Xe,dxy:()=>Qe,KyT:()=>Q,e49:()=>r.e4,eAk:()=>r.eA,Ng8:()=>r.Ng,Wwn:()=>r.Ww,TwA:()=>lt,mIA:()=>ut,keG:()=>se,mR:()=>r.mR,TKu:()=>S,lWl:()=>x,weB:()=>F,BFh:()=>E,Z0S:()=>N,CKT:()=>k,Zct:()=>De});var o=n(16350),r=n(82150),s=n(14487),i=n(87894),a=n(91048),c=n(32989);function d(e,t,n,...[o=(0,s.g0)()]){return(0,c.w)(e,{stickerSearch:{...(0,a.nTw)(e,o).stickerSearch,hash:t,resultIds:n}},o)}function u(e,t,n,o){const r=o.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),s=o.map(e=>e.id);return"search"===t?{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,i.dU)(r,"id")}}}:{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,i.dU)(r,"id")},[t]:{...e.stickers[t],hash:n,setIds:[...e.stickers[t].setIds||[],...s]}}}}function l(e,t,n){const o=n.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),r=n.map(e=>e.stickers).flat().filter(Boolean),s=n.map(e=>e.id);return{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,i.dU)(o,"id")}},customEmojis:{...e.customEmojis,added:{...e.customEmojis.added,hash:t,setIds:[...e.customEmojis.added.setIds||[],...s]},byId:{...e.customEmojis.byId,...(0,i.dU)(r,"id")}}}}function f(e,t,n){const o=e.stickers.setsById[t]||{},r=n.isEmoji||o.isEmoji,s=(r?e.customEmojis.added.setIds:e.stickers.added.setIds)||[];let a=s;n.installedDate&&!n.isArchived&&s&&!s.includes(t)&&(a=[t,...a]),!n.installedDate&&s?.includes(t)&&(a=a.filter(e=>e!==t));const c=r&&n.stickers&&(0,i.dU)(n.stickers,"id");return{...e,stickers:{...e.stickers,added:{...e.stickers.added,...!r&&{setIds:a}},setsById:{...e.stickers.setsById,[t]:{...o,...n}}},customEmojis:{...e.customEmojis,byId:{...e.customEmojis.byId,...c},added:{...e.customEmojis.added,...r&&{setIds:a}}}}}function h(e,t,n,o,...[r=(0,s.g0)()]){const{results:i}=(0,a.nTw)(e,r).gifSearch;let d;if(t||!i)d=n;else{const e=new Set(i.map(e=>e.id));d=[...i,...n.filter(t=>!e.has(t.id))]}return(0,c.w)(e,{gifSearch:{...(0,a.nTw)(e,r).gifSearch,offset:o,results:d}},r)}function m(e,t){return{...e,animatedEmojis:t}}function p(e,t,n,o){const r=[...(0,a.wg6)(e,t),...n||[]],s=(0,i.Am)(r.map(({id:e})=>e)),c=(0,i.dU)(r,"id"),d=s.map(e=>c[e]);return{...e,stickers:{...e.stickers,forEmoji:{emoji:t,stickers:d,hash:o}}}}function g(e,t){const n=(0,a.r8w)(e,t),o=(0,i.Am)(n.map(({id:e})=>e)),r=(0,i.dU)(n,"id"),s=o.map(e=>r[e]);return{...e,customEmojis:{...e.customEmojis,forEmoji:{emoji:t,stickers:s}}}}function y(e,t,n){return{...e,customEmojis:{...e.customEmojis,statusRecent:{...e.customEmojis.statusRecent,hash:t,emojis:n}}}}function b(e){if(e.stickers.forEmoji){const{emoji:t,stickers:n,hash:o}=e.stickers.forEmoji;return t?p(e,t,n,o):e}if(e.customEmojis.forEmoji){const{emoji:t}=e.customEmojis.forEmoji;return t?g(e,t):e}return e}var v=n(22986),w=n(79824),I=n(35104);function C(e,t){return{...e,users:{...e.users,byId:t}}}function A(e,t){const{userIds:n}=e.contactList||{};if(!n)return e;const o=t.filter(e=>e?.isContact).map(e=>e.id);return 0===o.length?e:{...e,contactList:{userIds:(0,i.Am)([...o,...n])}}}function S(e,t,n){const{byId:o}=e.users,r=T(e,t,n);return r?C(e=A(e,[r]),{...o,[t]:r}):e}function k(e,t){const n=Object.keys(t).reduce((n,o)=>{const r=T(e,o,t[o]);return r&&(n[o]=r),n},{});return e=A(e=C(e,{...e.users.byId,...n}),Object.values(n))}function P(e,t){const{byId:n}=e.users;let o=!1;const r=Object.keys(t).reduce((r,s)=>{const i=n[s],a=t[s];if(i&&!i.isMin&&(a.isMin||i.accessHash===a.accessHash))return r;const c=T(e,s,a);return c&&(r[s]=c,o||(o=!0)),r},{});return o?e=A(e=C(e,{...n,...r}),Object.values(r)):e}function T(e,t,n){const{byId:o}=e.users,r=o[t],s=[];if(n.isMin&&r&&!r.isMin)return;(0,v.T)(r?.usernames,n.usernames)&&s.push("usernames");const a={...r,...(0,i.cJ)(n,s)};return a.id&&a.type?(0,i.Oy)(a):void 0}function M(e,t){const{byId:n}=e.users,{userIds:o}=e.contactList||{};return e=C(e={...e,contactList:{userIds:o?o.filter(e=>e!==t):w.p}},{...n,[t]:{...n[t],isContact:void 0}}),F(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}},t,{settings:void 0})}function E(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{userSearch:{...(0,a.nTw)(e,n).userSearch,...t}},n)}function N(e,t,...[n=(0,s.g0)()]){return E(e,{fetchingStatus:t},n)}function L(e,t,n){const{fullInfoById:o}=e.users;return o[t]?F(e,t,{isBlocked:n}):e}function B(e,t){return{...e,users:{...e.users,statusesById:t}}}function F(e,t,n){const o=e.users.fullInfoById[t];return{...e,users:{...e.users,fullInfoById:{...e.users.fullInfoById,[t]:{...o,...n}}}}}function x(e,t,n){return{...e,users:{...e.users,commonChatsById:{...e.users.commonChatsById,[t]:n}}}}function D(e,t){const{statusesById:n}=e.users;return B(e,{...n,...t})}function O(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{newContact:void 0},t)}function R(e,t,n,...[o=(0,s.g0)()]){return n.length?(0,c.w)(e,{inviteViaLinkModal:{missingUsers:n,chatId:t}},o):(0,c.w)(e,{inviteViaLinkModal:void 0},o)}function U(e,t,n){const{botAppPermissionsById:o}=e.users;return{...e,users:{...e.users,botAppPermissionsById:{...o,[t]:{...o[t],...n}}}}}function _(e,t,n,o,...[r=(0,s.g0)()]){const i=(0,a.nTw)(e,r),d=new Map;n.forEach(e=>{const t=(0,I.p)(e,!0),n=d.get(t)||0;n>0&&(e.localTag=n),d.set(t,n+1)});const u=(0,a.B59)(e,t,r);return(0,c.w)(e,{savedGifts:{...i.savedGifts,collectionsByPeerId:{...i.savedGifts.collectionsByPeerId,[t]:{...i.savedGifts.collectionsByPeerId[t],[u]:{gifts:n,nextOffset:o}}}}},r)}function $(e,t,n){return{...e,starGiftCollections:{...e.starGiftCollections,byPeerId:{...e.starGiftCollections?.byPeerId,[t]:n}}}}var j=n(57309);function V(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{globalSearch:{...(0,a.nTw)(e,n).globalSearch,...t}},n)}function z(e,t,...[n=(0,s.g0)()]){return V(e,{currentContent:t},n)}function Y(e,t,n,o,r,c,d,u,...[l=(0,s.g0)()]){const{resultsByType:f}=(0,a.nTw)(e,l).globalSearch||{},h=t.reduce((e,t)=>(e[(0,j.D)(t)]=t,e),{}),m=f?.[o]?.foundIds;if(void 0!==m&&Object.keys(h).every(e=>m.includes((0,j.D)(h[e]))))return V(e=G(e,{messages:!1,publicPosts:!1},l),{searchFlood:u,resultsByType:{...((0,a.nTw)(e,l).globalSearch||{}).resultsByType,[o]:{foundIds:m,totalCount:n,nextOffsetId:c,nextOffsetRate:r,nextOffsetPeerId:d}}},l);const p=m||[],g=t.map(e=>(0,j.D)(e)).filter(e=>!p.includes(e)),y=Array.prototype.concat(p,g),b=(0,i.k)(p,y)?p:y;return V(e=G(e,{messages:!1,publicPosts:!1},l),{searchFlood:u,resultsByType:{...((0,a.nTw)(e,l).globalSearch||{}).resultsByType,[o]:{totalCount:n,nextOffsetId:c,nextOffsetRate:r,nextOffsetPeerId:d,foundIds:b}}},l)}function G(e,t,...[n=(0,s.g0)()]){return V(e,{fetchingStatus:{...(0,a.nTw)(e,n).globalSearch.fetchingStatus,...t}},n)}var K=n(68344);function W(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{management:{...(0,a.nTw)(e,n).management,progress:t}},n)}function H(e,t,n,...[o=(0,s.g0)()]){const{management:r}=(0,a.nTw)(e,o);return(0,c.w)(e,{management:{...r,byChatId:{...r.byChatId,[t]:{...r.byChatId[t]||{},...n}}}},o)}var J=n(30708);function q(e,t){return{...e,settings:{...e.settings,byKey:{...e.settings.byKey,...t}}}}function X(e,t){return function(e,t){return{...e,sharedState:{...e.sharedState,...t}}}(e,{settings:{...(0,J.lS)(e),...t}})}function Q(e,t,n){const o=e.settings,r=o.themes[t];return{...e,settings:{...e.settings,themes:{...o.themes,[t]:{...r,...n}}}}}function Z(e,t){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,...t}}}}function ee(e,t){return{...e,chats:{...e.chats,notifyExceptionById:t}}}function te(e,t,n){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,[t]:n}}}}function ne(e,t,n){return{...e,settings:{...e.settings,notifyDefaults:{...e.settings.notifyDefaults,[t]:{...e.settings.notifyDefaults?.[t],...n}}}}}function oe(e,t){return e=L(e,t,!0),{...e,blocked:{...e.blocked,ids:[t,...e.blocked.ids],totalCount:e.blocked.totalCount+1}}}function re(e,t){return e=L(e,t,!1),{...e,blocked:{...e.blocked,ids:e.blocked.ids.filter(e=>e!==t),totalCount:e.blocked.totalCount-1}}}function se(e,t){return{...e,twoFaSettings:{...e.twoFaSettings,...t}}}var ie=n(20714);function ae(e,t){return{...e,passcode:{...e.passcode,...t}}}function ce(e){return{...e,passcode:{}}}function de(e,t=!0){return{...ie.HB,passcode:e.passcode,settings:ie.HB.settings,sharedState:ue(e.sharedState),...t&&{byTabId:Object.values(e.byTabId).reduce((e,{id:t,isMasterTab:n})=>(e[t]={...ie.Je,isMasterTab:n,id:t},e),{})}}}function ue(e){const{theme:t,shouldUseSystemTheme:n,animationLevel:o,language:r}=e.settings;return{...ie.$8,settings:{...ie.$8.settings,theme:t,shouldUseSystemTheme:n,animationLevel:o,language:r}}}var le=n(31481);function fe(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{payment:{...(0,a.nTw)(e,n).payment,...t}},n)}function he(e,t,...[n=(0,s.g0)()]){const o=(0,a.Osl)(e,n);return o?(0,c.w)(e,{starsPayment:{...o,...t}},n):e}function me(e,t,...[n=(0,s.g0)()]){return fe(e,{shippingOptions:t},n)}function pe(e,t,...[n=(0,s.g0)()]){return fe(e,{requestId:t},n)}function ge(e,t,...[n=(0,s.g0)()]){return fe(e,{step:t},n)}function ye(e,t,...[n=(0,s.g0)()]){return fe(e,{stripeCredentials:{...t}},n)}function be(e,t,...[n=(0,s.g0)()]){return fe(e,{smartGlocalCredentials:{...t}},n)}function ve(e,t,...[n=(0,s.g0)()]){return fe(e,{confirmPaymentUrl:t},n)}function we(e,t,...[n=(0,s.g0)()]){return fe(e,t?{receipt:t}:{receipt:void 0},n)}function Ie(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{payment:{}},t)}function Ce(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{starsPayment:{}},t)}function Ae(e,...[t=(0,s.g0)()]){return fe(e,{isPaymentModalOpen:void 0,isExtendedMedia:void 0},t)}function Se(e,t){return t.currency===le.OUy?{...e,stars:{...e.stars,balance:t}}:t.currency===le.ykW?{...e,ton:{...e.ton,balance:t}}:e}function ke(e,t,n,o,r){if(r){const r=e.ton?.history;if(!r)return e;const s={transactions:(r[t]?.transactions||[]).concat(n),nextOffset:o};return{...e,ton:{...e.ton,history:{...r,[t]:s}}}}const s=e.stars?.history;if(!s)return e;const i={transactions:(s[t]?.transactions||[]).concat(n),nextOffset:o};return{...e,stars:{...e.stars,history:{...s,[t]:i}}}}function Pe(e,t,n){if(!e.stars)return e;const o={list:(e.stars.subscriptions?.list||[]).concat(t),nextOffset:n};return{...e,stars:{...e.stars,subscriptions:o}}}function Te(e,t){const n=e.stars?.subscriptions;return n?{...e,stars:{...e.stars,subscriptions:{...n,isLoading:t}}}:e}function Me(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{starsTransactionModal:{transaction:t}},n)}function Ee(e,t,...[n=(0,s.g0)()]){return Me(e,{id:t.transactionId,peer:{type:"peer",id:t.botId},amount:{currency:le.OUy,amount:t.totalAmount,nanos:0},date:t.date,title:t.title,description:t.description,photo:t.photo},n)}function Ne(e,t,n,...[o=(0,s.g0)()]){return(0,c.w)(e,{statistics:{byChatId:{...(0,a.nTw)(e,o).statistics.byChatId,[t]:n}}},o)}function Le(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,currentMessage:t,currentStory:void 0}},n)}function Be(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,currentStory:t,currentMessage:void 0}},n)}function Fe(e,t,n,o,...[r=(0,s.g0)()]){const{statistics:i}=(0,a.nTw)(e,r);return(0,c.w)(e,{statistics:{...i,byChatId:{...i.byChatId,[t]:{...i.byChatId[t]||{},[n]:o}}}},r)}function xe(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,monetization:t}},n)}function De(e,t,...[n=(0,s.g0)()]){const o=(0,a.nTw)(e,n);return o.monetizationVerificationModal?(0,c.w)(e,{monetizationVerificationModal:{...o.monetizationVerificationModal,...t}},n):e}var Oe=n(48899),Re=n(80140),Ue=n(90709);function _e(e,t,n){return(0,Oe.L8)(t)?S(e,t,n):(0,o.wi)(e,t,n)}function $e(e,t,n){return(0,Oe.L8)(t)?F(e,t,n):(0,o.lt)(e,t,n)}function je(e,t,n){const o=(0,a.IVq)(e,t);return o?Ve(e,t,{...o,isLoading:n}):e}function Ve(e,t,n){return n?{...e,peers:{...e.peers,profilePhotosById:{...e.peers.profilePhotosById,[t]:n}}}:{...e,peers:{...e.peers,profilePhotosById:(0,i.cJ)(e.peers.profilePhotosById,[t])}}}function ze(e,t,n){const o=(0,a.IVq)(e,t),{newPhotos:r,count:s,nextOffset:c,fullInfo:d,shouldInvalidateCache:u}=n,l=o,f=d.profilePhoto,h="fallbackPhoto"in d?d.fallbackPhoto:void 0,m="personalPhoto"in d?d.personalPhoto:void 0;if(!l||u)return f&&f.id!==r[0]?.id&&r.unshift(f),m&&m.id!==r[0]?.id&&r.unshift(m),h&&r.push(h),Ve(e,t,{fallbackPhoto:h,personalPhoto:m,photos:r,count:s,nextOffset:c,isLoading:!1});const p=h&&l.photos.at(-1)?.id===h.id?l.photos.slice(0,-1):l.photos,g=(0,i.Xd)([...p,...r,h].filter(Boolean),"id");return Ve(e,t,{fallbackPhoto:h,personalPhoto:m,photos:g,count:s,nextOffset:c,isLoading:!1})}function Ye(e,t,n,r){const s=(0,a.PVB)(e,t),i=(0,a.IVq)(e,t);if(!s||!i)return e;const c="title"in s&&(0,Ue.WX)(s),d=(0,a.vGo)(e,t),u=(0,a.AWZ)(e,t),l=s.avatarPhotoId===n&&(!c||r),f=l?i.photos[1]:void 0;if(d&&(e=F(e,t,{fallbackPhoto:d.fallbackPhoto?.id===n?void 0:d.fallbackPhoto,personalPhoto:d.personalPhoto?.id===n?void 0:d.personalPhoto,profilePhoto:d.profilePhoto?.id===n?f:d.profilePhoto})),u){const r=u.profilePhoto?.id===n?f:u.profilePhoto;e=(0,o.lt)(e,t,{profilePhoto:r})}const h=l?f?.id:s.avatarPhotoId,m=l&&"title"in s&&(0,Ue.WX)(s)?i.photos.filter(e=>e.id!==n):i.photos.slice();return Ve(e=_e(e,t,{avatarPhotoId:h}),t,h?{...i,photos:m,count:i.count-1}:void 0)}function Ge(e,t){const n=Object.entries(t).reduce((e,[t,n])=>(e[t]?(e[t].byId={...e[t].byId,...n.byId},e[t].orderedIds=(0,i.Am)(n.orderedIds.concat(e[t].orderedIds)),e[t].profileIds=(0,i.Am)(n.profileIds.concat(e[t].profileIds)).sort((e,t)=>t-e),e[t].lastUpdatedAt=n.lastUpdatedAt,e[t].lastReadId=n.lastReadId):e[t]=n,e),e.stories.byPeerId);return st(e={...e,stories:{...e.stories,byPeerId:n}},Object.keys(t))}function Ke(e,t,n,o,r,s){const{byId:c,orderedIds:d,profileIds:u,archiveIds:l,pinnedIds:f,idsByAlbumId:h}=e.stories.byPeerId[t]||{},m=Object.keys(n).filter(e=>"isDeleted"in n[Number(e)]).map(Number),p={...c,...n};let g=[...d||[]],y=[...l||[]];const b=(0,i.Am)([...u||[]].concat(Object.values(n).reduce((e,t)=>("isInProfile"in t&&t.isInProfile&&e.push(t.id),e),[]))).sort((e,t)=>t-e).filter(e=>!m.includes(e));g=(0,i.Am)(Object.entries(n).reduce((e,[t,n])=>("expireDate"in n&&n.expireDate&&n.expireDate>(0,Re.Fm)()&&e.push(Number(t)),e),g)).filter(e=>!m.includes(e)),r&&(0,a.nZ4)(e,t)&&(y=(0,i.Am)(y.concat(Object.keys(n).map(Number))).sort((e,t)=>t-e).filter(e=>!m.includes(e)));const v={...h||{}};if(void 0!==s){const e=Object.keys(n).map(Number).filter(e=>!m.includes(e)),t=v[s],o=t?.ids||[];v[s]={...v[s],ids:(0,i.Am)([...o,...e]).sort((e,t)=>t-e)}}return e={...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],byId:p,orderedIds:g,profileIds:b,pinnedIds:f||o,...r&&{archiveIds:y},...void 0!==s&&{idsByAlbumId:v}}}}},((0,a.nZ4)(e,t)||(0,a.mBe)(e,t)?.isContact||t===e.appConfig.storyChangelogUserId)&&(e=function(e,t){const n=e.stories.byPeerId[t],o=n.orderedIds.reduce((e,t)=>{const{date:o}=n.byId[t]||{};return o&&(!e||e<o)&&(e=o),e},void 0);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...n,lastUpdatedAt:o}}}}}(e,t),e=st(e,[t])),e}function We(e,t,n,o,r){const{byPeerId:s}=e.stories,i=s[t];return void 0!==r&&i?.idsByAlbumId?.[r]?{...e,stories:{...e.stories,byPeerId:{...s,[t]:{...i,idsByAlbumId:{...i.idsByAlbumId,[r]:{...i.idsByAlbumId[r],isFullyLoaded:n}}}}}}:{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],[o?"isArchiveFullyLoaded":"isFullyLoaded"]:n}}}}}function He(e,t,n){const{orderedIds:o}=(0,a._bp)(e,t)||{};return o?(n>=o[o.length-1]&&(e=_e(e,t,{hasUnreadStories:!1})),{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],lastReadId:n}}}}):e}function Je(e,t,n,...[o=(0,s.g0)()]){const{orderedIds:r}=(0,a._bp)(e,t)||{};if(!r||!r.includes(n))return e;const{storyViewer:i}=(0,a.nTw)(e,o);return(0,c.w)(e,{storyViewer:{...i,lastViewedByPeerId:{...i.lastViewedByPeerId,[t]:n}}},o)}function qe(e,t){return Object.entries(t).forEach(([t,{lastReadId:n,orderedIds:o}])=>{const r=(0,a.PVB)(e,t);r&&(e=_e(e,t,{hasStories:!0,hasUnreadStories:!n||Boolean(n&&n<(r.maxStoryId||o[o.length-1]))}))}),e}function Xe(e,t,n,o,...[r=(0,s.g0)()]){const i=(0,a.nTw)(e,r),{viewModal:d}=i.storyViewer,u=d?.storyId===t&&d.views?[...d.views,...n]:n;return e=Qe(e,!1,r),(0,c.w)(e,{storyViewer:{...i.storyViewer,viewModal:{...d,storyId:t,views:u,nextOffset:o,isLoading:!1}}},r)}function Qe(e,t,...[n=(0,s.g0)()]){const o=(0,a.nTw)(e,n),{viewModal:r}=o.storyViewer;return r?(0,c.w)(e,{storyViewer:{...o.storyViewer,viewModal:{...r,isLoading:t}}},n):e}function Ze(e,t,n){const{orderedIds:o,profileIds:r,lastReadId:s,byId:i}=(0,a._bp)(e,t)||{orderedIds:[],profileIds:[]},c=o.filter(e=>e!==n),d=r.filter(e=>e!==n),u=c.length?o[o.length-1]:void 0,l=o[o.indexOf(n)-1],f=s===n?l:s,h={...i,[n]:{id:n,peerId:t,isDeleted:!0}},m=u?h[u]?.date:void 0,p=Boolean(c.length);return e=function(e,t,n){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:n}}}}(e=_e(e,t,{hasStories:p,hasUnreadStories:Boolean(p&&s&&u&&s<u)}),t,{byId:h,orderedIds:c,profileIds:d,lastUpdatedAt:m,lastReadId:f}),Object.values(e.byTabId).forEach(o=>{o.storyViewer.lastViewedByPeerId&&o.storyViewer.lastViewedByPeerId[t]===n&&(e=Je(e,t,l,o.id))}),p||(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}}),e}function et(e,t,n,o){const r=(0,a.Msb)(e,t,n);if(!r||!("content"in r))return e;const{views:s}=r,i=s?.reactionsCount||0,c=s?.reactions?.some(e=>void 0!==e.chosenOrder),d=(0,Ue.AK)(s?.reactions||[],[o].filter(Boolean)),u=i+(o?c?0:1:-1);return tt(e,t,n,{sentReaction:o,views:{...s,reactionsCount:u,reactions:d}})}function tt(e,t,n,o){const r=(0,a._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]};return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...r,byId:{...r.byId,[n]:{...r.byId[n],...o}}}}}}}function nt(e,t,n,o){const r=(0,a.Msb)(e,t,n);if(!r||!("content"in r))return e;const{views:s}=r;return tt(e,t,n,{views:{...s,...o}})}function ot(e,t,n,o){const r=(0,a._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]},s=o?(0,i.Am)(r.profileIds.concat(n)).sort((e,t)=>t-e):r.profileIds.filter(e=>n!==e);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...r,profileIds:s}}}}}function rt(e,t,n){const o=(0,a.PVB)(e,t);return o?o.areStoriesHidden===n?e:st(e=_e(e,t,{areStoriesHidden:n}),[t]):e}function st(e,t){const{currentUserId:n,stories:{byPeerId:o,orderedPeerIds:r}}=e,s=r.active.concat(r.archived).concat(t).reduce((t,n)=>{if(!o[n]?.orderedIds?.length)return t;const r=(0,a.PVB)(e,n);return r?.areStoriesHidden?t.archived.push(n):t.active.push(n),t},{active:[],archived:[]});function c(t,r){const s=(0,a.PVB)(e,t),c=(0,a.PVB)(e,r),d=(0,i.zV)(n===t,n===r);if(d)return d;const{lastUpdatedAt:u=0,orderedIds:l,lastReadId:f=0}=o[t]||{},h=f<l?.[l.length-1],{lastUpdatedAt:m=0,orderedIds:p,lastReadId:g=0}=o[r]||{},y=g<p?.[p.length-1],b=(0,i.zV)(h,y);if(b)return b;const v=(0,i.zV)("isPremium"in s,"isPremium"in c);if(v)return v;return(0,i.zV)((0,Oe.L8)(t),(0,Oe.L8)(r))||(0,i.zV)(u,m)}return s.archived=(0,i.Am)(s.archived).filter(e=>o[e]?.orderedIds?.length).sort(c),s.active=(0,i.Am)(s.active).filter(e=>o[e]?.orderedIds?.length).sort(c),{...e,stories:{...e.stories,orderedPeerIds:s}}}function it(e,t){return{...e,stories:{...e.stories,stealthMode:t}}}var at=n(95753);function ct(e,t,n){const o=e.chats.topicsInfoById[t]||{};return{...e,chats:{...e.chats,topicsInfoById:{...e.chats.topicsInfoById,[t]:{...o,...n}}}}}function dt(e,t,n){const o=(0,a.xyP)(e,t)?.listedTopicIds||[];return ct(e,t,{listedTopicIds:(0,i.Am)([...o,...n])})}function ut(e,t,n,o){const s=(0,a.pSx)(e,t),c=(0,i.dU)(o,"id");return e=ct(e,t,{topicsById:{...s,...c},totalCount:n}),o.forEach(n=>{e=(0,r.e4)(e,t,n.id,{firstMessageId:n.id}),e=(0,r.eA)(e,t,n.id,{lastMessageId:n.lastMessageId,threadId:n.id,chatId:t})}),e}function lt(e,t,n,o){if(!(0,a.hds)(e,t))return e;const s=(0,a.S0q)(e,t,n),i=(0,a.pSx)(e,t),c={...s,...o};return c.id?(e=ct(e,t,{topicsById:{...i,[n]:c}}),e=(0,r.e4)(e,t,c.id,{firstMessageId:c.id}),e=(0,r.eA)(e,t,c.id,{lastMessageId:c.lastMessageId,threadId:c.id,chatId:t})):e}function ft(e,t,n){const o=(0,a.pSx)(e,t);return o?e=ct(e,t,{topicsById:(0,i.cJ)(o,[n])}):e}function ht(e,t,n){return ct(e,t,{orderedPinnedTopicIds:n})}var mt=n(20158)},18104:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(84051),r=n(66644),s=n(88458),i=n(63495),a=n(87357),c=n(95807),d=n(48894),u=n(14235),l=n(37479),f=n(82117),h=n(37661),m=n(84080),p=n(17712),g=n(34780),y=n(46637),b=n(41257),v=n(35297),w=n(672),I=n(14745),C=n(61157),A=n(20021);const S=(0,o.ph)(({ref:e,renderId:t,className:n,style:S,tgsUrl:P,play:T,playSegment:M,speed:E,seekToEnd:N,noLoop:L,size:B,quality:F,isLowPriority:x,color:D,forceAlways:O,forceOnHeavyAnimation:R,sharedCanvas:U,sharedCanvasCoords:_,onClick:$,onMouseEnter:j,onMouseLeave:V,onLoad:z,onEnded:Y,onLoop:G,onFrame:K})=>{let W=(0,o.li)();e&&(W=e);const H=(0,I.A)(),[J,q]=(0,o.J0)(),X=(0,o.li)(),Q=(0,o.li)(!0),Z=!U&&D,ee=(0,l.A)(Z?D:void 0),te=T||!1!==T&&M,ne=(0,b.i)(T),oe=(0,b.i)(M),re=(0,o.li)(),se=O||R,[ie,ae,ce]=(0,h.A)(!(0,o.OV)()||se);(0,m.Ay)(ce,ae,se),(0,o.vJ)(()=>{se&&ae()},[se]),(0,v.A)(()=>{if(D&&!Z){const{r:e,g:t,b:n}=(0,d.hF)(D);re.current=[e,t,n]}else re.current=void 0},[D,Z]);const de=(0,o.li)(!1);(0,o._W)(()=>{de.current=!0});const ue=(0,p.A)(()=>{if(X.current||de.current||!P||U&&(!_||!U.offsetWidth||!U.offsetHeight)||(0,o.OV)()&&!se)return;const e=W.current||U;if(!e)return;const n=(0,s.o)().init(P,e,t||(0,u.A)(),{size:B,noLoop:L,quality:F,isLowPriority:x,coords:_},H,re.current,z,Y,G,K);E&&n.setSpeed(E),N&&n.seekToEnd(),q(n),X.current=n});(0,o.vJ)(()=>{ie&&((0,s.o)()?ue():(0,s.Y)().then(ue))},[ue,P,U,_,ie]);const le=(0,w.A)(ue,[ue],150);(0,y.A)(U,le),(0,o.vJ)(()=>{J?.setColor(re.current)},[D,J]),(0,o.vJ)(()=>{"number"==typeof E&&J?.setSpeed(E)},[E,J]),(0,o._W)(()=>{X.current?.removeView(H)});const fe=(0,p.A)((e=!1)=>{J&&(ne.current||oe.current)&&!k(O)&&(oe.current?J.playSegment(oe.current,e,H):N?J.seekToEnd():J.play(e,H))}),he=(0,p.A)(()=>{(0,r.YS)(fe)}),me=(0,p.A)(()=>{J?.isPlaying()&&J.pause(H)});if((0,f.A)(([e])=>{void 0!==e&&L!==e&&J?.setNoLoop(L)},[L,J]),(0,f.A)(([e])=>{void 0!==e&&_!==e&&J?.setSharedCanvasCoords(H,_)},[_,H,J]),(0,o.vJ)(()=>{J&&(te?k(O,R)||fe(L):me())},[J,te,L,fe,me,O,R]),(0,o.vJ)(()=>{J&&(Q.current?Q.current=!1:P&&(J.changeData(P),fe()))},[fe,J,P]),(0,m.Ay)(me,fe,!te||se),(0,g.Ay)(me,fe,!te||O),(0,C.Ay)(me,he,!te||O),!U)return(0,A.Y)("div",{ref:W,className:(0,a.A)("AnimatedSticker",n),style:(0,c.A)(void 0!==B&&`width: ${B}px; height: ${B}px;`,$&&!i.Vq&&"cursor: pointer",ee,S),onClick:$,onMouseEnter:j,onMouseLeave:V})});function k(e=!1,t=!1){return!e&&(!t&&(0,o.OV)()||(0,g.c_)()||(0,C.g1)())}},18276:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(87357),r=n(20021);const s=({name:e,ref:t,className:n,style:s,role:i,ariaLabel:a,character:c,onClick:d})=>(0,r.Y)("i",{ref:t,className:(0,o.A)(`icon icon-${e}`,n),style:s,"aria-hidden":!a,"aria-label":a,"data-char":c,role:i,onClick:d})},18501:(e,t,n)=>{n.d(t,{QY:()=>B,kf:()=>x,fd:()=>L});var o=n(13439),r=n(23174),s=n(87357),i=n(85982),a=n(58734),c=n(4961),d=n(56362),u=n(84051),l=n(57675),f=n(17712),h=n(18276);var m=n(20021);const p=({canBeCollapsible:e,isToggleDisabled:t,children:n})=>{const o=(0,u.li)(),{isCollapsed:i,isCollapsible:a,setIsCollapsed:c}=(0,l.A)(o,4,void 0,!e),d=!t&&i,p=(0,f.A)(()=>{c(!1)}),g=(0,f.A)(()=>{c(e=>!e)});return(0,m.Y)("span",{className:(0,s.A)("KU67Uur0",i&&"y_uRZXtA"),onClick:d?p:void 0,children:(0,m.FD)("blockquote",{className:"m3sD7_cn",ref:o,"data-entity-type":r.C7.Blockquote,children:[(0,m.Y)("div",{className:"JNVT2DU9",children:n}),a&&(0,m.Y)("div",{className:(0,s.A)("pyX4NpPB",!t&&"RmvXwV0W"),onClick:t?void 0:g,"aria-hidden":!0,children:(0,m.Y)(h.A,{name:i?"down":"up"})})]})})},g={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var y=n(56863),b=n(86070),v=n(59030),w=n(39751);const I=(0,u.ph)(({text:e,className:t,noCopy:n,onWordWrapToggle:r})=>{const{showNotification:a}=(0,o.ko)(),d=(0,u.li)(),l=(0,w.A)(),f=(0,v.A)(),[p,g]=(0,u.J0)(!0),[y,b]=(0,u.J0)(!1),I=(0,u.hb)(()=>{const t=(0,c.o)(e,d.current.parentElement);b(t)},[e]);(0,u.vJ)(()=>{p&&I()},[I,p,e,l]);const C=(0,u.hb)(()=>{(0,i.eM)(e),a({message:f("TextCopied")})},[f,a,e]),A=(0,u.hb)(()=>{g(!p),r?.(!p)},[p,r]),S=(0,s.A)("L95Dh7wN",!y&&n&&"zctwFUQ8"),k=(0,s.A)("pMUccFN9",t),P=(0,s.A)("a44ZN3hD",p&&"jq1KLfVD");return(0,m.Y)("div",{className:k,ref:d,children:(0,m.FD)("div",{className:S,children:[y&&(0,m.Y)("div",{className:P,onClick:A,title:"Word Wrap",children:(0,m.Y)(h.A,{name:"word-wrap"})}),!n&&(0,m.Y)("div",{className:"auCNtLQ4",onClick:C,title:f("Copy"),children:(0,m.Y)(h.A,{name:"copy"})})]})})}),C=(0,u.ph)(({text:e,language:t,noCopy:o})=>{const[i,a]=(0,u.J0)(!0),{result:c}=(0,y.A)(()=>t?Promise.all([n.e(6314),n.e(3325)]).then(n.bind(n,73325)).then(n=>n.default(e,t)):Promise.resolve(void 0),[t,e]),d=(0,u.hb)(e=>{a(e)},[]),l=(0,s.A)("code-block",!i&&"no-word-wrap");return(0,m.FD)(b.A,{className:"CodeBlock",children:[t&&(0,m.Y)("p",{className:"code-title",children:(f=t,g[f.toLowerCase()]??f)}),(0,m.FD)("pre",{className:l,"data-entity-type":r.C7.Pre,"data-language":t,children:[c??e,(0,m.Y)(I,{text:e,className:"code-overlay",onWordWrapToggle:d,noCopy:o})]})]});var f});var A=n(87412),S=n(84685),k=n(83868),P=n(37661);const T=new Map,M=(0,s.x)("Spoiler"),E=(0,u.ph)(({children:e,containerId:t})=>{const n=(0,u.li)(),[o,s]=(0,P.A)(),i=(0,f.A)(e=>{t&&(o||(0,k.A)(e),T.get(t)?.forEach(e=>e()))});return(0,u.vJ)(()=>{if(t)return T.has(t)?T.get(t).push(s):T.set(t,[s]),()=>{T.delete(t)}},[t]),(0,m.Y)("span",{className:M("&",!o&&"concealed",!o&&Boolean(t)&&"animated"),onClick:t&&!o?i:void 0,"data-entity-type":r.C7.Spoiler,children:(0,m.Y)("span",{className:M("content"),ref:n,children:e})})}),N=64;function L({text:e,entities:t,highlight:n,emojiSize:i,shouldRenderAsHtml:u,containerId:l,asPreview:f,isProtected:h,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:v,sharedCanvasHqRef:w,cacheBuster:I,forcePlayback:k,noCustomEmojiPlayback:P,isInSelectMode:T,chatId:M,messageId:N,threadId:L,maxTimestamp:B}){if(!t?.length)return F({content:e,highlight:n,emojiSize:i,shouldRenderAsHtml:u,asPreview:f});const x=[];let $=!1;const j=function(e){const t=new Set,n=[];return e.forEach((o,r)=>{if(t.has(r))return;const s=D(o,r,e,t);s&&(s.organizedIndexes.forEach(e=>{t.add(e)}),n.push(s))}),n}(t);function V(t,x,D,j){const z=[],{entity:Y,nestedEntities:G}=D,{offset:K,length:W,type:H}=Y;let J=e.substring(t,K);const q=J.length;J&&($&&J.length>0&&"\n"===J[0]&&(J=J.substr(1),$=!1),J&&z.push(...F({content:J,highlight:n,emojiSize:i,shouldRenderAsHtml:u,asPreview:f})));const X=t+q,Q=X+W;let Z=e.substring(K,K+W);const ee=[];if($&&Z.length>0&&"\n"===Z[0]&&(Z=Z.substr(1),$=!1),H===r.C7.Pre&&($=!0),G.length){let e=X;G.forEach((t,n)=>{const{renderResult:o,entityEndIndex:r}=V(e,Q,t,n===G.length-1);ee.push(...o),e=r})}const te=u?function(e,t,n){const o="string"==typeof t?t:void 0,s=e.type===r.C7.Pre?t.trimEnd():t,i=n.length?n.join(""):(0,c.A)(s,["escape_html","emoji_html","br_html"]).join("");if(!o)return i;switch(e.type){case r.C7.Bold:return`<b>${i}</b>`;case r.C7.Italic:return`<i>${i}</i>`;case r.C7.Underline:return`<u>${i}</u>`;case r.C7.Code:return`<code class="text-entity-code">${i}</code>`;case r.C7.Pre:return`\`\`\`${(0,c.A)(e.language||"",["escape_html"])[0]}<br/>${i}<br/>\`\`\`<br/>`;case r.C7.Strike:return`<del>${i}</del>`;case r.C7.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${r.C7.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${i}</a>`;case r.C7.Url:case r.C7.TextUrl:return`<a\n        class="text-entity-link"\n        href=${O(o,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${i}</a>`;case r.C7.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${r.C7.Spoiler}"\n        >${i}</span>`;case r.C7.CustomEmoji:return(0,a.Y5)(o,e);case r.C7.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${r.C7.Blockquote}"\n        >${i}</blockquote>`;default:return i}}(Y,Z,ee):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:i,containerId:a,asPreview:c,isProtected:u,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumbs:h,emojiSize:g,sharedCanvasRef:y,sharedCanvasHqRef:b,cacheBuster:v,forcePlayback:w,noCustomEmojiPlayback:I,isInSelectMode:k,chatId:P,messageId:T,threadId:M,maxTimestamp:N}){const L="string"==typeof t&&t,B=n.length?n:t;function x(){return F({content:B,highlight:i,emojiSize:g,asPreview:c})}if(!L)return x();if(c){const t=x();return e.type===r.C7.Spoiler?(0,m.Y)(E,{children:t}):e.type===r.C7.CustomEmoji?(0,m.Y)(A.A,{documentId:e.documentId,size:g,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumb:h,forceAlways:w,noPlay:I},v?`${v}-${e.offset}`:void 0):t}switch(e.type){case r.C7.Bold:return(0,m.Y)("strong",{"data-entity-type":e.type,children:x()});case r.C7.Blockquote:return(0,m.Y)(p,{canBeCollapsible:e.canCollapse,isToggleDisabled:k,children:x()});case r.C7.BotCommand:return(0,m.Y)("a",{onClick:R,className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()});case r.C7.Hashtag:{const[n,o]=t.split("@");return(0,m.Y)("a",{onClick:()=>U(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()})}case r.C7.Cashtag:{const[n,o]=t.split("@");return(0,m.Y)("a",{onClick:()=>U(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()})}case r.C7.Code:return(0,m.Y)("code",{className:(0,s.A)("text-entity-code","clickable"),onClick:_,role:"textbox",tabIndex:0,"data-entity-type":e.type,children:x()});case r.C7.Email:return(0,m.Y)("a",{href:`mailto:${L}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()});case r.C7.Italic:return(0,m.Y)("em",{"data-entity-type":e.type,children:x()});case r.C7.MentionName:return(0,m.Y)(d.A,{userId:e.userId,children:x()});case r.C7.Mention:return(0,m.Y)(d.A,{username:L,children:x()});case r.C7.Phone:return(0,m.Y)("a",{href:`tel:${L}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()});case r.C7.Pre:return(0,m.Y)(C,{text:L,language:e.language,noCopy:u});case r.C7.Strike:return(0,m.Y)("del",{"data-entity-type":e.type,children:x()});case r.C7.TextUrl:case r.C7.Url:return(0,m.Y)(S.A,{url:O(L,e),text:L,chatId:P,messageId:T,threadId:M,entityType:e.type,children:x()});case r.C7.Underline:return(0,m.Y)("ins",{"data-entity-type":e.type,children:x()});case r.C7.Timestamp:return!P||!T||!N||e.timestamp>N?x():(0,m.Y)("a",{onClick:()=>function(e,t,n,r){(0,o.ko)().openMediaFromTimestamp({chatId:e,messageId:t,threadId:n,timestamp:r})}(P,T,M,e.timestamp),className:"text-entity-link",dir:"auto","data-entity-type":e.type,children:x()});case r.C7.Spoiler:return(0,m.Y)(E,{containerId:a,children:x()});case r.C7.CustomEmoji:return(0,m.Y)(A.A,{documentId:e.documentId,size:g,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:l,observeIntersectionForPlaying:f,withTranslucentThumb:h,forceAlways:w,noPlay:I},v?`${v}-${e.offset}`:void 0);case r.C7.QuoteFocus:return(0,m.Y)("span",{className:"matching-text-highlight is-quote",children:x()});default:return x()}}({entity:Y,entityContent:Z,nestedEntityContent:ee,highlight:n,containerId:l,asPreview:f,isProtected:h,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:b,emojiSize:i,sharedCanvasRef:v,sharedCanvasHqRef:w,cacheBuster:I,forcePlayback:k,noCustomEmojiPlayback:P,isInSelectMode:T,chatId:M,messageId:N,threadId:L,maxTimestamp:B});if(Array.isArray(te)?z.push(...te):z.push(te),j&&Q<x){let t=e.substring(Q,x);$&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&z.push(...F({content:t,highlight:n,emojiSize:i,shouldRenderAsHtml:u,asPreview:f}))}return{renderResult:z,entityEndIndex:Q}}let z=0;return j.forEach((t,n)=>{const{renderResult:o,entityEndIndex:r}=V(z,e.length,t,n===j.length-1);x.push(...o),z=r}),x}function B(e){const{text:t,entities:n}=e||{};if(!t)return"";const o=L({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(o)?o.join(""):o}function F({content:e,highlight:t,focusedQuote:n,emojiSize:o,shouldRenderAsHtml:r,asPreview:s}){if(Array.isArray(e)){const i=[];return e.forEach(e=>{i.push(...F({content:e,highlight:t,focusedQuote:n,emojiSize:o,shouldRenderAsHtml:r,asPreview:s}))}),i}if(r)return(0,c.A)(e,["escape_html","emoji_html","br_html"]);const i=[o&&o>N?"hq_emoji":"emoji"],a={};return s||i.push("br"),t&&(i.push("highlight"),a.highlight=t),(0,c.A)(e,i,a)}function x(e,t){const n=[],o=t.offset,r=t.offset+t.length;for(const s of e){const e=s.offset,i=s.offset+s.length;i<=o||e>r||e>o&&i<r||e===o&&i===r?n.push(s):(e<o&&i>o&&(n.push({...s,length:o-e}),n.push({...s,offset:o,length:i-o})),e<r&&i>r&&(n.push({...s,offset:r,length:i-o-t.length}),n.push({...s,length:r-e})))}return n.push(t),n.sort((e,t)=>e.offset-t.offset||t.length-e.length)}function D(e,t,n,o){const{offset:r,length:s}=e,i=new Set([t]);if(o.has(t))return;const a=[];return n.filter((e,n)=>n>t&&e.offset>=r&&e.offset<r+s).map(e=>D(e,n.indexOf(e),n,o)).filter(Boolean).forEach(e=>{let t=!1;e.organizedIndexes.forEach(e=>{t||i.has(e)||(t=!0),i.add(e)}),t&&a.push(e)}),{entity:e,organizedIndexes:i,nestedEntities:a}}function O(e,t){const{type:n}=t;return n===r.C7.TextUrl&&t.url?t.url:e}function R(e){(0,o.ko)().sendBotCommand({command:e.currentTarget.innerText})}function U(e,t){e&&(t?(0,o.ko)().openChatByUsername({username:t,onChatChanged:{action:"searchHashtag",payload:{hashtag:e}}}):(0,o.ko)().searchHashtag({hashtag:e}))}function _(e){(0,i.eM)(e.currentTarget.innerText),(0,o.ko)().showNotification({message:{key:"TextCopied"}})}},18653:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),r=n(13439),s=n(90709),i=n(3544),a=n(91048),c=n(58849),d=n(4961),u=n(39351),l=n(96773),f=n(57076),h=n(20021);const m=(0,o.ph)((0,r.EK)((e,{message:t})=>{const n=(0,a.zcZ)(e,t),o=(0,a.Pn$)(e,t),r=t.content.storyData;return{poll:n,story:r&&(0,a.Msb)(e,r.peerId,r.id),webPage:o}})(function({message:e,forcedText:t,noEmoji:n,highlight:o,truncateLength:r=i.vs,withTranslucentThumbs:a,inChatList:m,emojiSize:p,poll:g,story:y,webPage:b,observeIntersectionForLoading:v,observeIntersectionForPlaying:w}){const I=(0,u.A)(),C=(0,s.Sb)(e,m),A=Boolean((0,s.cs)(e)),S=(0,s._P)(e),k=(0,s.FE)({poll:g,story:y,webPage:b});if(!C&&!A&&!S){const s=t?.text||(0,i.dS)(I,e,k,n,r),a=(0,c.A)(s,r);return(0,h.Y)("span",{children:o?(0,d.A)(a,["emoji","highlight"],{highlight:o}):(0,d.A)(a)})}const P=!n&&(0,i.Su)(e);return(0,h.Y)(h.FK,{children:[P?(0,d.A)(`${P} `):void 0,(0,i.oL)(I,e,k,S?(0,h.Y)(l.A,{message:e,asPreview:!0}):(0,h.Y)(f.A,{messageOrStory:e,forcedText:t,highlight:o,asPreview:!0,observeIntersectionForLoading:v,observeIntersectionForPlaying:w,withTranslucentThumbs:a,truncateLength:r,inChatList:m,emojiSize:p}))].flat().filter(Boolean)})}))},19129:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(30857),s=n(5718),i=n(41257),a=n(35297);const c=function(e,t,n=!1){const c=t?e:()=>e();t??=[e];const d=(0,o.li)(),u=(0,r.A)(),l=(0,i.i)(c);function f(e=!1){const t=l.current;if(n)t(e=>{d.current!==e&&(d.current=e,u())});else{const n=t();d.current!==n&&(d.current=n,e||u())}}return(0,a.A)(()=>{f(!0)},t),(0,s.R)(f,t),d.current}},19314:(e,t,n)=>{n.d(t,{A:()=>r});const o=new WeakMap;function r(e){return(...t)=>{let n=o.get(e);const r=t.map(String).join("_");if(n){const e=n.get(r);if(e)return e}else n=new Map,o.set(e,n);const s=e(...t);return n.set(r,s),s}}},19408:(e,t,n)=>{n.d(t,{$j:()=>B,C5:()=>L,DB:()=>Ie,DI:()=>ut,D_:()=>_e,EH:()=>Be,Eg:()=>De,G6:()=>pt,GA:()=>K,H1:()=>Re,Hd:()=>fe,Jb:()=>ae,Ji:()=>D,Jl:()=>ne,K3:()=>_,KL:()=>re,KQ:()=>me,LM:()=>le,L_:()=>Ae,Lz:()=>x,N1:()=>oe,NH:()=>et,O5:()=>te,OE:()=>ht,PI:()=>tt,Pn:()=>ye,QP:()=>Ce,Qb:()=>X,R4:()=>ke,RB:()=>nt,Rj:()=>Fe,Rn:()=>it,S1:()=>ot,S8:()=>lt,SL:()=>$e,Sp:()=>ue,Sz:()=>he,T:()=>Q,Tl:()=>ce,U0:()=>z,VC:()=>Ue,Vl:()=>Y,Vw:()=>H,Vz:()=>dt,WA:()=>Pe,Xf:()=>P,Y7:()=>de,Y8:()=>Je,Ys:()=>V,ZZ:()=>je,a_:()=>at,cO:()=>Ze,dU:()=>J,dk:()=>G,fc:()=>U,fo:()=>Z,g5:()=>st,gC:()=>F,gM:()=>mt,h:()=>ee,h5:()=>qe,iL:()=>ct,j_:()=>$,jp:()=>q,jy:()=>Te,k9:()=>be,kd:()=>se,kg:()=>ge,lC:()=>rt,ld:()=>Le,mD:()=>Me,me:()=>T,nJ:()=>ie,nT:()=>Qe,nk:()=>ve,o4:()=>He,or:()=>Ee,p5:()=>xe,rA:()=>R,rK:()=>j,rQ:()=>W,rT:()=>Oe,ry:()=>We,sZ:()=>ft,tO:()=>Se,tV:()=>Ve,v8:()=>Xe,vR:()=>O,ww:()=>ze,xz:()=>Ge,yF:()=>E,yn:()=>Ke,yu:()=>Ne,zc:()=>pe,ze:()=>M});var o=n(23174),r=n(31481),s=n(96454),i=n(48899),a=n(14487),c=n(87894),d=n(60343),u=n(10315),l=n(79824),f=n(80140),h=n(91525),m=n(13235),p=n(90709),g=n(26129),y=n(21133),b=n(64520),v=n(56494),w=n(46211),I=n(1903),C=n(30163),A=n(5056),S=n(88368),k=n(19926);function P(e,...[t=(0,a.g0)()]){const{messageLists:n}=(0,A.n)(e,t);if(n.length)return n[n.length-1]}function T(e,...[t=(0,a.g0)()]){const{chatId:n}=P(e,t)||{};return n?(0,y.hd)(e,n):void 0}function M(e,t){return e.messages.byChatId[t]?.byId}function E(e,t){return e.scheduledMessages.byChatId[t]?.byId}function N(e,t,n,o,...[r=(0,a.g0)()]){return(0,A.n)(e,r).tabThreads[t]?.[n]?.[o]}function L(e,t,n,o){return B(e,t,n)?.[o]}function B(e,t,n){const o=e.messages.byChatId[t];if(!o)return;return o.threadsById[n]||void 0}function F(e,t,n){return L(e,t,n,"listedIds")}function x(e,t,n,o){const r=D(e,t,n);if(r)return r.find(e=>e[0]<=o&&e[e.length-1]>=o)}function D(e,t,n){return L(e,t,n,"outlyingLists")}function O(e,t,n,o,...[r=(0,a.g0)()]){switch(o){case"thread":return R(e,t,n,r);case"pinned":return U(e,t,n);case"scheduled":return _(e,t,n)}}function R(e,t,n,...[o=(0,a.g0)()]){return N(e,t,n,"viewportIds",o)}function U(e,t,n){return L(e,t,n,"pinnedIds")}function _(e,t,n){return L(e,t,n,"scheduledIds")}function $(e,t,n,...[o=(0,a.g0)()]){return N(e,t,n,"scrollOffset",o)}function j(e,t,n){return L(e,t,n,"lastScrollOffset")}function V(e,t,n){return L(e,t,n,"editingId")}function z(e,t,n){return L(e,t,n,"editingDraft")}function Y(e,t){return L(e,t,o.l3,"editingScheduledId")}function G(e,t){return L(e,t,o.l3,"editingScheduledDraft")}function K(e,t,n){return L(e,t,n,"draft")}function W(e,t,n){return L(e,t,n,"noWebPage")}function H(e,t,n){return L(e,t,n,"threadInfo")}function J(e,t,n){return L(e,t,n,"firstMessageId")}function q(e,t,n,...[o=(0,a.g0)()]){return N(e,t,n,"replyStack",o)}function X(e,t,n){const o=(0,y.hd)(e,t),s=H(e,t,n);if(o&&s&&void 0!==s.messagesCount)return o.isForum&&n!==r.HxB?s.messagesCount-1:s.messagesCount}function Q(e,t){const n=Ae(e,t);if(n&&n!==o.l3)return e.messages.byChatId[t.chatId].threadsById[n]}function Z(e,t,n,...[r=(0,a.g0)()]){const s=P(e,r);if(!s)return!1;const{threadInfo:i}=Q(e,n)||{};return t===s.chatId&&(s.threadId===o.l3||i&&s.threadId===i.threadId)}function ee(e,t,n,...[r=(0,a.g0)()]){const s=R(e,t,n,r);if(!s||!s.length)return!0;const i=(0,p.cG)(t,n,e.currentUserId);let c;if(n===o.l3){const n=(0,y.ZZ)(e,t);if(!n)return!0;c=n}else if(i){const t=(0,y.ZZ)(e,String(n),"saved");if(!t)return!0;c=t}else{const o=H(e,t,n);if(o&&o.lastMessageId)c=o.lastMessageId;else{if(!o?.threadId)return;c=Number(o?.threadId)}}return!(!(0,d.iL)(c)||te(e,t,c))||s[s.length-1]>=c}function te(e,t,n){const o=M(e,t);return o?o[n]:void 0}function ne(e,t,n){const o=E(e,t);return o?o[n]:void 0}function oe(e,t){return e.quickReplies.messagesById[t]}function re(e,t,n,o){if("scheduled"===o){const n=Y(e,t);return n?ne(e,t,n):void 0}{const o=V(e,t,n);return o?te(e,t,o):void 0}}function se(e,t,...[n=(0,a.g0)()]){const{chatId:o,messageId:r}=(0,A.n)(e,n).focusedMessage||{};return o===t?r:void 0}function ie(e,t,n,...[o=(0,a.g0)()]){const r=se(e,t.chatId,o),s=(0,A.n)(e,o).focusedMessage?.threadId;return n===s&&!!r&&(r===t.id||r===t.previousLocalId)}function ae(e,t){const{lastReadOutboxMessageId:n}=(0,y.hd)(e,t.chatId)||{};return(0,p.Nb)(t)||!n||n<t.id}function ce(e,t,n=!1){return ae(e,t)||n?(0,p._I)(t):"read"}function de(e,t){const{senderId:n}=t,o=(0,y.hd)(e,t.chatId),r=(0,k.mB)(e,e.currentUserId);return n?o&&(0,p.WX)(o)&&!o.areProfilesShown?o:(0,w.PV)(e,n):t.isOutgoing?r:o}function ue(e,t,n){return n.map(n=>{const o=te(e,t,n);return o&&de(e,o)}).filter(Boolean)}function le(e,t,n){const o=te(e,t,n);return o&&de(e,o)}function fe(e,t){const{fromId:n}=t;if(n)return(0,w.PV)(e,n)}function he(e,t){if(Boolean(t.content.storyData)){const n=t.content.storyData.peerId;return(0,w.PV)(e,n)}const{forwardInfo:n}=t;if(n){if(n.isChannelPost&&n.fromChatId)return(0,y.hd)(e,n.fromChatId);if(!n.hiddenUserName)return n.fromId?(0,w.PV)(e,n.fromId):n.savedFromPeerId?(0,w.PV)(e,n.savedFromPeerId):void 0}}function me(e,t){return e.messages.pollById[t]}function pe(e,t){if(t.content.pollId)return me(e,t.content.pollId)}function ge(e,t){return e.messages.webPageById[t]}function ye(e,t){if(t.content.webPage)return ge(e,t.content.webPage.id)}function be(e,t){if(t.content.webPage)return function(e,t){const n=ge(e,t);if(n&&"full"===n.webpageType)return n}(e,t.content.webPage.id)}function ve(e,t){const{chatId:n}=t,o=(0,y.hd)(e,n);if(!o?.isForum)return;const r=Ae(e,t);return(0,S.S0)(e,n,r)}const we=10;function Ie(e,t,n){const o=(0,y.hd)(e,t);return!!o&&n!==r.HxB&&(o.isBotForum||o.isCreator||(0,p.ub)(o,"deleteMessages")||o.isForum&&function(e,t,n){const o=(0,S.S0)(e,t,n);if(o&&!o.isOwner)return!1;const r=B(e,t,n);if(!r)return!1;const{listedIds:s}=r;return!(!s||s.length+1>=we||s.some(n=>{const o=te(e,t,n);return!o||!o.isOutgoing}))}(e,o.id,n))}function Ce(e,t){const{chatId:n,senderId:o,forwardInfo:s,savedPeerId:i}=t;return i||(n===e.currentUserId?s?.savedFromPeerId?s.savedFromPeerId:s?.fromId?s.fromId:s?.hiddenUserName?r.Ckz:o:void 0)}function Ae(e,t){const n=Ce(e,t);if(n)return n;const s=(0,y.hd)(e,t.chatId),{content:i}=t,{replyToMsgId:a,replyToTopId:c,isForumTopic:d}=(0,g.Q)(t)||{};return"topicCreate"===i.action?.type?t.id:s?.isForum?d&&(c||a)||r.HxB:s&&(0,p.yn)(s)?o.l3:s&&(0,p.Vs)(s)&&(c||a)||o.l3}function Se(e,t,n){const o=(0,y.hd)(e,t.chatId),r=(0,y._l)(e,t.chatId);if(!o||r||o.isForbidden)return!1;const s=(0,p.Nb)(t),i=(0,p.u7)(t);if(s||i)return!1;const a=H(e,t.chatId,n),c=Boolean(!a?.isCommentsInfo&&a?.fromChannelId),d=(0,y.AW)(e,o.id),u=(0,S.S0)(e,o.id,n);if(!(0,p.__)(o,u,c,d))return!1;const l=ve(e,t);return!l||!l.isClosed||l.isOwner||(0,p.ub)(o,"manageTopics")}function ke(e,t){const n=(0,p.Nb)(t),o=(0,p.u7)(t),r=(0,p._P)(t),s=(0,p.G5)(t),{content:i}=t,a=be(e,t),c=i.storyData?(0,I.Ms)(e,i.storyData.peerId,i.storyData.id):a?.story?(0,I.Ms)(e,a.story.peerId,a.story.id):void 0,d=We(e,t.chatId),u=c&&("isDeleted"in c||"noForwards"in c&&c.noForwards);return!n&&!r&&!d&&!u&&(t.isForwardingAllowed||o)&&!s}function Pe(e,t,n){const o=(0,y.hd)(e,t.chatId),r=(0,y._l)(e,t.chatId);if(!o||r)return{};const s=(0,y.AW)(e,t.chatId),a=(0,i.L8)(o.id),c=(0,y.nZ)(e,t.chatId),d=(0,p.yn)(o),u=(0,p.Vs)(o),l=(0,p.WX)(o),h=Boolean((0,k.yp)(e,o.id)),m=(0,p.Nb)(t),g=(0,p.HN)(t),b=(0,p.u7)(t),w=(0,p.Ie)(t),I=(0,p.Ak)(t),A=(0,p._P)(t),S=(0,p.G5)(t),{content:P}=t,T=(0,p.Ax)(t),M="boostApply"===t.content.action?.type,E=o.isMonoforum,N=(()=>{if(a||o.isCreator)return!0;if(l)return(0,p.ub)(o,"editMessages");const e=(0,p.ub)(o,"pinMessages"),t=(0,p.Sq)(o,"pinMessages",s);if(u){const n=o.hasUsername||o.hasGeo;return(e||!n)&&!t}return d?!o.isForbidden&&!o.isNotJoined&&e&&!t:e})(),L=(!!P.todo||(a?c:!d&&(u?N:!!l&&(o.isCreator||(0,p.ub)(o,"editMessages"))))||(0,f.Fm)()-t.date<(e.config?.editTimeLimit||1/0))&&!(P.sticker||P.contact||P.pollId||P.action||P.video?.isRound||P.location||P.invoice||P.giveaway||P.giveawayResults||T||P.dice)&&!I&&!t.viaBotId&&!o.isForbidden,B=(0,p.cG)(o.id,n,e.currentUserId),F=Se(e,t,n),x=F||!B&&!m&&!b&&(u||d||(0,p.WX)(o));let D=!m&&!b&&!A&&N&&!B,O=!1;const R=U(e,o.id,n);D&&(O=Boolean(R&&R.includes(t.id)),D=!O);const _=M&&w&&!o.isCreator&&!(0,p.ub)(o,"deleteMessages"),$=(!m||g)&&!b&&!_&&(a||w||d||o.isCreator||(0,p.ub)(o,"deleteMessages")),j=!a&&!w,V=$&&!o.isForbidden&&(a&&!c&&!h&&!P.dice||d&&(w||(0,p.ub)(o,"deleteMessages")||o.isCreator)),z=w||l&&(o.isCreator||(0,p.ub)(o,"editMessages")),Y=!m&&!A&&L&&z,G=Boolean(t.content.sticker),K=G&&(0,C.Ij)(e,t.content.sticker),W=!A&&G&&!K,H=!A&&K,J=!A,q=!m&&!A&&(l||u)&&!E,X=!m&&!A,Q=(0,v.iS)(e,t)&&!S,Z=t.content.video?.isGif,ee=P.pollId?me(e,P.pollId):void 0,te=!ee?.summary.closed&&!ee?.summary.quiz&&ee?.results.results?.some(e=>e.isChosen),ne=z&&ee&&!ee.summary.closed&&!I;return{noOptions:[F,x,Y,D,O,j,$,V,W,H,J,q,X,Q,Z,te,ne].every(e=>!e),canReply:F,canReplyGlobally:x,canEdit:Y,canPin:D,canUnpin:O,canReport:j,canDelete:$,canDeleteForAll:V,canFaveSticker:W,canUnfaveSticker:H,canCopy:J,canCopyLink:q,canSelect:X,canDownload:Q,canSaveGif:Z,canRevote:te,canClosePoll:ne}}function Te(e,t,...[n=(0,a.g0)()]){const{messageIds:o}=(0,A.n)(e,n).selectedMessages||{},{chatId:r,threadId:s}=P(e,n)||{},i=t?.length?t:o;return r&&s&&i?function(e,t,n,o){const r=M(e,t);if(o.length>m.m)return{};const s=o.map(t=>r[t]&&Pe(e,r[t],n)).filter(Boolean);return{canDelete:s.every(e=>e.canDelete),canDeleteForAll:s.every(e=>e.canDeleteForAll)}}(e,r,s,i):{}}function Me(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,A.n)(e,t).selectedMessages||{},{chatId:o,threadId:r}=P(e,t)||{},s=o&&M(e,o);return!!(s&&n&&r)&&n.map(t=>s[t]&&Pe(e,s[t],r)).filter(Boolean).every(e=>e.canReport)}function Ee(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,A.n)(e,t).selectedMessages||{},{chatId:o,threadId:r}=P(e,t)||{},s=o&&M(e,o);return!!(s&&n&&r)&&n.map(t=>s[t]&&Pe(e,s[t],r)).filter(Boolean).some(e=>e.canDownload)}function Ne(e,...[t=(0,a.g0)()]){return(0,A.n)(e,t).activeDownloads}function Le(e,t){return e.fileUploads.byMessageKey[(0,d.bj)(t)]?.progress}function Be(e,t,n){if(n===o.l3){const n=(0,y.hd)(e,t);if(!n)return;if(!n.lastReadInboxMessageId)return;const o=(0,y.ZZ)(e,t);return!o||n.unreadCount?n.lastReadInboxMessageId:o}{const o=H(e,t,n);if(!o)return;return o.lastReadInboxMessageId?Math.min(o.lastReadInboxMessageId,o.lastMessageId||1/0):Number(o.threadId)}}function Fe(e,t,n){const s=(0,y.hd)(e,t);if(n===o.l3){if(!s)return}else{const o=H(e,t,n);if(!o||void 0!==o.lastMessageId&&o.lastMessageId===o.lastReadInboxMessageId)return}const i=D(e,t,n),a=F(e,t,n),c=M(e,t);if(!c||!i?.length&&!a)return;const d=Be(e,t,n);if(!d&&s&&s.isNotJoined)return;const u=t===r.zv8?e.serviceNotifications.reduce((e,t)=>!t.isUnread&&t.id>e?t.id:e,-1):-1;function l(e){return e.find(e=>(!d||e>d)&&c[e]&&(!c[e].isOutgoing||c[e].isFromScheduled)&&e>u)}if(i?.length){const e=i.map(e=>l(e)).filter(Boolean)[0];if(e)return e}if(a){const e=l(a);if(e)return e}}function xe(e,...[t=(0,a.g0)()]){const{isShareMessageModalShown:n}=(0,A.n)(e,t);return Boolean(n)}function De(e,t){const n=Object.values(e.chats.byId).find(n=>(0,p.VN)(n)&&(0,y.ZZ)(e,n.id)===t);if(n)return n.id;const{byChatId:o}=e.messages;return Object.keys(o).find(n=>{const r=(0,y.hd)(e,n);return r&&(0,p.VN)(r)&&o[r.id].byId[t]})}function Oe(e,...[t=(0,a.g0)()]){const{selectedMessages:n}=(0,A.n)(e,t);return Boolean(n)}function Re(e,t,...[n=(0,a.g0)()]){const{messageIds:o}=(0,A.n)(e,n).selectedMessages||{};return!!o&&o.includes(t)}function Ue(e,t,n){const o=M(e,t);if(o)return Object.values(o).filter(e=>e.groupedId===n&&e.forwardInfo).map(({forwardInfo:e})=>e.fromMessageId)}function _e(e,t,n){const o=M(e,t);if(o)return Object.keys(o).map(Number).filter(e=>o[e].groupedId===n)}function $e(e,t,n,...[o=(0,a.g0)()]){const{messageIds:r}=(0,A.n)(e,o).selectedMessages||{};if(!r)return!1;const s=_e(e,t,n);return s&&s.every(e=>r.includes(e))}function je(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,A.n)(e,t).selectedMessages||{};return n?n.length:0}function Ve(e,t,n=o.l3,...[r=(0,a.g0)()]){if(!(0,y.hd)(e,t))return;const s=M(e,t),i=R(e,t,n,r);if(!s||!i)return;const d=(0,c.Uk)(i,t=>{const n=s[t];return n&&function(e,t){const{keyboardButtons:n,shouldHideKeyboardButtons:o,isKeyboardSelective:r,isMentioned:s}=t;if(!n||o)return!1;const i=(0,g.Q)(t)?.replyToMsgId;if(r){if(s)return!0;if(!i)return!1;const n=te(e,t.chatId,i);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)}),u=(0,c.Uk)(i,t=>{const n=s[t];return n&&function(e,t){const{shouldHideKeyboardButtons:n,isHideKeyboardSelective:o,isMentioned:r}=t;if(!n)return!1;const s=(0,g.Q)(t)?.replyToMsgId;if(o){if(r)return!0;if(!s)return!1;const n=te(e,t.chatId,s);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)});return d&&u&&u>d?void 0:d?s[d]:void 0}function ze(e,t){const n=(0,y.hd)(e,t.chatId);if(!n)return;const o="id"in t?de(e,t):void 0,r=ye(e,t),s=Boolean((0,p.yl)(t)||(0,p.eY)(r)),i=Boolean((0,p.zX)(t)||(0,p.rU)(r)),a=Boolean((0,p.wp)(t)||(0,p.gB)(t)||(0,p.zC)(t)),{canAutoLoadPhotoFromContacts:c,canAutoLoadPhotoInPrivateChats:d,canAutoLoadPhotoInGroups:u,canAutoLoadPhotoInChannels:l,canAutoLoadVideoFromContacts:f,canAutoLoadVideoInPrivateChats:h,canAutoLoadVideoInGroups:m,canAutoLoadVideoInChannels:g,canAutoLoadFileFromContacts:b,canAutoLoadFileInPrivateChats:v,canAutoLoadFileInGroups:w,canAutoLoadFileInChannels:I}=e.settings.byKey;return s?Ye({global:e,chat:n,sender:o,canAutoLoadMediaFromContacts:c,canAutoLoadMediaInPrivateChats:d,canAutoLoadMediaInGroups:u,canAutoLoadMediaInChannels:l}):i?Ye({global:e,chat:n,sender:o,canAutoLoadMediaFromContacts:f,canAutoLoadMediaInPrivateChats:h,canAutoLoadMediaInGroups:m,canAutoLoadMediaInChannels:g}):!a||Ye({global:e,chat:n,sender:o,canAutoLoadMediaFromContacts:b,canAutoLoadMediaInPrivateChats:v,canAutoLoadMediaInGroups:w,canAutoLoadMediaInChannels:I})}function Ye({global:e,chat:t,sender:n,canAutoLoadMediaFromContacts:o,canAutoLoadMediaInPrivateChats:r,canAutoLoadMediaInGroups:s,canAutoLoadMediaInChannels:a}){const c=Boolean(n&&((0,y.nZ)(e,n.id)||(0,k.mB)(e,n.id)?.isContact));return Boolean(c&&o||!c&&r&&(0,i.L8)(t.id)||s&&(0,p.YE)(t)||a&&(0,p.WX)(t))}function Ge(e){const{serviceNotifications:t}=e,n=Math.max(...t.map(({id:e})=>e));return t.find(({id:e,isDeleted:t})=>!t&&e===n)}function Ke(e,t){return Boolean(t&&(t.isProtected||We(e,t.chatId)||(0,p.G5)(t)||(0,p.qG)(t)))}function We(e,t){return(0,y.hd)(e,t)?.isProtected||!1}function He(e,t,n){if((0,y.hd)(e,t)?.isProtected)return!0;if(!n)return!1;const o=M(e,t);return n.some(e=>o[e]?.isProtected)}function Je(e,t,n){if((0,y.hd)(e,t)?.isProtected)return!1;if(!n)return!1;const o=M(e,t);return n.map(e=>o[e]).every(e=>e&&!(0,p.G5)(e)&&(e.isForwardingAllowed||(0,p.u7)(e)))}function qe(e,t,n){const o=M(e,t);return n.map(e=>o[e]).some(e=>{if(!e)return!1;const t=(0,p.zC)(e);if(!t)return!1;const n=(0,h.rK)(t);return!!n&&(0,u.N)({mimeType:t.mimeType,extension:n})})}function Xe(e,t){const n=e.messages.sponsoredByChatId[t];return n&&n.expiresAt>=Math.round(Date.now()/1e3)?n:void 0}function Qe(e,t){if(t===r.zv8)return;const n=(0,i.L8)(t),o=e.config?.defaultReaction;if(!o)return;if(n)return o;const s=(0,y.AW)(e,t)?.enabledReactions;return s&&(0,p.A3)(o,s)?o:void 0}function Ze(e){return(0,b.d)(e,"maxReactions")}function et(e,...[t=(0,a.g0)()]){const{chatId:n,threadId:o}=P(e,t)||{};if(!n||!o)return;const r=N(e,n,o,"viewportIds",t);return r?r.map(t=>{const{senderId:o}=te(e,n,t)||{};return o?(0,k.mB)(e,o):void 0}).filter(Boolean):void 0}function tt(e,...[t=(0,a.g0)()]){return"scheduled"===P(e,t)?.type}function nt(e,t){const n=(0,y.nZ)(e,t),o=(0,k.yp)(e,t),r=(0,w.WA)(e,t);return Boolean(!r&&!n&&!o&&(0,i.L8)(t)&&(0,k.K0)(e,t)?.wasOnline)}function ot(e,t){const n=function(e){const t=e.content.text?.entities;return t?.filter(e=>e.type===o.C7.CustomEmoji)}(t);if(!n)return l.p;const r=n.map(t=>(0,C.O8)(e,t.documentId));return r.every(Boolean)?r.map(e=>e.stickerSetInfo).reduce((e,t)=>("shortName"in t&&e.some(e=>"shortName"in e&&e.shortName===t.shortName)||"id"in t&&e.some(e=>"id"in e&&e.id===t.id)||e.push(t),e),[]):void 0}function rt(e,...[t=(0,a.g0)()]){const{messageIds:n,fromChatId:o}=(0,A.n)(e,t).forwardMessages;if(!n)return!1;const r=M(e,o);return n.some(e=>{const t=r[e];return Boolean(t.content.voice)||Boolean(t.content.video?.isRound)})}function st(e,t,n,o){const r=te(e,t,n);if(r?.summaryLanguageCode){if(o&&o!==r.summaryLanguageCode){const r=at(e,t,o);return r[n]?.summary}return e.messages.byChatId[t].summaryById[n]}}function it(e,t){return e.translations.byChatId[t]}function at(e,t,n){return it(e,t)?.byLangCode[n]||{}}function ct(e,t,n,...[o=(0,a.g0)()]){const r=(0,A.n)(e,o).requestedTranslations.byChatId[t];return r?.toLanguage||r?.manualMessages?.[n]}function dt(e,t,n,o){if(!o.replyToMsgId)return!1;const r=o?.replyToPeerId??n;if(t===r)return!0;const s=M(e,r)[o.replyToMsgId];return!(0,p.r$)(s)}function ut(e,t,...[n=(0,a.g0)()]){const{messageIds:o,storyId:r,fromChatId:s}=(0,A.n)(e,n).forwardMessages,i=(0,y.hd)(e,t);if(!o&&!r||!i)return!1;if(r)return!0;const c=(0,y.AW)(e,t),d=M(e,s),u=t?(0,y.nZ)(e,t):void 0,l=t?(0,y.AL)(e,i):void 0,f=(0,p.Q_)(i,c,l,u);return!o.some(e=>function(e,t){const n=e.content.voice,o=e.content.video?.isRound,r=e.content.photo,s=e.content.video?.isGif,i=e.content.video&&!o&&!s,a=e.content.audio,c=e.content.document,d=e.content.sticker,u=e.content.text&&!n&&!o&&!d&&!c&&!a&&!i&&!r&&!s;return n&&!t.canSendVoices||o&&!t.canSendRoundVideos||d&&!t.canSendStickers||c&&!t.canSendDocuments||a&&!t.canSendAudios||i&&!t.canSendVideos||r&&!t.canSendPhotos||s&&!t.canSendGifs||u&&!t.canSendPlainText}(d[e],f))}function lt(e,t,n,...[o=(0,a.g0)()]){const{canTranslate:r,doNotTranslate:i}=e.settings.byKey,c=!n||!i.includes(n),d=(0,p.ZR)(t),u=(0,y.qZ)(e,t.chatId,o);return s.CM&&r&&c&&d&&!u}function ft(e,t,n){const o=(0,y.hd)(e,t);if(o&&o.isForum&&!o.isBotForum)return(0,p.yt)(o,n)}function ht(e,t,n,r){if(!(0,y.hd)(e,t))return;const s=n===o.l3;return r||!s?{type:"message",...r,replyToMsgId:r?.replyToMsgId||Number(n),replyToTopId:r?.replyToTopId||(s?void 0:Number(n))}:void 0}function mt(e,t){const{replyToMsgId:n,replyToPeerId:o}=(0,g.Q)(t)||{};return n?te(e,o||t.chatId,n):void 0}function pt(e,t){if(!t)return[];const{ignoreRestrictionReasons:n}=e.appConfig;return t.filter(e=>{if("all"!==e.platform&&e.platform!==r.LX5)return!1;const t=n?.includes(e.reason);return!t})}},19800:(e,t,n)=>{n.d(t,{Bt:()=>u,Tq:()=>l});var o=n(13439),r=n(31481),s=n(84553);const i=/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i,a="kz_version",c="Z";function d(e){localStorage.setItem(a,JSON.stringify(e))}function u(e){d(e),(0,s.VH)(),(0,o.ko)().skipLockOnUnload(),window.location.assign(`${r.qJR}${e.toLowerCase()}`)}function l(){if(window.location.hostname!==r.mFn)return;const e=document.referrer.toLowerCase();if(e)try{if(!new URL(e).host.match(i))return;const t=function(){const e=localStorage.getItem(a);if(e)return JSON.parse(e)}();if(t)return void(t!==c&&u(t));const n=void 0!==(new URLSearchParams(window.location.search).get("test")??void 0),o=Math.random()<.5;if(n||!o)return void d("Z");u("K")}catch(e){}}},19806:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(84051),r=n(87357),s=n(76023),i=n(4961),a=n(14),c=n(39351),d=n(17712),u=n(21849),l=n(18276),f=n(64493),h=n(57474),m=n(20021);const p=1.25*s.$,g=({id:e,name:t,value:n,label:s,peer:y,labelText:b,subLabel:v,checked:w,tabIndex:I,disabled:C,withIcon:A,blocking:S,permissionGroup:k,isLoading:P,className:T,rightIcon:M,onlyInput:E,isRound:N,nestedCheckbox:L,nestedCheckboxCount:B,nestedOptionList:F,leftElement:x,values:D,onChange:O,onCheck:R,onClickLabel:U})=>{const _=(0,c.A)(),$=(0,o.li)(),[j,V]=(0,o.J0)(!1),z=(0,a.A)(y,!0),Y=(0,d.A)(e=>{C||(O&&O(e,F),R&&R(e.currentTarget.checked))}),G=(0,d.A)(()=>{V(!j)}),K=(0,r.A)("Checkbox",C&&"disabled",A&&"withIcon",P&&"loading",S&&"blocking",L&&"nested",v&&"withSubLabel",k&&"permission-group",Boolean(x)&&"avatar",E&&"onlyInput",N&&"round",Boolean(M)&&"withNestedList",T);return(0,m.FD)(m.FK,{children:[(0,m.FD)("label",{className:K,dir:_.isRtl?"rtl":void 0,onClick:U?function(e){e.target!==$.current&&U?.(e,n)}:void 0,ref:$,children:[(0,m.Y)("input",{type:"checkbox",id:e,name:t,value:n,checked:w,disabled:C,tabIndex:I,onChange:Y,onClick:U?function(e){e.stopPropagation()}:void 0}),(0,m.FD)("div",{className:(0,r.A)("Checkbox-main",Boolean(x)&&"Nested-avatar-list"),children:[(0,m.Y)("div",{className:(0,r.A)("user-avatar",z&&"user-avatar-visible"),children:z&&(0,m.Y)(u.A,{peer:z,size:p})}),(0,m.FD)("span",{className:"label",dir:"auto",children:[x,"string"==typeof s?(0,i.A)(s):s,Boolean(b)&&(0,m.Y)("span",{className:"ml-1",children:(0,i.A)(b)})]}),v&&(0,m.Y)("span",{className:"subLabel",dir:"auto",children:(0,i.A)(v)}),M&&(0,m.Y)(l.A,{name:M,className:"right-icon"})]}),L&&(0,m.Y)("span",{className:"nestedButton",dir:"auto",children:(0,m.FD)(f.A,{className:"button",color:"translucent",size:"smaller",onClick:G,children:[(0,m.Y)(l.A,{name:"group-filled",className:"group-icon"}),B,(0,m.Y)(l.A,{name:j?"up":"down"})]})}),P&&(0,m.Y)(h.A,{})]}),L&&(0,m.Y)("div",{className:(0,r.A)("nested-checkbox-group",j&&"nested-checkbox-group-open"),children:F?.map(e=>(0,m.Y)(g,{leftElement:x,onChange:Y,checked:-1!==D?.indexOf(e.value),values:D,...e},e.value))})]})},y=(0,o.ph)(g)},19822:(e,t,n)=>{n.d(t,{Hd:()=>u,S0:()=>s,ZM:()=>l,i0:()=>a,qM:()=>d,vk:()=>i});var o=n(66644);let r;function s(e,t,n){n||(r&&!r.isCancelled&&(r.isCancelled=!0),r=n={isCancelled:!1}),!n.isCancelled&&e()&&t(()=>{s(e,t,n)})}function i(){s(()=>{},e=>e)}function a(e,t){t(()=>{e()&&a(e,t)})}function c(e,t){e()&&t(()=>{c(e,t)})}const d={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function u({timing:e=d.linear,onUpdate:t,duration:n,onEnd:r,from:s,to:i}){const a=Date.now();let u=!1;return c(()=>{if(u)return!1;const o=Date.now(),c=Math.min((o-a)/n,1),d=e(c);if("number"==typeof s&&"number"==typeof i)t(s+(i-s)*d);else if(Array.isArray(s)&&Array.isArray(i)){const e=s.map((e,t)=>e+(i[t]-e)*d);t(e)}return 1===c&&r?.(),c<1},o.YS),()=>{u=!0,r?.(!0)}}function l(e,t){Object.assign(e.style,t)}},19926:(e,t,n)=>{n.d(t,{K0:()=>s,U:()=>a,XO:()=>p,ap:()=>c,g2:()=>d,gT:()=>h,hc:()=>f,mB:()=>r,n_:()=>l,tr:()=>u,vG:()=>i,yp:()=>m});var o=n(90709);function r(e,t){return e.users.byId[t]}function s(e,t){return e.users.statusesById[t]}function i(e,t){return e.users.fullInfoById[t]}function a(e,t){return e.users.commonChatsById[t]}function c(e,t){return i(e,t)?.isBlocked}function d(e){return!!e.currentUserId&&Boolean(e.users.byId[e.currentUserId].isPremium)}function u(e){return Boolean(e.appConfig.freezeUntilDate)}function l(e){return e.appConfig.isPremiumPurchaseBlocked??!0}function f(e){return e.appConfig.isGiveawayGiftsPurchaseAvailable??!0}function h(e,t){const n=t.replace(/[^0-9]/g,"");return Object.values(e.users.byId).find(e=>e?.phoneNumber===n)}function m(e,t){const n=r(e,t);if(n&&(0,o.tv)(n))return n}function p(e,t){return e.users.botAppPermissionsById[t]}},20021:(e,t,n)=>{n.d(t,{FD:()=>i,FK:()=>r,Y:()=>s});var o=n(84051);const r=o.Ay.Fragment;function s(e,t,n){return function(e,t={},n){void 0!==n&&(t.key=n);const r=t.children;return void 0!==t.children&&(t.children=void 0),o.Ay.createElement(e,t,r)}(e,t,n)}const i=s},20158:(e,t,n)=>{n.d(t,{KN:()=>u,Ol:()=>i,Su:()=>l,ly:()=>d,qK:()=>c});var o=n(14487),r=n(87894),s=n(32989);function i(e,t=(0,o.g0)()){const n=e.byTabId[t],{giftInfoModal:r}=n;if(!r)return e;const i=r.gift;if(!i||!("gift"in i))return e;const a=i,c=a.gift;if("starGiftUnique"!==c.type)return e;const d={...c,attributes:c.attributes?.filter(e=>"originalDetails"!==e.type)},u={...a,dropOriginalDetailsStars:void 0,gift:d};return(0,s.w)(e,{giftInfoModal:{...r,gift:u}},t)}function a(e){return"active"===e.type?e.version:0}function c(e,t,n){const o=e.giftAuctionByGiftId?.[t];return o&&a(n)>a(o.state)?{...e,giftAuctionByGiftId:{...e.giftAuctionByGiftId,[t]:{...o,state:n}}}:e}function d(e,t,n){const o=e.giftAuctionByGiftId?.[t];return o?{...e,giftAuctionByGiftId:{...e.giftAuctionByGiftId,[t]:{...o,userState:n}}}:e}function u(e,t){const n=t.gift.id;return{...e,giftAuctionByGiftId:{...e.giftAuctionByGiftId,[n]:t}}}function l(e,t){if(!e.giftAuctionByGiftId?.[t])return e;const n=(0,r.cJ)(e.giftAuctionByGiftId,[t]);return{...e,giftAuctionByGiftId:Object.keys(n).length?n:void 0}}},20179:(e,t,n)=>{n.d(t,{DX:()=>a,Fi:()=>r,Xj:()=>s,rp:()=>i});var o=n(31481);function r(e){return`photo${e.id}?size=x`}function s(e){return"channels"===e?"channels":"chats"===e||"groups"===e?"chats":"users"===e?"users":"bots"===e?"bots":void 0}function i(e){return e.requestUrl?e.requestUrl:e.appName?`${e.botId}?appName=${e.appName}`:e.botId}function a(e){return e===o.f51||e===o.b5_}},20714:(e,t,n)=>{n.d(t,{$8:()=>u,HB:()=>l,Je:()=>f,LH:()=>a,PI:()=>d,tS:()=>c});var o=n(89925),r=n(31481),s=n(96454),i=n(13235);const a={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!0,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!0},c={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!1,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!1},d={animatedEmoji:!1,autoplayGifs:!1,autoplayVideos:!1,contextMenuAnimations:!1,contextMenuBlur:!1,loopAnimatedStickers:!1,mediaViewerAnimations:!1,messageComposerAnimations:!1,messageSendingAnimations:!1,pageTransitions:!1,reactionEffects:!1,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},u={settings:{theme:"light",shouldUseSystemTheme:!0,messageTextSize:s.pz?r.fSF:s.MP?r.pZc:r.pk8,animationLevel:r.i11,foldersPosition:r.I6d,messageSendKeyCombo:"enter",performance:a,shouldSkipWebAppCloseConfirmation:!1,language:"en",timeFormat:"24h",wasTimeFormatSetManually:!1,isConnectionStatusMinimized:!0,canDisplayChatInTitle:!0,shouldAllowHttpTransport:!0,shouldWarnAboutFiles:!0},isInitial:!0},l={cacheVersion:2,isInited:!0,attachMenu:{bots:{}},passcode:{},twoFaSettings:{},isAppUpdateAvailable:!1,shouldShowContextMenuHint:!0,appConfig:i.hE,audioPlayer:{volume:r.Hz7,lastPlaybackRate:r.P3f},mediaViewer:{lastPlaybackRate:r.P3f},auth:{rememberMe:!0},countryList:{phoneCodes:[],general:[]},blocked:{ids:[],totalCount:0},users:{byId:{},statusesById:{},fullInfoById:{},previewMediaByBotId:{},commonChatsById:{},botAppPermissionsById:{}},peers:{profilePhotosById:{}},chats:{listIds:{},isFullyLoaded:{},orderedPinnedIds:{},totalCount:{},lastMessageIds:{},byId:{},fullInfoById:{},similarChannelsById:{},similarBotsById:{},topicsInfoById:{},notifyExceptionById:{},loadingParameters:{active:{},archived:{},saved:{}}},messages:{byChatId:{},sponsoredByChatId:{},pollById:{},webPageById:{},playbackByChatId:{}},stories:{byPeerId:{},albumsByPeerId:{},orderedPeerIds:{archived:[],active:[]},hasNext:!0,hasNextInArchive:!0,stealthMode:{}},groupCalls:{byId:{}},attachmentSettings:{shouldCompress:!0,defaultAttachmentCompression:"compress",shouldSendGrouped:!0,isInvertedMedia:void 0,webPageMediaSize:void 0,shouldSendInHighQuality:!1},scheduledMessages:{byChatId:{}},quickReplies:{byId:{},messagesById:{}},chatFolders:{byId:{},invites:{},areTagsEnabled:!1},fileUploads:{byMessageKey:{}},recentEmojis:["grinning","kissing_heart","christmas_tree","brain","trophy","duck","cherries"],recentCustomEmojis:["5377305978079288312"],reactions:{defaultTags:[],topReactions:[],recentReactions:[],effectReactions:[],hash:{}},availableEffectById:{},stickers:{setsById:{},added:{},recent:{stickers:[]},favorite:{stickers:[]},greeting:{stickers:[]},premium:{stickers:[]},featured:{setIds:[]},effect:{stickers:[],emojis:[]},forEmoji:{}},customEmojis:{lastRendered:[],byId:{},added:{},forEmoji:{},statusRecent:{}},emojiKeywords:{},gifs:{saved:{}},topPeers:{},topInlineBots:{},topBotApps:{},activeSessions:{byHash:{},orderedHashes:[]},activeWebSessions:{byHash:{},orderedHashes:[]},settings:{byKey:{canAutoLoadPhotoFromContacts:!0,canAutoLoadPhotoInPrivateChats:!0,canAutoLoadPhotoInGroups:!0,canAutoLoadPhotoInChannels:!0,canAutoLoadVideoFromContacts:!0,canAutoLoadVideoInPrivateChats:!0,canAutoLoadVideoInGroups:!0,canAutoLoadVideoInChannels:!0,canAutoLoadFileFromContacts:!1,canAutoLoadFileInPrivateChats:!1,canAutoLoadFileInGroups:!1,canAutoLoadFileInChannels:!1,autoLoadFileMaxSizeMb:10,hasWebNotifications:!0,hasPushNotifications:!0,notificationSoundVolume:5,shouldSuggestStickers:!0,shouldSuggestCustomEmoji:!0,shouldPaidMessageAutoApprove:!1,shouldUpdateStickerSetOrder:!0,shouldArchiveAndMuteNewNonContact:!1,shouldNewNonContactPeersRequirePremium:!1,disallowedGifts:void 0,nonContactPeersPaidStars:0,shouldHideReadMarks:!1,canTranslate:!1,canTranslateChats:!0,doNotTranslate:[]},privacy:{},botVerificationShownPeerIds:[],themes:{light:{isBlurred:!0,patternColor:r.be8},dark:{isBlurred:!0,patternColor:r.MkD}},accountDaysTtl:365},serviceNotifications:[],trustedBotIds:[],transcriptions:{},translations:{byChatId:{}},byTabId:{},sharedState:u,archiveSettings:{isMinimized:!1,isHidden:!1}},f={id:0,isMasterTab:!1,isLeftColumnShown:!0,newChatMembersProgress:o.D7.Closed,uiReadyState:0,shouldInit:!0,gifSearch:{},stickerSearch:{},messageLists:[],activeChatFolder:0,tabThreads:{},inlineBots:{isLoading:!1,byUsername:{}},webApps:{openedWebApps:{},openedOrderedKeys:[],sessionKeys:[],modalState:"maximized",isModalOpen:!1,isMoreAppsTabActive:!1},globalSearch:{},userSearch:{},leftColumn:{contentKey:o.Bn.ChatList,settingsScreen:o.VS.Main},middleSearch:{byChatThreadKey:{}},sharedMediaSearch:{byChatThreadKey:{}},chatMediaSearch:{byChatThreadKey:{}},management:{byChatId:{}},chatInfo:{isOpen:!1},savedGifts:{filter:{...r.tBS},collectionsByPeerId:{},activeCollectionByPeerId:{}},resaleGifts:{gifts:[],count:0,updateIteration:0,filter:{...r.hYe}},storyViewer:{isMuted:!0,isRibbonShown:!1},mediaViewer:{volume:r.Hz7,playbackRate:r.P3f,isMuted:!1},audioPlayer:{playbackRate:r.P3f,isMuted:!1},isShareMessageModalShown:!1,isWebAppsCloseConfirmationModalOpen:!1,forwardMessages:{},replyingMessage:{},pollResults:{},payment:{},starsPayment:{},notifications:[],dialogs:[],activeReactions:{},activeDownloads:{},statistics:{byChatId:{}},pollModal:{isOpen:!1},requestedTranslations:{byChatId:{}},isPaymentMessageConfirmDialogOpen:!1}},21133:(e,t,n)=>{n.d(t,{$:()=>k,$T:()=>m,AL:()=>g,AO:()=>_,AW:()=>f,D3:()=>P,I_:()=>I,LR:()=>D,OD:()=>V,P4:()=>S,To:()=>b,VF:()=>E,XD:()=>G,ZZ:()=>$,_l:()=>Y,bE:()=>C,df:()=>w,dg:()=>U,dq:()=>M,hX:()=>F,hd:()=>l,jG:()=>O,k2:()=>z,kB:()=>h,ke:()=>y,mJ:()=>A,nT:()=>v,nZ:()=>p,p6:()=>L,qZ:()=>R,qn:()=>T,s:()=>N,w5:()=>x,yH:()=>j,yM:()=>B});var o=n(31481),r=n(96454),s=n(48899),i=n(14487),a=n(90709),c=n(19408),d=n(5056),u=n(19926);function l(e,t){return e.chats.byId[t]}function f(e,t){return e.chats.fullInfoById[t]}function h(e,t){return(0,s.L8)(t)?(0,u.vG)(e,t):f(e,t)}function m(e,t){return e.chats.loadingParameters[t]}function p(e,t){return t===e.currentUserId}function g(e,t){const n=function(e,t){const n=(0,a.e7)(t);return!!n&&(0,u.mB)(e,n)}(e,t);return n&&(0,a.tv)(n)}function y(e){return Object.values(e.chats.byId).find(({isSupport:e})=>e)}function b(e,t){const n=f(e,t.id);if(!(0,s.L8)(t.id)&&!(0,a.WX)(t)&&n)return n.members&&n.members.length!==o.WG3?n.members.reduce((t,{userId:n})=>!p(e,n)&&e.users.byId[n]&&(0,a.PF)(e.users.byId[n],e.users.statusesById[n])?t+1:t,0):n.onlineCount}function v(e,t){return e.trustedBotIds.includes(t)||e.appConfig.whitelistedBotIds?.includes(t)}function w(e,t){if((0,u.yp)(e,t))return"bots";if((0,u.mB)(e,t))return"users";const n=l(e,t);return n?(0,a.WX)(n)?"channels":"chats":void 0}function I(e,t){if(!(0,u.yp)(e,t))return!1;const n=j(e,t);return!(!n||!(0,a.X_)(n))||Boolean(!n)}function C(e){return Boolean(e.chats.listIds.active)}function A(e,t,n){const{listIds:o}=e.chats;if(n){const e=o[n];return Boolean(e&&e.includes(t))}return Object.values(o).some(e=>e&&e.includes(t))}function S(e,t){const n=l(e,t);if(n&&A(e,t))return n.folderId===o._E9?"archived":"active"}function k(e,t){return e.chatFolders.byId[t]}function P(e,t,n=o.DSF){const{active:r,archived:s,saved:i}=e.chats.orderedPinnedIds;if(n===o.DSF)return Boolean(r?.includes(t));if(n===o._E9)return Boolean(s?.includes(t));if(n===o.pX9)return Boolean(i?.includes(t));const{byId:a}=e.chatFolders,{pinnedChatIds:c}=a[n]||{};return Boolean(c?.includes(t))}function T(e,t){const n=t.toLowerCase();return Object.values(e.chats.byId).find(e=>e.usernames?.some(e=>e.username.toLowerCase()===n))}function M(e){return Boolean(l(e,o.zv8))}function E(e,t){if(!l(e,t))return;const n=f(e,t)?.sendAsId;return n?(0,u.mB)(e,n)||l(e,n):void 0}function N(e,t,...[n=(0,i.g0)()]){const{requestedDraft:o}=(0,d.n)(e,n);if(o?.chatId===t&&!o.files?.length)return o.text}function L(e,t,...[n=(0,i.g0)()]){const{requestedDraft:o}=(0,d.n)(e,n);if(o?.chatId===t)return o.files}function B(e,t,n){return t.filter(t=>{const o=w(e,t);return!!o&&n.includes(o)})}function F(e,t){const n=l(e,t);return!!n&&!n.migratedTo&&Boolean(!(0,s.L8)(t)&&((0,a.WX)(n)||(0,a.Vs)(n)?n.isCreator||(0,a.ub)(n,"inviteUsers")||(0,a.gA)(n)&&!n.isJoinRequest:n.isCreator||(0,a.ub)(n,"inviteUsers")))}function x(e,t){const n=k(e,t);if(!n)return!1;const{bots:o,groups:r,channels:s,contacts:i,nonContacts:a,includedChatIds:c,pinnedChatIds:d,excludeArchived:u,excludeMuted:l,excludeRead:f,excludedChatIds:h}=n;return!o&&!r&&!s&&!i&&!a&&!u&&!l&&!f&&!h?.length&&(d?.length||c.length)&&n.includedChatIds.concat(n.pinnedChatIds||[]).some(t=>F(e,t))}function D(e,t){const n=l(e,t);if(!n)return!1;if(n.hasAutoTranslation)return!0;const{canTranslateChats:o}=e.settings.byKey,s=(0,u.g2)(e),i=p(e,t);return r.CM&&o&&s&&!i}function O(e,t,...[n=(0,i.g0)()]){const o=l(e,t);if(!o)return!1;if(R(e,t,n))return!0;const r=D(e,t),s=o.detectedLanguage,{doNotTranslate:a}=e.settings.byKey;return Boolean(r&&s&&!a.includes(s))}function R(e,t,...[n=(0,i.g0)()]){const{requestedTranslations:o}=(0,d.n)(e,n);return o.byChatId[t]?.toLanguage}function U(e,t){return e.chats.similarChannelsById[t]}function _(e,t){return e.chats.similarBotsById[t]}function $(e,t,n="all"){return e.chats.lastMessageIds[n]?.[t]}function j(e,t,n="all"){const o=$(e,t,n);if(!o)return;const r="saved"===n?e.currentUserId:t;return e.messages.byChatId[r]?.byId[o]}function V(e,t){const n=l(e,t);if(!n?.isMonoforum)return;const o=z(e,t);return o?Boolean(n.isCreator||(0,a.ub)(o,"manageDirectMessages")):void 0}function z(e,t){const n=l(e,t);if(n)return n.isMonoforum?l(e,n.linkedMonoforumId):void 0}function Y(e,t){const n=l(e,t);return!!n&&(0,c.G6)(e,n.restrictionReasons).length>0}function G(e){const t=e.chatFolders.orderedIds;return Boolean(t&&t.length>1)}},21309:(e,t,n)=>{n.d(t,{Lp:()=>a,Os:()=>c,Sy:()=>l,V8:()=>i,_k:()=>u,d_:()=>s,dp:()=>r,pY:()=>o,qZ:()=>d});const o=60,r=3600,s=86400,i=7*s,a=30*s;function c(e,t){return(t?Math.floor:Math.ceil)(e/o)}function d(e,t){return(t?Math.floor:Math.ceil)(e/r)}function u(e,t){return(t?Math.floor:Math.ceil)(e/s)}function l(e,t,n){return e*r+t*o+n}},21687:(e,t,n)=>{function o(e){const{pageTransitions:t,messageSendingAnimations:n,mediaViewerAnimations:o,messageComposerAnimations:r,contextMenuAnimations:s,contextMenuBlur:i,rightColumnAnimations:a}=e,c=document.body;c.classList.toggle("no-page-transitions",!t),c.classList.toggle("no-message-sending-animations",!n),c.classList.toggle("no-media-viewer-animations",!o),c.classList.toggle("no-message-composer-animations",!r),c.classList.toggle("no-context-menu-animations",!s),c.classList.toggle("no-menu-blur",!i),c.classList.toggle("no-right-column-animations",!a)}n.d(t,{u:()=>o})},21849:(e,t,n)=>{n.d(t,{A:()=>T,R:()=>k});var o=n(84051),r=n(13439),s=n(23174),i=n(31481),a=n(90709),c=n(70636),d=n(87357),u=n(95807),l=n(48899),f=n(14242),h=n(76023),m=n(4961),p=n(11217),g=n(17712),y=n(62587),b=n(37960),v=n(59030),w=n(39996),I=n(65843),C=n(88554),A=n(18276),S=n(20021);const k={micro:h.$,mini:1.5*h.$,tiny:2*h.$,small:2.125*h.$,medium:2.75*h.$,large:3.375*h.$,giant:5.625*h.$,jumbo:7.5*h.$},P=(0,d.x)("Avatar");P.media=P("media"),P.icon=P("icon");const T=(0,o.ph)(({className:e,style:t,size:n="large",peer:h,photo:T,webPhoto:M,previewUrl:E,text:N,isSavedMessages:L,isSavedDialog:B,withVideo:F,withStory:x,forPremiumPromo:D,withStoryGap:O,withStorySolid:R,storyColors:U,forceFriendStorySolid:_,forceUnreadStorySolid:$,storyViewerOrigin:j,storyViewerMode:V="single-peer",loopIndefinitely:z,noPersonalPhoto:Y,asMessageBubble:G,onClick:K,onContextMenu:W,onMouseMove:H})=>{const{openStoryViewer:J}=(0,r.ko)(),q=(0,o.li)(),X=(0,o.li)(0),Q=h&&"isCustomPeer"in h,Z=h&&!Q?h:void 0,ee=Z&&(0,c.mO)(Z)?Z:void 0,te=Z&&(0,c.vj)(Z)?Z:void 0,ne=ee&&(0,a.PL)(ee),oe=Z&&(0,a.kE)(Z.id),re=Z&&(0,a.Qe)(Z.id),se=te?.isForum,ie=(0,a.Zg)(h,!0),ae=void 0!==ie?(0,w.yp)(ie):void 0,ce=x&&"disabled"!==V&&Z?.hasStories;let de,ue;const le="number"==typeof n?n:k[n],fe=F&&T?.isVideo,he=le>=k.jumbo;L||ne||(ee&&!Y||te?de=(0,a.cP)(h,he?"big":void 0):T?(de=`photo${T.id}?size=m`,T.isVideo&&F&&(ue=(0,a.Pg)(T))):M&&(de=(0,a.cy)(M)));const me=(0,o.Kr)(()=>Q?h.avatarIcon:L?B?"my-notes":"avatar-saved-messages":ne?"avatar-deleted-account":oe?"reply-filled":re?"author-hidden":void 0,[Q,L,ne,oe,re,h,B]),pe=(0,y.A)(de,!1,s.qZ.BlobUrl),ge=(0,y.A)(ue,!fe,s.qZ.BlobUrl),ye=pe||E,be=Boolean(ye||ge),ve=Boolean(ge&&fe),{ref:we}=(0,b.A)({hasMediaData:be}),Ie=(0,g.A)(e=>{const t=e.currentTarget;ge&&(z||(X.current+=1,X.current>=3&&(t.style.display="none")))}),Ce=(0,v.A)();let Ae;const Se=ee?(0,a.Yg)(ee):te?(0,a.Js)(Ce,te):N;if(me)Ae=(0,S.Y)(A.A,{name:me,className:P.icon,role:"img",ariaLabel:Se});else if(be)Ae=(0,S.FD)(S.FK,{children:[(0,S.Y)("img",{ref:we,src:ye,className:(0,d.A)(P.media,"avatar-media",ge&&"poster"),alt:Se,decoding:"async",draggable:!1}),ve&&(0,S.Y)(I.A,{canPlay:!0,src:ge,className:(0,d.A)(P.media,"avatar-media","poster"),muted:!0,loop:z,autoPlay:!0,disablePictureInPicture:!0,playsInline:!0,draggable:!1,onEnded:Ie})]});else if(ee){const e=(0,a.Yg)(ee);Ae=e?(0,f.Qh)(e,2):void 0}else if(te){const e=(0,a.Js)(Ce,te);Ae=e&&(0,f.Qh)(e,(0,l.L8)(te.id)?2:1)}else if(Q){const e=h.title||Ce(h.titleKey);Ae=e&&(0,f.Qh)(e,1)}else N&&(Ae=(0,f.Qh)(N,2));const ke=Q&&h.isAvatarSquare||se&&!((x||R)&&Z?.hasStories),Pe=Q&&h.withPremiumGradient,Te=Q&&h.customPeerAvatarColor,Me=(0,d.A)("Avatar",e,ae,!h&&N&&"hidden-user",L&&"saved-messages",re&&"anonymous-forwards",ne&&"deleted-account",oe&&"replies-bot-account",Pe&&"premium-gradient-bg",ke&&"forum",G&&"message-bubble",(T||M)&&"force-fit",(x&&Z?.hasStories||D)&&"with-story-circle",R&&Z?.hasStories&&"with-story-solid",R&&_&&"close-friend",R&&(Z?.hasUnreadStories||$)&&"has-unread-story",(K||ce)&&"interactive",!L&&!ye&&"no-photo"),Ee=(0,u.A)(`--_size: ${le}px;`,Te&&`--color-user: ${Te}`,t),Ne=Boolean(L||ye),{handleClick:Le,handleMouseDown:Be}=(0,p.Q)(e=>{if(ce)return e.stopPropagation(),void J({peerId:Z.id,isSinglePeer:"single-peer"===V,origin:j});K&&K(e,Ne)});return(0,S.FD)("div",{ref:q,className:Me,id:Z?.id&&x?(0,a.kR)(Z.id):void 0,"data-peer-id":Z?.id,"data-test-sender-id":i.W75?Z?.id:void 0,"aria-label":"string"==typeof Ae?Se:void 0,style:Ee,onClick:Le,onContextMenu:W,onMouseDown:Be,onMouseMove:H,children:[(0,S.Y)("div",{className:"inner",children:"string"==typeof Ae?(0,m.A)(Ae,[he?"hq_emoji":"emoji"]):Ae}),x&&Z?.hasStories&&(0,S.Y)(C.A,{peerId:Z.id,size:le,withExtraGap:O,colors:U})]})})},22237:(e,t,n)=>{n.d(t,{Hp:()=>s,cO:()=>d,n5:()=>c});var o=n(46536);const r=Symbol("SIGNAL_MARK");function s(e){return"function"==typeof e&&r in e}const i=new Map;let a;function c(e){const t={value:e,effects:(0,o.h)()};function n(e){const n=t.effects.addCallback(e);return i.has(e)?i.get(e).add(n):i.set(e,new Set([n])),()=>{n();const t=i.get(e);t.delete(n),t.size||i.delete(e)}}return[Object.assign(function(){return a&&n(a),t.value},{[r]:r,subscribe:n,once:function(e){const t=n(()=>{t(),e()});return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}function d(e){i.get(e)?.forEach(e=>{e()}),i.delete(e)}},22699:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(64493),s=n(71429),i=n(20021);const a=({trigger:e,className:t,bubbleClassName:n,children:a,transformOriginX:c,transformOriginY:d,positionX:u="left",positionY:l="top",footer:f,forceOpen:h,onOpen:m,onClose:p,onTransitionEnd:g,onMouseEnterBackdrop:y,onHide:b,autoClose:v=!0})=>{const w=(0,o.li)(),[I,C]=(0,o.J0)(!1),A=(0,o.hb)(()=>{C(!1),p?.()},[p]),S=(0,o.Kr)(()=>e||(({onTrigger:e,isOpen:t})=>(0,i.Y)(r.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":"",iconName:"more",onClick:e,ariaLabel:"More actions"})),[e]);return(0,i.FD)("div",{className:`DropdownMenu ${t||""}`,onKeyDown:e=>{const t=w.current;if(!I||40!==e.keyCode||!t)return;const n=document.activeElement,o=Array.from(t.children);n&&-1!==o.indexOf(n)||o[0].focus()},onTransitionEnd:g,children:[S({onTrigger:()=>{C(!I),I?p?.():m?.()},isOpen:I}),(0,i.Y)(s.A,{ref:w,isOpen:I||Boolean(h),className:t||"",bubbleClassName:n||"",transformOriginX:c,transformOriginY:d,positionX:u,positionY:l,footer:f,autoClose:v,onClose:A,onCloseAnimationEnd:b,onMouseEnterBackdrop:y,children:a})]})}},22802:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(84051),r=n(68323);const s="backdrop";function i(e,t,n,i,a){(0,o.vJ)(()=>{if(!e||!n)return;const o=e=>{const o=t.current,c=e.target;!o||!c||i&&2===e.button||(0,r.x)()||o.contains(e.target)&&!c.classList.contains(s)||a&&(c.matches(a)||c.closest(a))||(e.preventDefault(),e.stopPropagation(),n?.())};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[a,i,e,t,n])}},22986:(e,t,n)=>{function o(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){const n=e,r=t;return n.length===r.length&&n.every((e,t)=>o(e,r[t]))}const s=e,i=t,a=Object.keys(s);return a.length===Object.keys(i).length&&a.every(e=>o(s[e],i[e]))}n.d(t,{T:()=>o})},23174:(e,t,n)=>{n.d(t,{C7:()=>o.C7,K1:()=>o.K1,l3:()=>o.l3,qZ:()=>r.q});var o=n(84448),r=n(35710)},24282:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(16120);const r=[[/\u{1f3f3}\u200d\u{1f308}/gu,"ðŸ³ï¸â€ðŸŒˆ"],[/\u{1f3f3}\u200d\u26a7\ufe0f?/gu,"ðŸ³ï¸â€âš§ï¸"],[/\u26d3\u200d\u{1f4a5}/gu,"â›“ï¸â€ðŸ’¥"],[/\u200d([\u2640\u2642])(?!\ufe0f)/gu,"â€$1ï¸"]];function s(e){if(!e.match(o.A))return e;for(const[t,n]of r)e=e.replace(t,n);return e}},24433:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(31481),r=n(87357),s=n(43874),i=n(39351),a=n(17712),c=n(18276),d=n(20021);const u=e=>{const{icon:t,isCharIcon:n,customIcon:u,className:l,children:f,href:h,target:m,download:p,disabled:g,destructive:y,ariaLabel:b,withWrap:v,rel:w="noopener noreferrer",withPreventDefaultOnMouseDown:I,clickArg:C,onClick:A,onContextMenu:S}=e,k=(0,i.A)(),{isTouchScreen:P}=(0,s.Ay)(),T=(0,a.A)(e=>{!g&&A?A(e,C):e.preventDefault()}),M=(0,a.A)(e=>{13!==e.keyCode&&32!==e.keyCode||(!g&&A?A(e,C):e.preventDefault())}),E=(0,a.A)(e=>{I&&e.preventDefault()}),N=(0,r.A)("MenuItem",l,g&&"disabled",y&&"destructive",!P&&"compact",v&&"wrap"),L=(0,d.FD)(d.FK,{children:[!u&&t&&(0,d.Y)(c.A,{name:n?"char":t,character:n?t:void 0}),u,f]});return h&&!g?(0,d.Y)("a",{tabIndex:0,className:N,href:h,download:p,"aria-label":b,title:b,target:m||(h.startsWith(window.location.origin)||o.W75?"_self":"_blank"),rel:w,dir:k.isRtl?"rtl":void 0,onClick:A,onMouseDown:E,children:L}):(0,d.Y)("div",{role:"menuitem",tabIndex:0,className:N,onClick:T,onKeyDown:M,onMouseDown:E,onContextMenu:S,"aria-label":b,title:b,dir:k.isRtl?"rtl":void 0,children:L})}},24585:(e,t,n)=>{n.d(t,{Tc:()=>f,Dc:()=>h,_G:()=>m});var o=n(31481);const r=36,s=2147483647;function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:r}function a(e,t,n){let o;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),o=0;e>455;o+=r)e=Math.floor(e/35);return Math.floor(o+36*e/(e+38))}function c(e,t){const n=[],o=[],c=e.length;let d,u,l,f,h,m,p,g,y,b,v,w,I;for(d=128,l=0,f=72,h=e.lastIndexOf("-"),h<0&&(h=0),m=0;m<h;++m){if(t&&(o[n.length]=e.charCodeAt(m)-65<26),e.charCodeAt(m)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(m))}for(p=h>0?h+1:0;p<c;){for(g=l,y=1,b=r;;b+=r){if(p>=c)throw RangeError("punycode_bad_input(1)");if(v=i(e.charCodeAt(p++)),v>=r)throw RangeError("punycode_bad_input(2)");if(v>Math.floor((s-l)/y))throw RangeError("punycode_overflow(1)");if(l+=v*y,w=b<=f?1:b>=f+26?26:b-f,v<w)break;if(y>Math.floor(s/(r-w)))throw RangeError("punycode_overflow(2)");y*=r-w}if(u=n.length+1,f=a(l-g,u,0===g),Math.floor(l/u)>s-d)throw RangeError("punycode_overflow(3)");d+=Math.floor(l/u),l%=u,t&&o.splice(l,0,e.charCodeAt(p-1)-65<26),n.splice(l,0,d),l++}if(t)for(l=0,I=n.length;l<I;l++)o[l]&&(n[l]=String.fromCharCode(n[l]).toUpperCase().charCodeAt(0));return(e=>{const t=[];let n=0;const o=e.length;let r;for(;n<o;){if(r=e[n++],55296==(63488&r))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");r>65535&&(r-=65536,t.push(String.fromCharCode(r>>>10&1023|55296)),r=56320|1023&r),t.push(String.fromCharCode(r))}return t.join("")})(n)}const d=function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const o=t[e];n.push(o.match(/^xn--/)?c(o.slice(4)):o)}return n.join(".")},u=new Set(["http:","https:","tg:","ton:","mailto:","tel:"]),l="https://";function f(e){try{const t=new URL(e);return u.has(t.protocol)?e:`${l}${e}`}catch(t){return`${l}${e}`}}function h(e){const t=f(e);try{const e=new URL(t),n=d(e.hostname);try{return decodeURI(e.toString()).replace(e.hostname,n)}catch(t){return e.toString().replace(e.hostname,n)}}catch(t){o.Oig&&console.warn("SafeLink.getDecodedUrl error ",e,t)}}function m(e){let t;try{t=d(new URL(f(e)).hostname)}catch(e){return!0}let n=!1,o=!1;for(const e of Array.from(t))if(/\p{L}/u.test(e)&&(/\p{Script=Latin}/u.test(e)?n=!0:o=!0,n&&o))return!0;return!1}},24896:(e,t,n)=>{function o(e,t){return`${e}_${t}`}n.d(t,{W:()=>o})},24909:(e,t,n)=>{n.d(t,{s:()=>s,y:()=>i});var o=n(48894);const r=240;function s(e,t,n="image/png"){const o=e instanceof Blob?URL.createObjectURL(e):e,r=new Image;return new Promise(s=>{r.onload=()=>{a(r,r.width*t,r.height*t,n).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(s).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(o)})},r.src=o})}function i(e,t,n,o="image/png"){const r=e instanceof Blob?URL.createObjectURL(e):e,s=new Image;return new Promise(i=>{s.onload=()=>{a(s,t,n,o).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(i).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(r)})},s.src=r})}async function a(e,t,n,s="image/png"){if(!("createImageBitmap"in window))return c(e,t,n,void 0,s);try{const i=await window.createImageBitmap(e,{resizeWidth:t,resizeHeight:n,resizeQuality:"high"});if(i.height!==n||i.width!==t)throw new Error("Image bitmap resize not supported!");const a=await(0,o.rX)(e.src),c=(0,o.LS)(a)<r?"#fff":"#000";return await new Promise(e=>{const t=document.createElement("canvas");t.width=i.width,t.height=i.height;const n=t.getContext("2d");n.fillStyle=c,n.fillRect(0,0,t.width,t.height);const o=t.getContext("bitmaprenderer");o?o.transferFromImageBitmap(i):n.drawImage(i,0,0),t.toBlob(e,s)})}catch(o){return c(e,t,n,void 0,s)}}async function c(e,t,n,s=.5,i="image/png"){const a=document.createElement("canvas"),c=a.getContext("2d"),d=document.createElement("canvas"),u=d.getContext("2d");if(a.width=t,a.height=n,e.width*s>t){const n=1/s;let o={width:Math.floor(e.width*s),height:Math.floor(e.height*s)};for(d.width=o.width,d.height=o.height,u.drawImage(e,0,0,o.width,o.height);o.width*s>t;)o={width:Math.floor(o.width*s),height:Math.floor(o.height*s)},u.drawImage(d,0,0,o.width*n,o.height*n,0,0,o.width,o.height);c.drawImage(d,0,0,o.width,o.height,0,0,a.width,a.height)}else c.drawImage(e,0,0,a.width,a.height);const l=await(0,o.rX)(e.src),f=(0,o.LS)(l)<r?"#fff":"#000";return c.fillStyle=f,c.globalCompositeOperation="destination-over",c.fillRect(0,0,a.width,a.height),new Promise(e=>{a.toBlob(e,i)})}},25903:(e,t,n)=>{n.d(t,{e:()=>s,j:()=>r});const o=50;function r(e,t,n,o){return i("transitionend",e,t,n,o)}function s(e,t,n,o){return i("animationend",e,t,n,o)}function i(e,t,n,r,s){let i=!1;function a(){t.removeEventListener(e,c)}function c(e){i||e.target!==e.currentTarget||r&&(e instanceof TransitionEvent&&e.propertyName===r||e instanceof AnimationEvent&&e.animationName===r)||(i=!0,a(),setTimeout(()=>{n()},o))}return t.addEventListener(e,c),s&&setTimeout(()=>{i||(a(),n())},s),a}},26072:(e,t,n)=>{n.d(t,{A:()=>P});var o=n(84051),r=n(13439),s=n(31481),i=n(66644),a=n(96454),c=n(15283),d=n(17712),u=n(35297);const l=`${window.location.pathname}${window.location.search}`,f=Number(new Date);let h,m,p=!1,g=[],y=[],b=!1;function v(){b&&setTimeout(()=>{b=!1},350)}function w(){const e=g.filter(e=>"go"===e.type),t=g.filter(e=>"go"!==e.type),n=e.reduce((e,t)=>e+t.delta,0);g=[],n&&(window.history.go(n),t.length)?y.push(...t):I(t)}function I(e){e.forEach(e=>window.history[e.type](e.data,"",e.hash))}function C(e){g.length||(0,i.YS)(w),g.push(e)}function A(){m=0,h=[{index:0,onBack:()=>window.history.back()}],window.history.replaceState({index:0,historyUniqueSessionId:f},"",l)}function S(e=1){let t=e;for(let e=m-1;e>0&&h[e].isClosed;e--)t++;return t&&(p=!0,C({type:"go",delta:-t})),t}function k(){let e=!1;for(let t=h.length-1;t>0;t--)h[t].isClosed||(!e&&b&&((0,r.ko)().disableHistoryAnimations(),e=!0),h[t].onBack?.());A()}function P({isActive:e,shouldBeReplaced:t,shouldResetUrlHash:n,hash:r,onBack:s}){const i=(0,d.A)(s),a=(0,o.li)(),l=(0,o.li)(!1),p=(0,o.li)(!0),g=(0,o.hb)((e=!1)=>{const o=e||h[m].shouldBeReplaced;a.current=o?m:++m,m=a.current;const s=h[a.current];s&&!s.isClosed&&s.markReplaced?.(),h[a.current]={index:a.current,onBack:i,shouldBeReplaced:t,markReplaced:()=>{l.current=!0}},C({type:o?"replaceState":"pushState",data:{index:a.current,historyUniqueSessionId:f},hash:r?`#${r}`:n?" ":void 0})},[r,t,n]),y=(0,o.hb)(()=>{a.current&&h[a.current]&&!l.current&&(h[a.current].isClosed=!0,l.current=!0,a.current!==m||t||(m-=S()))},[t]);(0,c.A)(()=>(p.current=!1,()=>{e&&!l.current&&y()})),(0,u.A)(([t])=>{t!==e&&(p.current&&!e||(e?g():y()))},[e,y,g])}s.W75&&(window.TEST_getHistoryState=()=>h,window.TEST_getHistoryCursor=()=>m),a.pz&&(window.addEventListener("touchstart",function(e){const t=e.touches[0].pageX;(t<=300||t>=window.innerWidth-300)&&(b=!0)}),window.addEventListener("touchend",v),window.addEventListener("popstate",v)),A(),window.addEventListener("popstate",({state:e})=>{if(p)return p=!1,void(y.length&&(I(y),y=[]));if(!e)return k(),void window.location.hash;const{index:t,historyUniqueSessionId:n}=e;if(n===f){if(t!==m)if(t<m){let e=0,n=!1;for(let o=m;o>t-e;o--)h[o].isClosed?e++:(!n&&b&&((0,r.ko)().disableHistoryAnimations(),n=!0),h[o].onBack?.());const o=S(e);m+=t-m-o,m<0&&(m=0)}else t>m&&(p=!0,C({type:"go",delta:-(t-m)}))}else k()})},26120:(e,t,n)=>{n.d(t,{q:()=>a});var o=n(13439),r=n(31481),s=n(91048),i=n(63495);function a(e,t){i.Vq?window.tauri?.setNotificationsCount?.(e,t):(0,s.nTw)((0,o.mS)()).isMasterTab&&"function"==typeof window.navigator.setAppBadge&&window.navigator.setAppBadge(e).catch(e=>{r.Oig&&console.error(e)})}},26129:(e,t,n)=>{function o(e){const{replyInfo:t}=e;if(t&&"message"===t.type)return t}function r(e){const{replyInfo:t}=e;if(t&&"story"===t.type)return t}n.d(t,{Q:()=>o,W:()=>r})},26943:(e,t,n)=>{var o=n(89925),r=n(31481),s=n(38),i=n(14487),a=n(87894),c=n(5560),d=n(6e4),u=n(33204),l=n(80140),f=n(4875),h=n(90709),m=n(13439),p=n(17872),g=n(32989),y=n(91048),b=n(30708);(0,m.aJ)("updateProfile",async(e,t,n)=>{const{photo:r,firstName:s,lastName:a,bio:c,username:d,tabId:u=(0,i.g0)()}=n,{currentUserId:l}=e;if(l){if(e=(0,g.w)(e,{profileEdit:{progress:o.DV.InProgress}},u),(0,m.UF)(e),r&&await(0,f.px)("uploadProfilePhoto",r),(s||a||c)&&await(0,f.px)("updateProfile",{firstName:s,lastName:a,about:c})){e=(0,m.mS)();const t=l&&(0,y.mBe)(e,l);t&&(e=(0,p.TKu)(e,t.id,{firstName:s,lastName:a}),e=(0,p.weB)(e,t.id,{bio:c}),(0,m.UF)(e))}if(void 0!==d){const t=await(0,f.px)("updateUsername",d);e=(0,m.mS)();const n=l&&(0,y.mBe)(e,l);if(t&&n){const t=n.usernames?.find(e=>e.isEditable),o=t?n.usernames?.map(e=>e.isEditable?{...e,username:d}:e):[{username:d,isEditable:!0,isActive:!0},...n.usernames||[]];e=(0,p.TKu)(e,l,{usernames:o}),(0,m.UF)(e)}}e=(0,m.mS)(),e=(0,g.w)(e,{profileEdit:{progress:o.DV.Complete}},u),(0,m.UF)(e),r&&t.loadFullUser({userId:l,withPhotos:!0})}}),(0,m.aJ)("updateBirthday",async(e,t,n)=>{const{birthday:o}=n,{currentUserId:r}=e;r&&await(0,f.px)("updateBirthday",o)&&t.loadFullUser({userId:r})}),(0,m.aJ)("updateProfilePhoto",async(e,t,n)=>{const{photo:o,isFallback:r}=n,{currentUserId:s}=e;s&&(0,y.mBe)(e,s)&&(e=(0,p.TKu)(e,s,{avatarPhotoId:void 0}),e=(0,p.weB)(e,s,{profilePhoto:void 0}),(0,m.UF)(e),await(0,f.px)("updateProfilePhoto",o,r)&&t.loadFullUser({userId:s,withPhotos:!0}))}),(0,m.aJ)("deleteProfilePhoto",async(e,t,n)=>{const{photo:o}=n,{currentUserId:r}=e;r&&await(0,f.px)("deleteProfilePhotos",[o])&&(e=(0,m.mS)(),e=(0,p.sol)(e,r,o.id),(0,m.UF)(e),t.loadFullUser({userId:r,withPhotos:!0}))}),(0,m.aJ)("checkUsername",async(e,t,n)=>{const{username:r,tabId:s=(0,i.g0)()}=n;let a=(0,y.nTw)(e,s);if(a.profileEdit&&a.profileEdit.progress===o.DV.InProgress)return;e=(0,g.w)(e,{profileEdit:{progress:a.profileEdit?a.profileEdit.progress:o.DV.Idle,checkedUsername:void 0,isUsernameAvailable:void 0,error:void 0}},s),(0,m.UF)(e);const{result:c,error:d}=await(0,f.px)("checkUsername",r);e=(0,m.mS)(),a=(0,y.nTw)(e,s),e=(0,g.w)(e,{profileEdit:{...a.profileEdit,checkedUsername:r,isUsernameAvailable:!0===c,error:d}},s),(0,m.UF)(e)}),(0,m.aJ)("loadWallpapers",async e=>{const t=await(0,f.px)("fetchWallpapers");t&&(e=(0,m.mS)(),e={...e,settings:{...e.settings,loadedWallpapers:t.wallpapers}},(0,m.UF)(e))}),(0,m.aJ)("uploadWallpaper",async(e,t,n)=>{const r=n,s=URL.createObjectURL(r);e={...e,settings:{...e.settings,loadedWallpapers:[{slug:o.Vw,document:{mediaType:"document",fileName:"",size:r.size,mimeType:r.type,previewBlobUrl:s}},...e.settings.loadedWallpapers||[]]}},(0,m.UF)(e);const i=await(0,f.px)("uploadWallpaper",r);if(!i)return;const{wallpaper:a}=i;if(!(e=(0,m.mS)()).settings.loadedWallpapers)return;const c=e.settings.loadedWallpapers[0];if(!c||c.slug!==o.Vw)return;const d={...a,document:{...a.document,previewBlobUrl:s}};e={...e,settings:{...e.settings,loadedWallpapers:[d,...e.settings.loadedWallpapers.slice(1)]}},(0,m.UF)(e)}),(0,m.aJ)("loadBlockedUsers",async e=>{const t=await(0,f.px)("fetchBlockedUsers",{});t&&(e=(0,m.mS)(),e={...e,blocked:{ids:t.blockedIds,totalCount:t.totalCount}},(0,m.UF)(e))}),(0,m.aJ)("blockUser",async(e,t,n)=>{const{userId:o,isOnlyStories:r}=n,s=(0,y.mBe)(e,o);s&&await(0,f.px)("blockUser",{user:s,isOnlyStories:r||void 0})&&(e=(0,m.mS)(),e=(0,p.P6h)(e,o),(0,m.UF)(e))}),(0,m.aJ)("unblockUser",async(e,t,n)=>{const{userId:o,isOnlyStories:r}=n,s=(0,y.mBe)(e,o);s&&await(0,f.px)("unblockUser",{user:s,isOnlyStories:r||void 0})&&(e=(0,m.mS)(),e=(0,p.OW3)(e,o),(0,m.UF)(e))}),(0,m.aJ)("loadNotificationExceptions",async e=>{const t=await(0,f.px)("fetchNotificationExceptions");t&&(e=(0,m.mS)(),e=(0,p.DeY)(e,t),(0,m.UF)(e))}),(0,m.aJ)("loadNotificationSettings",async e=>{const[t,n]=await Promise.all([(0,f.px)("fetchContactSignUpSetting"),(0,f.px)("fetchNotifyDefaultSettings")]);n&&(e=(0,m.mS)(),e=(0,p.qpc)(e,{hasContactJoinedNotifications:t}),e={...e,settings:{...e.settings,notifyDefaults:n}},(0,m.UF)(e))}),(0,m.aJ)("updateNotificationSettings",async(e,t,n)=>{const{peerType:o,isMuted:s,shouldShowPreviews:i}=n;await(0,f.px)("updateNotificationSettings",o,{isMuted:s,shouldShowPreviews:i})&&(e=(0,m.mS)(),e=(0,p.p92)(e,o,{mutedUntil:s?r.xEh:r.Os5,shouldShowPreviews:i}),(0,m.UF)(e))}),(0,m.aJ)("updateWebNotificationSettings",async(e,t,n)=>{const o=e.settings.byKey;e=(0,p.qpc)(e,n),(0,m.UF)(e);const{hasWebNotifications:r,hasPushNotifications:s}=e.settings.byKey;!o.hasPushNotifications&&s&&await(0,c.B1)(),o.hasPushNotifications&&!s&&await(0,c.al)(),!o.hasWebNotifications&&r&&(await(0,c.xe)()||(e=(0,m.mS)(),e=(0,p.qpc)(e,{hasWebNotifications:!1}),(0,m.UF)(e)))}),(0,m.aJ)("updateContactSignUpNotification",async(e,t,n)=>{const{isSilent:o}=n;await(0,f.px)("updateContactSignUpNotification",o)&&(e=(0,m.mS)(),e=(0,p.qpc)(e,{hasContactJoinedNotifications:!o}),(0,m.UF)(e))}),(0,m.aJ)("loadLanguages",async e=>{const t=await(0,f.px)("fetchLanguages");t&&(e=(0,m.mS)(),e=(0,p.qoo)(e,{languages:t}),(0,m.UF)(e))}),(0,m.aJ)("loadPrivacySettings",async(e,t,n)=>{const{skipIfCached:o}=n;if(o&&Object.keys(e.settings.privacy).length>0)return;if((0,y.trm)(e))return;const r=await Promise.all([(0,f.px)("fetchPrivacySettings","phoneNumber"),(0,f.px)("fetchPrivacySettings","addByPhone"),(0,f.px)("fetchPrivacySettings","lastSeen"),(0,f.px)("fetchPrivacySettings","profilePhoto"),(0,f.px)("fetchPrivacySettings","forwards"),(0,f.px)("fetchPrivacySettings","chatInvite"),(0,f.px)("fetchPrivacySettings","phoneCall"),(0,f.px)("fetchPrivacySettings","phoneP2P"),(0,f.px)("fetchPrivacySettings","voiceMessages"),(0,f.px)("fetchPrivacySettings","bio"),(0,f.px)("fetchPrivacySettings","birthday"),(0,f.px)("fetchPrivacySettings","gifts"),(0,f.px)("fetchPrivacySettings","noPaidMessages")]);if(r.some(e=>void 0===e))return;const[s,i,a,c,d,u,l,h,p,g,b,v,w]=r;e=(0,m.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,phoneNumber:s.rules,addByPhone:i.rules,lastSeen:a.rules,profilePhoto:c.rules,forwards:d.rules,chatInvite:u.rules,phoneCall:l.rules,phoneP2P:h.rules,voiceMessages:p.rules,bio:g.rules,birthday:b.rules,gifts:v.rules,noPaidMessages:w.rules}}},(0,m.UF)(e)}),(0,m.aJ)("setPrivacyVisibility",async(e,t,n)=>{const{privacyKey:o,visibility:r,onSuccess:s}=n;if(!e.settings.privacy[o]){const t=await(0,f.px)("fetchPrivacySettings",o);if(!t)return;e=(0,m.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[o]:t.rules}}},(0,m.UF)(e)}const{privacy:{[o]:i}}=e.settings;if(!i)return;const a=(0,h.wT)(e,{visibility:r,allowedIds:[...i.allowUserIds,...i.allowChatIds],blockedIds:[...i.blockUserIds,...i.blockChatIds],botsPrivacy:i.botsPrivacy}),c=await(0,f.px)("setPrivacySettings",o,a);c&&(s?.(),e=(0,m.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[o]:c.rules}}},(0,m.UF)(e))}),(0,m.aJ)("setPrivacySettings",async(e,t,n)=>{const{privacyKey:o,isAllowList:r,updatedIds:s,isPremiumAllowed:i,botsPrivacy:a}=n,{privacy:{[o]:c}}=e.settings;if(!c)return;"noPaidMessages"===o&&(e=(0,m.mS)(),[...s.filter(e=>!c.allowUserIds.includes(e)),...c.allowUserIds.filter(e=>!s.includes(e))].forEach(t=>{e=(0,p.weB)(e,t,{settings:void 0})}),(0,m.UF)(e));const d=(0,h.wT)(e,{visibility:c.visibility,isUnspecified:c.isUnspecified,shouldAllowPremium:i,allowedIds:r?s:[...c.allowUserIds,...c.allowChatIds],blockedIds:r?[...c.blockUserIds,...c.blockChatIds]:s,botsPrivacy:a}),u=await(0,f.px)("setPrivacySettings",o,d);u&&(e=(0,m.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[o]:u.rules}}},(0,m.UF)(e))}),(0,m.aJ)("updateIsOnline",(e,t,n)=>{"connectionStateReady"===e.connectionState&&(0,f.px)("updateIsOnline",n.isOnline)}),(0,m.aJ)("loadContentSettings",async e=>{if((0,y.trm)(e))return;const t=await(0,f.px)("fetchContentSettings");t&&(e=(0,m.mS)(),e=(0,p.qpc)(e,t),(0,m.UF)(e))}),(0,m.aJ)("updateContentSettings",async(e,t,n)=>{e=(0,p.qpc)(e,{isSensitiveEnabled:n.isSensitiveEnabled}),(0,m.UF)(e),await(0,f.px)("updateContentSettings",n.isSensitiveEnabled)||(e=(0,m.mS)(),e=(0,p.qpc)(e,{isSensitiveEnabled:!n.isSensitiveEnabled}),(0,m.UF)(e))}),(0,m.aJ)("loadCountryList",async(e,t,n)=>{let{langCode:o}=n;o||(o=(0,b.lS)(e).language);const r=await(0,f.px)("fetchCountryList",{langCode:o});r&&(e=(0,m.mS)(),e={...e,countryList:r},(0,m.UF)(e))}),(0,m.aJ)("ensureTimeFormat",async(e,t)=>{if(e.auth.nearestCountry){const n=r.wEk.has(e.auth.nearestCountry.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:n}),(0,d.bV)(n)}if((0,b.lS)(e).wasTimeFormatSetManually)return;const n=await(0,f.px)("fetchNearestCountry");if(n){const e=r.wEk.has(n.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:e}),(0,d.bV)(e)}}),(0,m.aJ)("loadAppConfig",async(e,t,n)=>{const o=n?.hash,s=await(0,f.px)("fetchAppConfig",{hash:o});s&&((0,u.A)({action:"loadAppConfig",payload:{hash:s.hash}},r.Xrp),e=(0,m.mS)(),e={...e,appConfig:s,isAppConfigLoaded:!0},(0,m.UF)(e))}),(0,m.aJ)("loadConfig",async e=>{const t=await(0,f.px)("fetchConfig");if(!t)return;e=(0,m.mS)();const n=t.expiresAt-(0,l.Fm)();(0,u.A)({action:"loadConfig",payload:void 0},1e3*n),e={...e,config:t},(0,m.UF)(e)}),(0,m.aJ)("loadPromoData",async e=>{const t=await(0,f.px)("fetchPromoData");e=(0,m.mS)();const n=(t?.expires||0)-(0,l.Fm)();n>0&&(0,u.A)({action:"loadPromoData",payload:void 0},1e3*n),e={...e,promoData:t},(0,m.UF)(e)}),(0,m.aJ)("dismissSuggestion",async(e,t,n)=>{const{suggestion:o}=n;await(0,f.px)("dismissSuggestion",o),t.loadPromoData()}),(0,m.aJ)("loadPeerColors",async e=>{const t=e.peerColors?.generalHash,n=e.peerColors?.profileHash,[o,r]=await Promise.all([(0,f.px)("fetchPeerColors",t),(0,f.px)("fetchPeerProfileColors",n)]);if(!o&&!r)return;const s=(e=(0,m.mS)()).peerColors||{};e={...e,peerColors:{...s,general:o?.colors||s.general,generalHash:o?.hash||s.generalHash,profile:r?.colors||s.profile,profileHash:r?.hash||s.profileHash}},(0,m.UF)(e)}),(0,m.aJ)("loadTimezones",async e=>{const t=e.timezones?.hash,n=await(0,f.px)("fetchTimezones",t);n&&(e=(0,m.mS)(),e={...e,timezones:{byId:(0,a.dU)(n.timezones,"id"),hash:n.hash}},(0,m.UF)(e))}),(0,m.aJ)("loadGlobalPrivacySettings",async e=>{const t=await(0,f.px)("fetchGlobalPrivacySettings");t&&(e=(0,m.mS)(),e=(0,p.qpc)(e,{...t}),(0,m.UF)(e))}),(0,m.aJ)("updateGlobalPrivacySettings",async(e,t,n)=>{const o=n.shouldArchiveAndMuteNewNonContact??Boolean(e.settings.byKey.shouldArchiveAndMuteNewNonContact),r=n.shouldHideReadMarks??Boolean(e.settings.byKey.shouldHideReadMarks),s=n.shouldNewNonContactPeersRequirePremium??Boolean(e.settings.byKey.shouldNewNonContactPeersRequirePremium),i=null===n.nonContactPeersPaidStars?void 0:n.nonContactPeersPaidStars||e.settings.byKey.nonContactPeersPaidStars,a=n.shouldDisplayGiftsButton??Boolean(e.settings.byKey.shouldDisplayGiftsButton),c=n.disallowedGifts??e.settings.byKey.disallowedGifts,d=null===n.nonContactPeersPaidStars||n.nonContactPeersPaidStars;e=(0,m.mS)(),e=(0,p.qpc)(e,{shouldArchiveAndMuteNewNonContact:o,shouldHideReadMarks:r,shouldNewNonContactPeersRequirePremium:s,nonContactPeersPaidStars:i,shouldDisplayGiftsButton:a,disallowedGifts:c}),(0,m.UF)(e);const u=await(0,f.px)("updateGlobalPrivacySettings",{shouldArchiveAndMuteNewNonContact:o,shouldHideReadMarks:r,shouldNewNonContactPeersRequirePremium:s,nonContactPeersPaidStars:i,shouldDisplayGiftsButton:a,disallowedGifts:c});e=(0,m.mS)(),e=(0,p.qpc)(e,{shouldArchiveAndMuteNewNonContact:u?u.shouldArchiveAndMuteNewNonContact:!o,shouldHideReadMarks:u?u.shouldHideReadMarks:!r,shouldNewNonContactPeersRequirePremium:u?u.shouldNewNonContactPeersRequirePremium:!s,nonContactPeersPaidStars:u?u.nonContactPeersPaidStars:void 0,shouldDisplayGiftsButton:u?u.shouldDisplayGiftsButton:!a,disallowedGifts:u?u.disallowedGifts:c}),d&&Object.keys(e.users.fullInfoById).forEach(t=>{e=(0,p.weB)(e,t,{settings:void 0})}),(0,m.UF)(e)}),(0,m.aJ)("toggleUsername",async(e,t,n)=>{const{username:o,isActive:r}=n,{currentUserId:s}=e;if(!s)return;const i=(0,y.mBe)(e,s);if(!i?.usernames)return;const a=i.usernames.map(e=>e.username!==o?e:{...e,isActive:r||void 0});e=(0,p.TKu)(e,s,{usernames:a}),(0,m.UF)(e),await(0,f.px)("toggleUsername",{username:o,isActive:r})||t.loadFullUser({userId:s})}),(0,m.aJ)("toggleChatUsername",async(e,t,n)=>{const{chatId:o,username:r,isActive:s}=n,i=(0,y.hds)(e,o);if(!i?.usernames)return;const a=i.usernames.map(e=>e.username!==r?e:{...e,isActive:s||void 0});e=(0,p.wix)(e,o,{usernames:a}),(0,m.UF)(e),await(0,f.px)("toggleUsername",{chatId:i.id,accessHash:i.accessHash,username:r,isActive:s})||t.loadFullChat({chatId:o})}),(0,m.aJ)("sortUsernames",async(e,t,n)=>{const{usernames:o}=n,{currentUserId:r}=e;r&&(await(0,f.px)("reorderUsernames",{usernames:o})||t.loadUser({userId:r}))}),(0,m.aJ)("sortChatUsernames",async(e,t,n)=>{const{chatId:o,usernames:r}=n,s=(0,y.hds)(e,o);if(!s)return;const i=[...s.usernames],a=s.usernames.reduce((e,t)=>(e[r.findIndex(e=>e===t.username)]=t,e),[]);e=(0,p.wix)(e,o,{usernames:a}),(0,m.UF)(e),await(0,f.px)("reorderUsernames",{chatId:s.id,accessHash:s.accessHash,usernames:r})||(e=(0,m.mS)(),e=(0,p.wix)(e,o,{usernames:i}),(0,m.UF)(e))}),(0,m.aJ)("loadPasskeys",async e=>{const t=await(0,f.px)("fetchPasskeys");if(!t)return e=(0,m.mS)(),e={...e,settings:{...e.settings,passkeys:void 0}},void(0,m.UF)(e);e=(0,m.mS)(),e={...e,settings:{...e.settings,passkeys:t.passkeys}},(0,m.UF)(e)}),(0,m.aJ)("startPasskeyRegistration",async(e,t,n)=>{const{tabId:r=(0,i.g0)()}=n||{},a=await(0,f.px)("initPasskeyRegistration");if(!a)return;const c=(0,s.C)(a),d=await navigator.credentials.create(c).catch(e=>{if(!(e instanceof DOMException&&"NotAllowedError"===e.name))throw e;t.showNotification({message:{key:"PasskeyCreateError"},tabId:r})});if(!d)return;const u=d;await(0,f.px)("registerPasskey",u.toJSON())&&(await(0,m.pv)().loadPasskeys(),t.openSettingsScreen({screen:o.VS.Passkeys,tabId:r}))}),(0,m.aJ)("deletePasskey",async(e,t,n)=>{const{id:o}=n,r=e.settings.passkeys;if(r?.length){const t=r.filter(e=>e.id!==o);e={...e,settings:{...e.settings,passkeys:t}},(0,m.UF)(e)}await(0,f.px)("deletePasskey",{id:o}),t.loadPasskeys()})},27109:(e,t,n)=>{n.d(t,{If:()=>a,RY:()=>u,o3:()=>d,sh:()=>c});var o=n(48899),r=n(87894),s=n(80140),i=n(62214);function a(e,t,n){const o=u(e,t,n);return!!o?.mutedUntil&&(0,s.Fm)()<o.mutedUntil}function c(e,t,n){const o=u(e,t,n);return!!o&&!o.hasSound}function d(e,t,n){const o=u(e,t,n);return Boolean(o?.shouldShowPreviews)}function u(e,t,n){const s=t?.[function(e){if((0,o.L8)(e.id))return"users";const t=e;return(0,i.WX)(t)?"channels":"groups"}(e)];if(n||s)return{...s,...n&&(0,r.Oy)(n)}}},28470:(e,t,n)=>{n.d(t,{e:()=>u,z:()=>d});var o=n(31481),r=n(66644),s=n(6842),i=n(14235);const a=new Map;let c;function d(e,t){t??=(0,i.A)(),e.props.id=t;const n=(0,s.A)(e)[0];return a.set(e.props.id,n),function(e){(0,r.RK)(()=>{c||function(){if(c)return;const e=document.createElementNS(o.jNX,"svg");e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("viewBox","0 0 1 1"),e.classList.add("svg-definitions"),document.body.appendChild(e),c=document.createElementNS(o.jNX,"defs"),e.appendChild(c)}(),c.appendChild(e)})}(n),t}function u(e){const t=a.get(e);t&&((0,r.RK)(()=>{t.remove()}),a.delete(e))}},29886:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);function r(e){const t=(0,o.li)(),n=(0,o.li)();return n.current!==e&&(t.current=n.current),n.current=e,t.current}},30163:(e,t,n)=>{n.d(t,{Bm:()=>b,Cz:()=>N,GH:()=>T,Ij:()=>y,NQ:()=>O,Nr:()=>M,O8:()=>x,OD:()=>F,Q3:()=>S,WL:()=>B,Wy:()=>v,oZ:()=>A,oe:()=>P,r8:()=>C,t0:()=>L,tK:()=>E,wg:()=>I,yc:()=>w,zE:()=>D});var o=n(31481),r=n(14487),s=n(17142),i=n(5056),a=n(19926);const c=30,d=3*c,u=6*c,l=12*c,f=24*c,h=5,m={[c]:"1ï¸âƒ£",[d]:"2ï¸âƒ£",[u]:"3ï¸âƒ£",[l]:"4ï¸âƒ£",[f]:"5ï¸âƒ£"},p={1e3:"2ï¸âƒ£",2500:"3ï¸âƒ£",5e3:"4ï¸âƒ£"},g={1:"1ï¸âƒ£",10:"2ï¸âƒ£",50:"3ï¸âƒ£"};function y(e,t){const{stickers:n}=e.stickers.favorite;return n&&n.some(({id:e})=>e===t.id)}function b(e,...[t=(0,r.g0)()]){return(0,i.n)(e,t).stickerSearch}function v(e,...[t=(0,r.g0)()]){return(0,i.n)(e,t).gifSearch}function w(e,t){return"string"==typeof t?e.stickers.setsById[t]:"id"in t?e.stickers.setsById[t.id]:"isMissing"in t?void 0:Object.values(e.stickers.setsById).find(({shortName:e})=>e.toLowerCase()===t.shortName.toLowerCase())}function I(e,t){const n=e.stickers.added.setIds;let o=[];return e.stickers.favorite.stickers.forEach(e=>{e.emoji===t&&o.push(e)}),n?.forEach(n=>{const r=e.stickers.setsById[n].packs;r&&(o=o.concat(r[t]||[],r[k(t)]||[]))}),o}function C(e,t){const n=(0,a.g2)(e),o=e.customEmojis.added.setIds;let r=[];return o?.forEach(n=>{const o=e.stickers.setsById[n].packs;o&&(r=r.concat(o[t]||[],o[k(t)]||[]))}),n?r:r.filter(({isFree:e})=>e)}function A(e,t){const n=(0,a.g2)(e),o=e.customEmojis.added.setIds;let r=[];return o?.forEach(n=>{const o=e.stickers.setsById[n].packs;if(!o)return;const s=Object.entries(o).filter(([e])=>t.includes(e)||t.includes(k(e))).flatMap(([,e])=>e);r=r.concat(s)}),n?r:r.filter(({isFree:e})=>e)}function S(e){return e.isEmoji&&e.stickers?.some(e=>!e.isFree)}function k(e){return e.replace("ï¸","")}function P(e,t){const{animatedEmojis:n}=e;if(!n||!n.stickers)return;const o=k(t);return n.stickers.find(e=>e.emoji===t||e.emoji===o)}function T(e,t){const{restrictedEmoji:n}=e;if(!n||!n.stickers)return;const o=k(t);return n.stickers.find(e=>{if(e.emoji)return k(e.emoji)===o})}function M(e,t){const{animatedEmojiEffects:n}=e;if(!n||!n.stickers)return;const o=k(t);return n.stickers.find(e=>e.emoji===t||e.emoji===o)}function E(e,t){return e?.appConfig.emojiSounds[k(t)]}function N(e,t){return"id"in t&&(t.id===e.appConfig.defaultEmojiStatusesStickerSetId||t.id===o.QkL)}function L(e,t=30){const n=e.premiumGifts?.stickers;if(!n)return;const o=function(e){return e<=c?m[c]:e<=d?m[d]:e<=u+h?m[u]:e<=l+h?m[l]:m[f]}(t);return n.find(e=>e.emoji===o)||n[0]}function B(e,t){const n=e.premiumGifts?.stickers;if(!n||!t)return;let o;return o=t<=1e3?p[1e3]:t<2500?p[2500]:p[5e3],n.find(e=>e.emoji===o)||n[0]}function F(e,t){const n=e.tonGifts?.stickers;if(!n||!t)return;const r=(0,s.UL)(t,o.ykW);let i;return i=r<10?g[1]:r<50?g[10]:g[50],n.find(e=>e.emoji===i)||n[0]}function x(e,t){return e.customEmojis.byId[t]}function D(e,t){const{diceSetIdByEmoji:n}=e.stickers;if(!n)return;const o=n[t];if(!o)return;const r=e.stickers.setsById[o];return r?r.stickers?.find(e=>"#âƒ£"===e.emoji):void 0}function O(e,t,n){const{diceSetIdByEmoji:o}=e.stickers;if(!o)return;const r=o[t];if(!r)return;const s=e.stickers.setsById[r];if(!s)return;const i=`${n}âƒ£`;return s.stickers?.find(e=>e.emoji===i)}},30708:(e,t,n)=>{function o(e){return function(e){return e.sharedState}(e).settings}function r(e){return o(e).animationLevel}n.d(t,{Vu:()=>r,lS:()=>o})},30757:(e,t,n)=>{n.d(t,{BS:()=>u,Iv:()=>l,K5:()=>s,KI:()=>f,Nt:()=>c,P5:()=>i,Qq:()=>d,eC:()=>h,wm:()=>a});var o=n(4350),r=n(30708);function s(e){return e.settings.notifyDefaults}function i(e,t){return e.chats.notifyExceptionById?.[t]}function a(e){return(0,r.lS)(e).language.replace("-raw","")}function c(e){const t=(0,o.zk)();return e.auth.rememberMe&&!o.Xz&&1===Object.keys(t).length}function d(e){return e.settings.byKey.translationLanguage||a(e)}function u(e){return e.settings.byKey.shouldNewNonContactPeersRequirePremium}function l(e){return e.settings.byKey.nonContactPeersPaidStars}function f(e){return e.settings.byKey.shouldHideReadMarks}function h(e){return e.settings.byKey}},30857:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=()=>{const[,e]=(0,o.J0)(!1);return(0,o.hb)(()=>{e(e=>!e)},[])}},31481:(e,t,n)=>{n.d(t,{$$v:()=>Pe,$4F:()=>ye,$gx:()=>j,$nk:()=>Ut,A$T:()=>g,ACj:()=>P,AGC:()=>H,ATy:()=>Ue,Apc:()=>Wt,BSg:()=>ke,BYH:()=>$t,C$_:()=>le,C39:()=>r,C7Y:()=>ro,CH0:()=>Co,CQG:()=>so,CV:()=>$,CVm:()=>Ee,CVv:()=>N,CfG:()=>Ke,Ckz:()=>jn,Cmz:()=>u,Cyx:()=>at,D$I:()=>vo,D3G:()=>Qe,D3m:()=>l,DSF:()=>Gn,DUo:()=>E,EPW:()=>Jt,FHx:()=>b,FZw:()=>qn,G38:()=>Ln,G3A:()=>Ht,G6O:()=>nt,GW0:()=>F,GhT:()=>Rt,H4O:()=>Pt,H6l:()=>Mt,HGU:()=>Z,H_r:()=>kn,HaM:()=>A,HxB:()=>oo,Hz7:()=>Te,I0K:()=>tt,I6d:()=>$e,IH3:()=>bn,IRc:()=>q,IgS:()=>Lo,Iz7:()=>O,J$1:()=>Kt,KFG:()=>et,K_A:()=>On,Ka6:()=>Qn,Kh8:()=>un,Kp3:()=>Zt,L1q:()=>xn,L3V:()=>z,LWg:()=>Io,LX5:()=>Bn,LaL:()=>I,Lj4:()=>st,M$8:()=>To,M3$:()=>he,M8B:()=>Ne,MVx:()=>h,MkD:()=>go,Msx:()=>pn,MyF:()=>nn,N89:()=>wn,NjX:()=>Nn,NkL:()=>Xn,O2i:()=>ko,O4t:()=>ft,OFc:()=>Sn,OMf:()=>Yt,OUy:()=>ct,OVC:()=>dn,Oig:()=>f,OkV:()=>Yn,Os5:()=>yt,OzO:()=>Ct,P3f:()=>Me,PGI:()=>lo,Pje:()=>no,PqE:()=>mo,Q$7:()=>B,QkL:()=>Vn,RCH:()=>Ft,Rqe:()=>Ot,S4O:()=>vt,SKD:()=>It,T7t:()=>te,TBj:()=>xt,Um:()=>oe,UuV:()=>T,UyP:()=>Et,Uyp:()=>jt,VCe:()=>zn,ViI:()=>L,Vz3:()=>hn,W75:()=>d,WF4:()=>No,WG3:()=>de,XLD:()=>ho,XQO:()=>be,Xab:()=>pt,Xrp:()=>Ye,Y3M:()=>Mn,YAK:()=>V,YVZ:()=>He,YoZ:()=>G,ZhW:()=>ue,_Bb:()=>uo,_C3:()=>_e,_E9:()=>Kn,_tP:()=>fe,aFH:()=>Tn,b5_:()=>$n,be8:()=>po,bkT:()=>Nt,bnE:()=>An,bpX:()=>rn,c2m:()=>lt,c59:()=>fn,cK8:()=>o,cLl:()=>U,cUY:()=>sn,cgU:()=>io,cnh:()=>rt,cqp:()=>ze,dK5:()=>wo,dnp:()=>Le,dqH:()=>je,dxe:()=>So,e0F:()=>We,eKB:()=>tn,eqO:()=>X,es:()=>kt,f51:()=>_n,f84:()=>ht,fNs:()=>yn,fRl:()=>mt,fSF:()=>Oe,fng:()=>c,frj:()=>ge,fwn:()=>Vt,g0Q:()=>Lt,g0p:()=>bo,gQx:()=>dt,gXr:()=>se,gex:()=>gn,hYe:()=>Eo,hfH:()=>en,i11:()=>xe,iIc:()=>Ie,iJx:()=>M,iKt:()=>Xe,iRY:()=>Ao,ikg:()=>mn,irO:()=>Ae,j0M:()=>v,j1l:()=>Xt,j3k:()=>K,j41:()=>Dt,j7z:()=>ut,jNX:()=>ln,jQ1:()=>ot,jhT:()=>Po,jhd:()=>cn,jsp:()=>Pn,kGl:()=>Hn,kNZ:()=>In,lFE:()=>m,lYi:()=>pe,laV:()=>re,m$5:()=>Je,mD0:()=>zt,mFn:()=>s,mH$:()=>ae,mPG:()=>Ve,mxD:()=>vn,naf:()=>Tt,nfi:()=>_,nnT:()=>ce,npx:()=>Ge,nxZ:()=>At,oBq:()=>k,ozB:()=>x,pX9:()=>Wn,pZc:()=>Re,pk8:()=>De,pkx:()=>to,qGQ:()=>y,qJR:()=>i,qKY:()=>C,qLe:()=>fo,qbC:()=>ao,qj6:()=>Ce,r2x:()=>_t,r6P:()=>a,r9K:()=>eo,rBM:()=>we,rgX:()=>Fn,rkj:()=>p,s8T:()=>St,sR2:()=>qt,sXR:()=>Cn,tBS:()=>Mo,tNZ:()=>Rn,tP8:()=>yo,tRH:()=>Qt,u4b:()=>ve,uCr:()=>ne,ukY:()=>Zn,um6:()=>S,vVF:()=>an,wAs:()=>ie,wEk:()=>Dn,wVm:()=>qe,wZe:()=>Se,x6_:()=>Bt,xB5:()=>bt,xEh:()=>gt,xJs:()=>D,xMZ:()=>Gt,xcU:()=>it,xw7:()=>ee,y67:()=>co,ykW:()=>me,ynd:()=>Jn,yo2:()=>J,yq1:()=>Q,z2M:()=>Y,zGP:()=>w,zHL:()=>Be,zLi:()=>En,zNY:()=>on,zP3:()=>Fe,zPk:()=>Ze,zq7:()=>wt,zrf:()=>R,zv8:()=>Un});const o="A",r=`Telegram Web ${o}`,s="web.telegram.org",i="https://web.telegram.org/",a="account",c=!1,d=!1,u=!1,l="paid_messages",f=!1,h=!1,m="tt-log.json",p=f,g=!1,y="https://telegra.ph/WebA-Beta-03-20",b="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",v="Telegram",w="Telegram Air",I="[Inactive]",C=!1,A="user_auth",S="account",k="tt-passcode",P=6,T=!1,M="tt-global-state",E="tt-shared-state",N=500,L=200,B=10,F=150,x="tt-is-screen-locked",D=!1,O="tt-media",R="tt-media-avatars",U="tt-media-progressive",_="tt-custom-bg",$="tt-lang-packs-v51",j=[1,5,10,50,100,500],V="tt-global",z="tt-establish",Y="tt-multitab",G="tgweb",K=[1,2,3,4,5],W="undefined"!=typeof window&&window.innerHeight>=900,H=1,J=W?60:40,q=2*J,X=36,Q=72,Z=65,ee=56,te=W?30:25,ne=100,oe=42,re=42,se=42,ie=20,ae=5,ce=30,de=200,ue=500,le=600,fe=10,he=2,me="TON",pe=18,ge=15,ye=10,be=20,ve=30,we="global",Ie=20,Ce=500,Ae=20,Se=250,ke=1,Pe=1e4,Te=1,Me=1,Ee=1200,Ne=-1,Le=0,Be=1,Fe=2,xe=Be,De=16,Oe=17,Re=15,Ue="top",_e="left",$e=Ue,je=3,Ve=1e4,ze=3e3,Ye=1e7,Ge=36e5,Ke="editable-message-text",We="editable-message-text-modal",He="editable-story-input-text",Je=`.messages-layout .Transition_slide-active #${Ke}, .messages-layout .Transition > .Transition_slide-to #${Ke}`,qe=`#${We}`,Xe=`#${He}`,Qe="data-has-custom-appendix",Ze="message-content",et=".message-content",tt="active-view-transition",nt="active-vt-",ot="resizeHandle",rt=`.${ot}`,st="snap-effect-container",it="snap-effect",at="â­",ct="XTR",dt=1275,ut=925,lt=600,ft=950,ht=450,mt=2**31-1,pt="0",gt=mt,yt=0,bt=100,vt=200,wt=10,It=300,Ct=600,At=800,St=300,kt=(Math.round((It+Ct)/2),new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory","deleteParticipantHistory"]),200),Pt=13,Tt=11,Mt=160,Et=120,Nt=72,Lt=36,Bt=32,Ft=40,xt=32,Dt=20,Ot=72,Rt=72,Ut=36,_t=160,$t=160,jt=140,Vt=100,zt=100,Yt=140,Gt=140,Kt=2,Wt=7,Ht="top",Jt="popular",qt="recent",Xt="collectibleStatus",Qt="favorite",Zt="effectStickers",en="effectEmojis",tn="chatStickers",nn="topic-default-icon",on="status-default-icon",rn=/<img[^>]+alt="([^"]+)"(?![^>]*data-document-id)[^>]*>/gm,sn="en",an=200,cn=450,dn="FestiveFontEmoji",un="RestrictedEmoji",ln="http://www.w3.org/2000/svg",fn=new Set(["svg","svgz"]),hn="image/gif",mn="application/x-tgsticker",pn="video/webm",gn=new Set(["image/png","image/jpeg",hn]),yn=new Set(["video/mp4","video/quicktime"]),bn=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),vn=new Set([...gn,...yn]),wn=["en","ar","be","ca","zh","nl","fr","de","id","it","ja","ko","pl","pt","ru","es","uk","af","sq","am","hy","az","eu","bn","bs","bg","ceb","zh-CN","zh-TW","co","hr","cs","da","eo","et","fi","fy","gl","ka","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","ga","jv","kn","kk","km","rw","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","or","ps","fa","pa","ro","sm","gd","sr","st","sn","sd","si","sk","sl","so","su","sw","sv","tl","tg","ta","tt","te","th","tr","tk","ur","ug","uz","vi","cy","xh","yi","yo","zu"],In="((ftp|https?):\\/\\/)?((www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)",Cn="(@[\\w\\d_-]+)",An=/^tg:(\/\/)?/i,Sn=/^(https?:\/\/)?([-a-zA-Z0-9@:%_+~#=]{1,32}\.)?t\.me/i,kn=/^(https?:\/\/)?telegram\.org\//i,Pn="https://t.me/",Tn="botfather",Mn="USERNAME_PURCHASE_AVAILABLE",En="MESSAGE_ID_REQUIRED",Nn="auction",Ln=(new Set([Mn,"USERNAME_INVALID"]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"])),Bn="weba",Fn="weba",xn="sensitive",Dn=new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),On=["bots","channels","chats","users","groups"],Rn={type:"emoji",emoticon:"â¤"},Un="777000",_n="1271266957",$n="489000",jn="2666000",Vn="7173162320003080",zn=1e6,Yn=10n**12n,Gn=0,Kn=1,Wn=-1,Hn=12,Jn=((-Yn-777n).toString(),10),qn=5,Xn=2147483646,Qn=["android","ios","tdesktop","macos"],Zn="https://bugs.telegram.org/?tag_ids=41&sort=time",eo="https://telegram.org/faq",to="https://telegram.org/privacy",no="https://telegram.org/tos/mini-apps",oo=1,ro=86400,so=4,io=10,ao=10,co=10,uo="888",lo=11,fo=20,ho="#99BA92",mo="#000000",po="#4A8E3A8C",go="#48576166",yo="1a",bo="2b",vo=5,wo=524288,Io=new Set(["USER_CANCELED"]),Co=100,Ao=100*Co,So=2147483647,ko=["stories","double_limits","more_upload","faster_download","voice_to_text","no_ads","infinite_reactions","premium_stickers","animated_emoji","advanced_chat_management","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],Po=["faster_download","voice_to_text","advanced_chat_management","infinite_reactions","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],To=["channels","dialogFolderPinned","channelsPublic","savedGifs","stickersFaved","aboutLength","captionLength","dialogFilters","dialogFiltersChats","moreAccounts","recommendedChannels"],Mo={sortType:"byDate",shouldIncludeUnlimited:!0,shouldIncludeLimited:!0,shouldIncludeUnique:!0,shouldIncludeDisplayed:!0,shouldIncludeHidden:!0,shouldIncludeUpgradable:!0},Eo={sortType:"byDate"},No=[1,3,6,12,18,24],Lo="ðŸŽ°"},32625:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(17712);const s=function(e,t,n=!1){const s=(0,r.A)(e);(0,o.vJ)(()=>{if(void 0===t)return;const e=setInterval(()=>s(),t);return n||s(),()=>clearInterval(e)},[t,n])}},32989:(e,t,n)=>{n.d(t,{w:()=>r});var o=n(14487);function r(e,t,...[n=(0,o.g0)()]){return{...e,byTabId:{...e.byTabId,[n]:{...e.byTabId[n],...t}}}}},33204:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(13439);const r=new Map;function s(e,t){const n=e.action;clearTimeout(r.get(n));const s=window.setTimeout(()=>{(0,o.ko)()[n](e.payload)},t);r.set(n,s)}},33554:(e,t,n)=>{n.d(t,{$:()=>r});var o=n(87894);function r(e,t){return e===t?t:(0,o.Vh)(t)?(0,o.Vh)(e)?"__deleteAllChildren"in t?{}:(0,o.Am)(Object.keys(e).concat(Object.keys(t))).reduce((n,o)=>{const s=e[o];if(t.hasOwnProperty(o)){const e=t[o];e?.__delete||(n[o]=r(s,e))}else n[o]=s;return n},{}):s(t):t}function s(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce((e,[t,n])=>(n?.__delete||(e[t]=(0,o.Vh)(n)?s(n):n),e),{})}},34201:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(84051),r=n(61433),s=n(66644),i=n(83414),a=n(19129),c=n(17712),d=n(41257),u=n(35297),l=n(66230);const f=350;function h(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:h=!1,noCloseTransition:m=!1,closeDuration:p=f,className:g="fast",prefix:y="",shouldForceOpen:b,onCloseAnimationEnd:v}=e,w=(0,o.li)(),I=e.ref||w,C=(0,o.li)(),[A,S]=(0,o.Ul)(),k=(0,d.i)({closeDuration:p,noMountTransition:n,noOpenTransition:h,noCloseTransition:m}),P=(0,c.A)(v);(0,l.A)(([e])=>{const n=k.current;b?S("open"):t?(C.current&&(clearTimeout(C.current),C.current=void 0),n.noOpenTransition||void 0===e&&n.noMountTransition?S("open"):(S("scheduled-open"),(0,s.YS)(()=>{S("open")}))):void 0===e||n.noCloseTransition?S("closed"):(S("closing"),C.current=window.setTimeout(()=>{S("closed"),P()},n.closeDuration))},[t,b]);const T=(0,c.A)(()=>{const e=I.current;if(!e)return;!1!==g&&((0,r.YM)(e,"opacity-transition"),(0,r.YM)(e,g));const t=A(),n="closed"!==t,o="open"===t,s="closing"===t;(0,r.dH)(e,`${y}shown`,n),(0,r.dH)(e,`${y}not-shown`,!n),(0,r.dH)(e,`${y}open`,o),(0,r.dH)(e,`${y}not-open`,!o),(0,r.dH)(e,`${y}closing`,s)});(0,u.A)(()=>{I.onChange=()=>{I.onChange=void 0,T()}},[T,I]),(0,o.Nf)(T,[T,A]);const M="withShouldRender"in e&&e.withShouldRender,E=(0,a.A)(()=>M&&"closed"!==A(),[M,A]),N=(0,i.A)(()=>"closing"===A(),[A]);return M?{ref:I,shouldRender:E,getIsClosing:N}:{ref:I,getIsClosing:N}}},34780:(e,t,n)=>{n.d(t,{Ay:()=>f,c_:()=>u,w4:()=>l});var o=n(84051),r=n(46536),s=n(17712);const i=(0,r.h)(),a=(0,r.h)();let c,d=!1;function u(){return d}function l(){return d||(d=!0,i.runCallbacks()),c&&(clearTimeout(c),c=void 0),function(){c&&(clearTimeout(c),c=void 0),d=!1,a.runCallbacks()}}const f=(e,t,n=!1)=>{const r=(0,s.A)(e),c=(0,s.A)(t);(0,o.vJ)(()=>{if(!n)return d&&r(),i.addCallback(r),a.addCallback(c),()=>{a.removeCallback(c),i.removeCallback(r)}},[n,r,c])}},35104:(e,t,n)=>{function o(e,t){return[e.date,e.fromId,e.gift.id,"starGiftUnique"===e.gift.type?e.gift.number:void 0,t?void 0:e.localTag].filter(Boolean).join("-")}n.d(t,{p:()=>o})},35297:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(73767);function s(e,t){const n=(0,r.A)(t),s=(0,o.li)();n&&!t.some((e,t)=>e!==n[t])||(s.current?.(),s.current=e(n||[])??void 0),(0,o._W)(()=>{s.current?.()})}},35710:(e,t,n)=>{n.d(t,{q:()=>o});let o=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},36175:(e,t,n)=>{n.d(t,{d:()=>V,w:()=>z});const o=n.p+"QrPlane.a921709f266564f65b7e.tgs",r=n.p+"BannedDuck.8278f2d6451ea282d426.tgs",s=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",i=n.p+"HandFilled.f87939d160f1dc288586.tgs",a=n.p+"HandOutline.f9831751ba60df30c484.tgs",c=n.p+"Speaker.04bb3743412b41ff83c5.tgs",d=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",u=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",l=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",f=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",h=n.p+"Diamond.c338df43ca65e19d0532.tgs",m=n.p+"DuckNothingFound.175a7ca3d96c1c328586.tgs",p=n.p+"Flame.d1a2dae178cb492c75ea.tgs",g=n.p+"Fragment.b1bf3a076c00ef525901.tgs",y=n.p+"Mention.810d50783976689ed870.tgs",b=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",v=n.p+"Invite.4502ec3aa4249d6e6723.tgs",w=n.p+"Requests.af9f19772695a8898810.tgs",I=n.p+"LastSeen.b16ff3c97561138c2406.tgs",C=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",A=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",S=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",k=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",P=n.p+"ReadTime.015d6e6f73f768f1e9fe.tgs",T=n.p+"Report.4a5dda0227ea86f6fa5e.tgs",M=n.p+"Search.6ca2c404467cff8f095a.tgs",E=n.p+"SearchingDuck.bbd2938a3403490d077c.tgs",N=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",L=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",B=n.p+"DuckCake.67f32d0fec7e02a42feb.tgs",F=n.p+"Experimental.43d62096368bf5a00ae3.tgs",x=n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",D=n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",O=n.p+"FoldersShare.3356f97ced75bf97121c.tgs",R=n.p+"Lock.12547a0228d4fa544e53.tgs",U=n.p+"Passkeys.ba4dbf5f2f5d93d08b42.tgs",_=n.p+"StarReaction.9079111e9821148b6055.tgs",$=n.p+"StarReactionEffect.8718d0946883c6f031f8.tgs",j=n.p+"Unlock.15931385f7a95ab1a000.tgs",V={DuckNothingFound:n.p+"DuckNothingFound.5d28f004d7e79165ab23.svg",Search:n.p+"Search.b14de1f9fb79fa2f9a49.svg",Passkeys:n.p+"Passkeys.45dcb4119bdfa8495b26.svg"},z={MonkeyIdle:A,MonkeyTracking:k,MonkeyClose:C,MonkeyPeek:S,FoldersAll:x,FoldersNew:D,FoldersShare:O,DiscussionGroups:L,Lock:R,CameraFlip:s,HandFilled:i,HandOutline:a,Speaker:c,VoiceAllowTalk:d,VoiceMini:u,VoiceMuted:l,VoiceOutlined:f,JoinRequest:w,Invite:v,QrPlane:o,Congratulations:N,Experimental:F,PartyPopper:b,Flame:p,ReadTime:P,Unlock:j,LastSeen:I,Mention:y,Fragment:g,StarReactionEffect:$,StarReaction:_,Report:T,SearchingDuck:E,BannedDuck:r,Diamond:h,Search:M,DuckNothingFound:m,Passkeys:U,DuckCake:B}},37479:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(84051),r=n(31481),s=n(48894),i=n(28470),a=n(20021);const c=new Map;class d{referenceCount=0;constructor(e){this.color=e,this.filterId=`color-filter-${e.slice(1)}`;const t=(0,s.hF)(e);(0,i.z)((0,a.Y)("filter",{"color-interpolation-filters":"sRGB",xmlns:r.jNX,children:(0,a.Y)("feColorMatrix",{type:"matrix",values:`0 0 0 0 ${t.r/255} 0 0 0 0 ${t.g/255} 0 0 0 0 ${t.b/255} 0 0 0 1 0`})}),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,i.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function u(e,t){if((0,o.vJ)(()=>{if(e)return()=>{const t=c.get(e);t&&(t.removeReference(),t.isUsed()||c.delete(t.color))}},[e]),!e)return;if(c.has(e))return l(c.get(e).getFilterId(),t);const n=new d(e);return c.set(e,n),l(n.getFilterId(),t)}function l(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},37661:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=(e=!1,t)=>{const[n,r]=(0,o.J0)(e,t);return[n,(0,o.hb)(()=>{r(!0)},[]),(0,o.hb)(()=>{r(!1)},[])]}},37836:(e,t,n)=>{function o(e,t,n=!0,o=!0){let r;return(...s)=>{r?(clearTimeout(r),r=void 0):n&&e(...s),r=self.setTimeout(()=>{o&&e(...s),r=void 0},t)}}function r(e,t,n=!0){let o,r,s;return(...i)=>{r=!0,s=i,o||(n&&(r=!1,e(...s)),o=self.setInterval(()=>{if(!r)return self.clearInterval(o),void(o=void 0);r=!1,e(...s)},t))}}function s(e){return i(p,e)}function i(e,t){let n,o=!1;return(...r)=>{n=r,o||(o=!0,e(()=>{o=!1,t(...n)}))}}n.d(t,{Fe:()=>s,IJ:()=>m,P_:()=>c,aj:()=>p,kI:()=>v,nF:()=>r,nb:()=>i,sg:()=>o,v7:()=>a,yu:()=>w});const a=e=>new Promise(t=>{setTimeout(()=>t(),e)});function c(){return new Promise(e=>{m(e)})}const d=35;let u,l,f,h;function m(e,t=!1){u?u.add(e):(u=new Set([e]),requestAnimationFrame(()=>{const e=u;u=void 0,l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach(e=>e())})),t&&(l?l.add(e):l=new Set([e]),f||(f=window.setTimeout(()=>{const e=l;if(u){const t=u;e.forEach(e=>t.delete(e))}l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach(e=>e())},d)))}function p(e){h?h.push(e):(h=[e],Promise.resolve().then(()=>{const e=h;h=void 0,e.forEach(e=>e())}))}const g=500;let y,b;function v(e){self.requestIdleCallback?y?y.push(e):(y=[e],requestIdleCallback(e=>{const t=y;for(y=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(y?y=t.concat(y):t.forEach(v))},{timeout:g})):p(e)}function w(e,t=!1){return b||(b=[],self.addEventListener("beforeunload",()=>{b.forEach(e=>e())})),t?b.push(e):b.unshift(e),()=>{b=b.filter(t=>t!==e)}}},37932:(e,t,n)=>{n.d(t,{Cn:()=>L,DW:()=>N,cl:()=>x});var o=n(31481),r=n(5930),s=n(9705),i=n(2188),a=n(87894),c=n(37836),d=n(84051),u=n(30857),l=n(14745),f=n(20021);let h,m={isInited:!1};const p=(0,c.Fe)(()=>{h=Math.random()}),g={},y=[function(){let e;o.Oig&&(e=performance.now());for(const e of v.values()){const{mapStateToProps:t,ownProps:n,mappedProps:s,forceUpdate:a}=e;if(!F(e,m,n))continue;let c;try{c=t(m,n)}catch(e){return void(0,i.H)(e)}o.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!(0,r.A)(s,c)&&(o.MVx&&(0,r.q)(s,c,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=c,e.DEBUG_updates++,a())}if(o.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],b={},v=new Map,w=(0,c.Fe)(C);let I=!0;function C(){if(I)I=!1;else if((0,d.OV)())return void d.OV.once(w);y.forEach(e=>e(m))}function A(e,t){if("object"==typeof e&&e!==m){if(o.Oig){if(!t?.forceOutdated&&e.DEBUG_randomId&&e.DEBUG_randomId!==h)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");h=Math.random()}m=e,t?.forceSyncOnIOs?(I=!0,C()):(t?.forceOnHeavyAnimation&&(I=!0),w())}}function S(){return o.Oig&&(m={...m,DEBUG_randomId:h},p()),m}function k(){return b}let P=[],T=[];function M(e){T.push(e)}function E(e,t){g[e]||(g[e]=[],b[e]=(t,n)=>function(e,t,n){const r=new s.A;if(P.push(()=>{g[e]?.forEach(e=>{const s=e(o.Oig?S():m,b,t);s?"function"!=typeof s.then?(A(s,n),r.resolve()):s.then(()=>{r.resolve()}):r.resolve()})}),1===P.length)try{for(;P.length;)P[0](),P.shift();for(;T.length;)T[0](),T.shift()}finally{P=[],T=[]}return r.promise}(e,t,n)),g[e].push(t)}function N(e){y.push(e)}function L(e){const t=y.indexOf(e);-1!==t&&y.splice(t,1)}function B(e=()=>({}),t){return n=>{function o(o){const s=(0,l.A)(),a=(0,u.A)();(0,d._W)(()=>{v.delete(s)});let c=v.get(s);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:o,forceUpdate:a,DEBUG_updates:0,DEBUG_componentName:n.name},v.set(s,c)),(!c.mappedProps||!(0,r.A)(c.ownProps,o))&&F(c,m,o))try{c.mappedProps=e(m,o)}catch(e){(0,i.H)(e)}return c.ownProps=o,(0,f.Y)(n,{...c.mappedProps,...o})}return o.DEBUG_contentComponentName=(0,d.$Z)(n),o}}function F(e,t,n){const{activationFn:o,stuckTo:r}=e;return!o||o(t,n,t=>r?r===t:(void 0!==t&&(e.stuckTo=t),!0))}function x(){return{getGlobal:S,setGlobal:A,getActions:k,getPromiseActions:k,addActionHandler:E,withGlobal:B,execAfterActions:M}}o.Oig&&(window.getGlobal=S,window.setGlobal=A,window.getActions=k,document.addEventListener("dblclick",()=>{console.warn("GLOBAL CONTAINERS",(0,a.My)(Array.from(v.values()).map(({DEBUG_componentName:e,DEBUG_updates:t})=>({DEBUG_componentName:e,DEBUG_updates:t})),"DEBUG_updates","desc"))}))},37960:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(34201);function r(e){return(0,o.A)({isOpen:e.hasMediaData,noMountTransition:e.hasMediaData,className:"slow",...e})}},38027:(e,t,n)=>{e.exports=n.p+"grey.45da821d56a68ea86203.svg"},38691:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(46536),s=n(15283);const i=(0,r.h)();function a(){window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",i.runCallbacks,{once:!0})}function c(){const[e,t]=(0,o.J0)(window.devicePixelRatio);return(0,s.A)(()=>i.addCallback(()=>{t(window.devicePixelRatio)})),e}a(),i.addCallback(a)},39351:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(43044),r=n(15283),s=n(30857);const i=()=>{const e=(0,s.A)();return(0,r.A)(()=>(0,o.iV)(e)),(0,o.Yw)()}},39751:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(37836),s=n(43503),i=n(16581);const a=250;function c(){const{width:e,height:t}=s.A.get(),[n,c]=(0,o.J0)(e),[d,u]=(0,o.J0)(t),[l,f]=(0,o.J0)(!1),h=(0,i.A)(f,[f],a,!0);return(0,o.vJ)(()=>{const e=(0,r.nF)(()=>{f(!0)},a,!0),t=(0,r.nF)(()=>{const{width:e,height:t}=s.A.get();c(e),u(t),h(!1)},a,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[h]),(0,o.Kr)(()=>({width:n,height:d,isResizing:l}),[d,l,n])}},39761:(e,t,n)=>{function o(e){for(e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);e.load()}n.d(t,{A:()=>o})},39877:(e,t,n)=>{n.d(t,{A:()=>I});var o=n(84051),r=n(66644),s=n(90709),i=n(87357),a=n(87679),c=n(76023),d=n(87094),u=n(84080),l=n(17712),f=n(62587),h=n(59030),m=n(93545),p=n(38691),g=n(45294);var y=n(20021);const b=[{inline:22,block:38,opacity:.35,scale:.75},{inline:32,block:12,opacity:.3,scale:1},{inline:60,block:22,opacity:.25,scale:.75},{inline:75,block:44,opacity:.25,scale:1},{inline:75,block:2,opacity:.2,scale:.625},{inline:95,block:18,opacity:.2,scale:1},{inline:115,block:38,opacity:.2,scale:.625},{inline:125,block:12,opacity:.1,scale:.75}],v=c.$,w=.75*c.$,I=(0,o.ph)(({emojiDocumentId:e,className:t,withEmojiSpace:n})=>{const c=(0,o.li)(),I=(0,o.li)(),[C,A]=(0,o.J0)(),S=(0,p.A)(),k=(0,h.A)(),{customEmoji:P}=(0,g.A)(e),T=P?(0,s.Mw)(P,"preview"):void 0,M=(0,f.A)(T),E=(0,d.A)(I),N=(0,u.KE)(()=>{M&&(0,a.NN)(M).then(A)},[M]);(0,o.vJ)(()=>{N()},[N]);const L=(0,l.A)(()=>{const e=c.current;if(!e||!C||!E)return;const t=e.getContext("2d"),{width:o,height:r}=e;t.clearRect(0,0,o,r),b.forEach(({inline:e,block:r,opacity:s,scale:i})=>{const a=n?-w:0,c=((k.isRtl?e:o/S-e)+a)*S,d=r*S,u=v*S;t.save(),t.globalAlpha=s,t.translate(c,d),t.scale(i,i),t.drawImage(C,-u/2,-u/2,u,u),t.restore()});const s=`${E}${P.isLottie?"ff":"bb"}`;t.save(),t.fillStyle=s,t.globalCompositeOperation="source-atop",t.fillRect(0,0,o,r),t.restore()}),B=(0,u.KE)(L,[L]);(0,o.vJ)(()=>{B()},[C,k.isRtl,E,B,n]);const F=(0,u.KE)((e,t)=>{(0,r.RK)(()=>{const n=c.current;n&&(n.width=e*S,n.height=t*S,n.style.width=`${e}px`,n.style.height=`${t}px`,L())})},[S]),x=(0,u.KE)(e=>{const{width:t,height:n}=e.contentRect;F(t,n)},[F]);return(0,m.A)(I,x),(0,o.vJ)(()=>{const e=I.current;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();F(t,n)},[F]),(0,y.Y)("div",{className:(0,i.A)("pTWe_CYU",t),ref:I,children:(0,y.Y)("canvas",{ref:c})})})},39996:(e,t,n)=>{n.d(t,{Ay:()=>c,yp:()=>d});var o=n(84051),r=n(90709),s=n(95807),i=n(74065),a=n(35297);function c({peer:e,color:t,noUserColors:n,shouldReset:c,theme:l}){const f=(0,o.li)({}),h=e&&!("isCustomPeer"in e)?e:void 0;return(0,a.A)(()=>{if(!e)return c?void(f.current={className:n?u(1):d(0)}):void(f.current={});if("isCustomPeer"in e)return void 0===e.peerColorId?void(f.current={}):void(f.current={className:`peer-color-${e.peerColorId}`,style:void 0});const o=t||e.color,a="collectible"===o?.type,h=u(e?(0,r.PX)(e):a?(0,r._n)(o):1),m=a||!o?.color?(0,r.Zg)(e):o.color;if(n)return void(f.current={className:h});if("collectible"===o?.type&&!n){const e="dark"===l&&o.darkAccentColor?o.darkAccentColor:o.accentColor,t="dark"===l&&o.darkColors?o.darkColors:o.colors,n=(0,i.dI)(t),{bg:r,bgActive:a}=(0,i.lx)(e);return void(f.current={className:h,style:(0,s.A)(`--bar-gradient: ${n}`,`--accent-color: ${e}`,`--accent-background-color: ${r}`,`--accent-background-active-color: ${a}`)})}const p=n||void 0===m?h:d(m);f.current={className:p,style:void 0}},[n,c,l,t,e]),{style:f.current.style,className:f.current.className,backgroundEmojiId:h?.color?.backgroundEmojiId,giftEmojiId:"collectible"===h?.color?.type?h.color.giftEmojiId:void 0}}function d(e){return`peer-color-${e}`}function u(e){return`peer-color-count-${e}`}},40664:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(63495),s=n(87357),i=n(39351),a=n(20021);const c=(0,o.ph)(({ref:e,id:t,className:n,value:o,label:c,error:d,success:u,disabled:l,readOnly:f,placeholder:h,autoComplete:m,inputMode:p,maxLength:g,tabIndex:y,teactExperimentControlled:b,onChange:v,onInput:w,onKeyPress:I,onKeyDown:C,onBlur:A,onPaste:S,onClick:k})=>{const P=(0,i.A)(),T=d||u||c,M=(0,s.A)("input-group",o&&"touched",d?"error":u&&"success",l&&"disabled",f&&"disabled",T&&"with-label",n);return(0,a.FD)("div",{className:M,dir:P.isRtl?"rtl":void 0,children:[(0,a.Y)("input",{ref:e,className:"form-control",type:"text",id:t,dir:"auto",value:o||"",tabIndex:y,placeholder:h,maxLength:g,autoComplete:m,spellCheck:!r.Vq&&void 0,inputMode:p,disabled:l,readOnly:f,onChange:v,onInput:w,onKeyPress:I,onKeyDown:C,onBlur:A,onPaste:S,"aria-label":T,teactExperimentControlled:b,onClick:k}),T&&(0,a.Y)("label",{htmlFor:t,children:T})]})})},41036:(e,t,n)=>{n.d(t,{Ay:()=>S,VY:()=>C,uo:()=>I});var o=n(84051),r=n(61433),s=n(13439),i=n(66644),a=n(91048),c=n(87357),d=n(25903),u=n(41402),l=n(87894),f=n(55994),h=n(30857),m=n(73767),p=n(66230),g=n(20021);const y="Transition_slide-active",b="Transition_slide-from",v="Transition_slide-to",w="Transition_slide-inactive",I=y,C=v,A=new Set(["slide","slideRtl","slideFade","zoomFade","zoomBounceSemiFade","slideLayers","pushSlide","reveal","slideOptimized","slideOptimizedRtl","slideVertical","slideVerticalFade"]),S=function({ref:e,activeKey:t,nextKey:n,name:I,direction:C="auto",renderCount:S,shouldRestoreHeight:k,shouldCleanup:P,cleanupExceptionKey:T,cleanupOnlyKey:M,shouldWrap:E,wrapExceptionKey:N,id:L,className:B,slideClassName:F,withSwipeControl:x,isBlockingAnimation:D,children:O,"data-tauri-drag-region":R,contentSelector:U,restoreHeightKey:_,onStart:$,onStop:j,onScroll:V,onMouseDown:z,onWheel:Y}){const G=(0,o.li)(),K=A.has(I)&&!(0,a.PKK)((0,s.mS)());let W=(0,o.li)();e&&(W=e);const H=(0,o.li)({}),J=(0,m.A)(t),q=(0,h.A)(),X=(0,o.li)(!1),Q=(0,o.li)(!1),Z=void 0!==J&&t!==J;!S&&Z&&(H.current={[J]:H.current[J]}),H.current[t]=O,n&&(H.current[n]=O),(0,p.A)(([e])=>{if(!e)return;const n="slideOptimized"===e||"slideOptimizedRtl"===e,o="slideOptimized"===I||"slideOptimizedRtl"===I;(n&&!o||!n&&o)&&(H.current={[t]:O},n&&(0,i.RK)(()=>{const e=W.current;["slideOptimized","slideOptimizedBackwards","slideOptimizedRtl","slideOptimizedRtlBackwards"].forEach(t=>(0,r.HW)(e,`Transition-${t}`))}))},[I]);const ee=-1===C||"auto"===C&&J>t||"inverse"===C&&J<t;(0,o.Nf)(()=>{function e(){P&&(H.current=void 0!==T?{[T]:H.current[T]}:void 0!==M?(0,l.cJ)(H.current,[M]):{},q())}const n="slideOptimized"===I||"slideOptimizedRtl"===I,s=W.current,a=Object.keys(H.current).map(Number),c=S?J:a.indexOf(J),h=S?t:a.indexOf(t),m=Array.from(s.childNodes);if(!m.length)return;const p=Array.from(s.children);if(p.forEach(e=>{(0,r.YM)(e,"Transition_slide"),F&&F.split(/\s+/).forEach(t=>{(0,r.YM)(e,t)})}),!Z){if(X.current)return;return void p.forEach(e=>{e===m[h]?((0,r.YM)(e,y),n&&(0,r.Tv)(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):n||(0,r.YM)(e,w)})}if(G.current=t,n){if(!m[h])return;return void function(e,t,n,s,a,c,l,f,h,m,p,g,b,v){if(e)return(0,r.dH)(f,`Transition-${t}`,!n),(0,r.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&((0,r.HW)(m,y),(0,r.Tv)(m,{transition:"none",transform:""})),h instanceof HTMLElement&&((0,r.YM)(h,y),(0,r.Tv)(h,{transition:"none",transform:"translate3d(0, 0, 0)"})),void s();"slideOptimizedRtl"===t&&(n=!n),l.current=!0;const w=(0,o.VK)(void 0,g);b?.(),(0,r.dH)(f,`Transition-${t}`,!n),(0,r.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&(0,r.Tv)(m,{transition:"none",transform:"translate3d(0, 0, 0)"}),h instanceof HTMLElement&&(0,r.Tv)(h,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,i.gm)(()=>(h instanceof HTMLElement&&(0,u.A)(h),()=>{m instanceof HTMLElement&&((0,r.HW)(m,y),(0,r.Tv)(m,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),h instanceof HTMLElement&&((0,r.YM)(h,y),(0,r.Tv)(h,{transition:"",transform:"translate3d(0, 0, 0)"}))})),(0,d.j)(h,()=>{const e=h instanceof HTMLElement?h.clientHeight:void 0;(0,i.RK)(()=>{a===c.current?(m instanceof HTMLElement&&(0,r.Tv)(m,{transition:"none",transform:""}),p&&e&&h instanceof HTMLElement&&((0,r.Tv)(h,{height:"auto"}),(0,r.Tv)(f,{height:`${e}px`})),v?.(),w(),l.current=!1,s()):w()})})}(K,I,ee,e,t,G,X,s,m[h],m[c],k,D,$,j)}if("none"===I||K||Q.current)return Q.current&&(Q.current=!1),m.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,b),(0,r.HW)(e,v),(0,r.dH)(e,y,t===h),(0,r.dH)(e,w,t!==h))}),void e();m.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,y),(0,r.dH)(e,b,t===c),(0,r.dH)(e,v,t===h),(0,r.dH)(e,w,t!==c&&t!==h))}),X.current=!0;const g=(0,o.VK)(void 0,D);function C(){const n=s.querySelector(`.${y}`),{clientHeight:o}=n||{};(0,i.RK)(()=>{t===G.current?((0,r.HW)(s,`Transition-${I}`),(0,r.HW)(s,`Transition-${I}Backwards`),m.forEach((e,t)=>{e instanceof HTMLElement&&((0,r.HW)(e,b),(0,r.HW)(e,v),(0,r.dH)(e,y,t===h),(0,r.dH)(e,w,t!==h))}),k&&n&&((0,r.Tv)(n,{height:"auto"}),(0,r.Tv)(s,{height:`${o}px`})),j?.(),g(),X.current=!1,e()):g()})}$?.(),(0,r.dH)(s,`Transition-${I}`,!ee),(0,r.dH)(s,`Transition-${I}Backwards`,ee);const A="reveal"!==I&&"slideFadeAndroid"!==I||!ee?m[h]:m[c];if(A)if(x&&m[c]){const e=(0,d.e)(A,C);(0,f.R)(m[c],m[h],()=>{e(),Q.current=!0,j?.(),g(),X.current=!1})}else(0,d.e)(A,C,void 0,1e3);else C()},[t,n,J,Z,ee,I,$,j,S,k,P,F,T,K,q,x,D,M]),(0,o.vJ)(()=>{if(!k)return;const e=W.current,t=e.querySelector(`:scope > .${y}`)||e.querySelector(`:scope > .${b}`);if(!t)return;const n=U?t.querySelector(U):t,{clientHeight:o,clientWidth:s}=n||t||{};o&&s&&(0,i.RK)(()=>{(0,r.Tv)(t,{height:"auto"}),(0,r.Tv)(e,{height:`${o}px`,flexBasis:`${o}px`})})},[k,O,_,U]);const te=!S,ne=H.current,oe=Object.keys(S?new Array(S).fill(void 0):ne).map(Number).map(e=>{const n=ne[e];if(!n)return;const o="function"==typeof n?n(e===t,e===J,e,t):n;return E&&e!==N||te?(0,g.Y)("div",{teactOrderKey:e,children:o},e):o});return(0,g.Y)("div",{ref:W,id:L,className:(0,c.A)("Transition",B),teactFastList:te,"data-tauri-drag-region":R,onScroll:V,onMouseDown:z,onWheel:Y,children:oe})}},41257:(e,t,n)=>{n.d(t,{i:()=>r});var o=n(84051);function r(e){const t=(0,o.li)(e);return t.current=e,t}},41402:(e,t,n)=>{function o(e){e.offsetWidth}n.d(t,{A:()=>o})},41733:(e,t,n)=>{n.d(t,{A:()=>s,e:()=>r});var o=n(31481);const r=e=>e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,s=e=>{e.play().catch(t=>{o.Oig&&console.warn(t,e)})}},42385:(e,t,n)=>{n.d(t,{Bo:()=>$,Jr:()=>E,Lj:()=>x,Mm:()=>V,ZJ:()=>D,bN:()=>L,e:()=>R,r2:()=>F,s1:()=>N,uw:()=>_,z0:()=>O});var o=n(84051),r=n(37932),s=n(23174),i=n(31481),a=n(70758),c=n(48899),d=n(49763),u=n(87894),l=n(4350),f=n(70934),h=n(37836),m=n(57751),p=n(13439),g=n(20714),y=n(17872),b=n(91048),v=n(43874);const w=5e3,I=(0,h.nF)(()=>(0,o.qF)(()=>U()),w,!1),C=()=>U(!0);let A,S=!1,k=!1,P=0;function T(e){return a.q.set(l.pg,e)}function M(e){return a.q.set(i.DUo,e)}function E(){return a.q.get(i.DUo)}function N(){return a.q.del(l.pg)}function L(){return a.q.del(i.DUo)}function B(e){e?.passcode?.isScreenLocked&&localStorage.setItem(i.ozB,"true")}function F(){i.UuV||((0,p.aJ)("saveSession",()=>{S||(D(),C())}),(0,p.aJ)("reset",()=>{k=!0,N().finally(()=>{localStorage.removeItem(i.ozB),k=!1,S&&O()})}))}async function x(e){if(i.UuV)return;const t=await async function(e){i.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(l.pg),n=t?JSON.parse(t):void 0;n&&localStorage.removeItem(l.pg);let o=n||await a.q.get(l.pg);const r=await E()||e.sharedState;o&&(o={...o,sharedState:r}),i.Oig&&console.timeEnd("global-state-cache-read"),o&&R(o,e);return{...e,...o,sharedState:{...r,...o?.sharedState}}}(e);return t.passcode.hasPasscode||(0,m.wr)()?(D(),t):void O()}function D(){S=!0,A=(0,h.yu)(C,!0),window.addEventListener("blur",C),(0,r.DW)(I)}function O(){S=!1,(0,r.Cn)(I),window.removeEventListener("blur",C),A&&A()}function R(e,t){try{!function(e,t){const n=e;e.settings.byKey={...t.settings.byKey,...e.settings.byKey},e.chatFolders={...t.chatFolders,...e.chatFolders},e.chats.similarChannelsById||(e.chats.similarChannelsById=t.chats.similarChannelsById),e.chats.similarBotsById||(e.chats.similarBotsById=t.chats.similarBotsById),e.chats.lastMessageIds||(e.chats.lastMessageIds=t.chats.lastMessageIds),n?.appConfig.peerColors&&(n.appConfig.peerColors=void 0,n.appConfig.darkPeerColors=void 0),e.fileUploads.byMessageKey||(e.fileUploads.byMessageKey={}),e.reactions||(e.reactions=t.reactions),e.quickReplies||(e.quickReplies=t.quickReplies),e.users.previewMediaByBotId||(e.users.previewMediaByBotId=t.users.previewMediaByBotId),e.chats.loadingParameters||(e.chats.loadingParameters=t.chats.loadingParameters),e.topBotApps||(e.topBotApps=t.topBotApps),e.reactions.defaultTags?.[0]?.type||(e.reactions=t.reactions),e.users.commonChatsById||(e.users.commonChatsById=t.users.commonChatsById),e.users.botAppPermissionsById||(e.users.botAppPermissionsById=t.users.botAppPermissionsById),e.chats.topicsInfoById||(e.chats.topicsInfoById=t.chats.topicsInfoById),e.messages.pollById||(e.messages.pollById=t.messages.pollById),e.settings.botVerificationShownPeerIds||(e.settings.botVerificationShownPeerIds=t.settings.botVerificationShownPeerIds),e.peers||(e.peers=t.peers),e.settings.accountDaysTtl||(e.settings.accountDaysTtl=t.settings.accountDaysTtl),e.cacheVersion||(e.cacheVersion=t.cacheVersion,e.messages=t.messages,e.chats.listIds=t.chats.listIds),e.messages.playbackByChatId||(e.messages.playbackByChatId=t.messages.playbackByChatId),e.cacheVersion<2&&(n.settings.themes.dark&&(n.settings.themes.dark.patternColor=t.settings.themes.dark.patternColor),n.settings.themes.light&&(n.settings.themes.light.patternColor=t.settings.themes.light.patternColor),e.cacheVersion=2),e.chats.notifyExceptionById||(e.chats.notifyExceptionById=t.chats.notifyExceptionById),e.sharedState||(e.sharedState=t.sharedState,e.sharedState.settings={canDisplayChatInTitle:n.settings.byKey.canDisplayChatInTitle,animationLevel:n.settings.byKey.animationLevel,foldersPosition:i.I6d,messageSendKeyCombo:n.settings.byKey.messageSendKeyCombo,messageTextSize:n.settings.byKey.messageTextSize,performance:n.settings.performance,theme:n.settings.byKey.theme,timeFormat:n.settings.byKey.timeFormat,wasTimeFormatSetManually:n.settings.byKey.wasTimeFormatSetManually,shouldUseSystemTheme:n.settings.byKey.shouldUseSystemTheme,isConnectionStatusMinimized:n.settings.byKey.isConnectionStatusMinimized,shouldForceHttpTransport:n.settings.byKey.shouldForceHttpTransport,language:n.settings.byKey.language,languages:n.settings.languages,shouldSkipWebAppCloseConfirmation:n.settings.byKey.shouldSkipWebAppCloseConfirmation,miniAppsCachedPosition:n.settings.miniAppsCachedPosition,miniAppsCachedSize:n.settings.miniAppsCachedSize,shouldAllowHttpTransport:n.settings.byKey.shouldAllowHttpTransport,shouldCollectDebugLogs:n.settings.byKey.shouldCollectDebugLogs,shouldDebugExportedSenders:n.settings.byKey.shouldDebugExportedSenders,shouldWarnAboutFiles:n.settings.byKey.shouldWarnAboutFiles}),e.settings.themes||(e.settings.themes=t.settings.themes),e.messages.webPageById||(e.messages.webPageById=t.messages.webPageById);const o=e.sharedState.settings;o.wasAnimationLevelSetManually||(o.animationLevel=i.i11,o.performance=g.tS),o.foldersPosition||(o.foldersPosition=i.I6d),e.appConfig||(e.appConfig=t.appConfig),n.sharedState?.settings?.shouldWarnAboutSvg&&(e.sharedState.settings.shouldWarnAboutFiles=!0,n.sharedState.settings.shouldWarnAboutSvg=void 0),e.auth||(e.auth=t.auth,e.auth.rememberMe=n.rememberMe),void 0===e.audioPlayer.volume&&(e.audioPlayer.volume=t.audioPlayer.volume)}(e,t)}catch(e){console.error(e)}}function U(e){const t=(0,p.mS)();k||!S||t.auth.isLoggingOut||!e&&(0,o.OV)()||$()}function _(){P=Date.now()+w}function $(e=!1){if(Date.now()<P)return;const t=(0,p.mS)(),{hasPasscode:n,isScreenLocked:o}=t.passcode;if(n){if(!o&&!e){const e=V(t);(0,f.yp)(void 0,e)}return B(t),T((0,y.nYM)(t,!1)),void M((0,y.i_d)(t.sharedState))}B(t),T(j(t)),M(function(e){return{...e,settings:{...e.settings,languages:void 0},isInitial:void 0}}(t.sharedState))}function j(e){var t;return{...g.HB,...(0,u.Up)(e,["cacheVersion","appConfig","config","auth","attachMenu","currentUserId","contactList","topPeers","topInlineBots","topBotApps","recentEmojis","recentCustomEmojis","push","serviceNotifications","attachmentSettings","leftColumnWidth","archiveSettings","mediaViewer","audioPlayer","shouldShowContextMenuHint","trustedBotIds","recentlyFoundChatIds","peerColors","savedReactionTags","timezones","availableEffectById"]),lastIsChatInfoShown:(0,v.Ny)()?void 0:e.lastIsChatInfoShown,stickers:z(e),customEmojis:Y(e),users:G(e),chats:K(e),messages:W(e),settings:H(e),chatFolders:J(e),groupCalls:q(e),reactions:{...(0,u.Up)(e.reactions,["defaultTags","recentReactions","topReactions","effectReactions","hash"]),availableReactions:(t=e.reactions.availableReactions,t?.map(e=>(0,u.Up)(e,["reaction","staticIcon","title","isInactive"])))},passcode:(0,u.Up)(e.passcode,["isScreenLocked","hasPasscode","invalidAttemptsCount","timeoutUntil"])}}function V(e){return JSON.stringify(j(e))}function z(e){const{diceSetIdByEmoji:t,setsById:n}=e.stickers;return{...g.HB.stickers,diceSetIdByEmoji:t,setsById:(0,u._E)(n,Object.values(t||{}))}}function Y(e){const{lastRendered:t,byId:n}=e.customEmojis,o=Object.values(e.chatFolders.byId).flatMap(e=>e.title.entities?.filter(e=>e.type===s.C7.CustomEmoji)?.map(e=>e.documentId)||[]),r=(0,u.Am)([...o,...t]).slice(0,i.GW0);return{byId:(0,u.Up)(n,r),lastRendered:r,forEmoji:{},added:{},statusRecent:{}}}function G(e){const{users:{byId:t,statusesById:n,fullInfoById:o,botAppPermissionsById:r},currentUserId:s}=e,a=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e).filter(e=>(0,c.L8)(e)),l=(0,u.Am)((0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>(0,b.NHc)(e,t)?.map(e=>e.id)||[]))),f=a.flatMap(t=>Object.values((0,b.zeq)(e,t)||{})).map(t=>{const n=(0,b.k9R)(e,t);return t.content.storyData?.peerId||n?.story?.peerId}).filter(e=>Boolean(e)&&(0,c.L8)(e)),h=Object.keys(e.attachMenu?.bots||{}),m=(0,u.Am)([...s?[s]:[],...a,...f,...l||[],...h,...e.topPeers.userIds||[],...e.recentlyFoundChatIds?.filter(c.L8)||[],...(0,d.YA)(i._E9)?.slice(0,i.Q$7).filter(c.L8)||[],...(0,d.YA)(i.DSF)?.filter(c.L8)||[],...e.contactList?.userIds||[],...Object.keys(t)]).slice(0,i.CVv);return{...g.HB.users,byId:(0,u._E)(t,m),statusesById:(0,u._E)(n,m),fullInfoById:(0,u._E)(o,m),botAppPermissionsById:r}}function K(e){const{chats:{byId:t},currentUserId:n}=e,o=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),r=(0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>{const n=(0,b.Xf0)(e,t);if(!n)return;const o=(0,b.zeq)(e,n.chatId),r=(0,b.rA3)(e,n.chatId,n.threadId,t);return r?.map(t=>{const n=o[t];if(!n)return;const r=n.content,s=(0,b.k9R)(e,n),i="message"===n.replyInfo?.type&&n.replyInfo.replyToPeerId;return r.storyData?.peerId||s?.story?.peerId||i})})),s=[...n?[n]:[],...o,...r,...e.recentlyFoundChatIds||[],...(0,d.YA)(i._E9)?.slice(0,i.Q$7)||[],...(0,d.YA)(i.DSF)||[],...(0,d.YA)(i.pX9)||[],...Object.keys(t)];let a=[];for(const e of s){const n=t[e];n&&(a.push(e),n.linkedMonoforumId&&a.push(n.linkedMonoforumId))}return a=(0,u.Am)(a).slice(0,i.ViI),{...e.chats,similarChannelsById:{},similarBotsById:{},isFullyLoaded:{},notifyExceptionById:(0,u._E)(e.chats.notifyExceptionById,s),loadingParameters:g.HB.chats.loadingParameters,byId:(0,u._E)(e.chats.byId,s),fullInfoById:(0,u._E)(e.chats.fullInfoById,s),lastMessageIds:{all:(0,u._E)(e.chats.lastMessageIds.all||{},s),saved:e.chats.lastMessageIds.saved},topicsInfoById:(0,u._E)(e.chats.topicsInfoById,o)}}function W(e){const{currentUserId:t}=e,n={},o=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),r=(0,u.oE)(Object.values(e.byTabId).map(({forumPanelChatId:e})=>e)),a=(0,u.Am)([...o,...t?[t]:[],...r,...(0,d.YA)(i.DSF)||[],...(0,d.YA)(i._E9)?.slice(0,i.Q$7)||[]]),c=Object.values(e.byTabId).reduce((t,{id:n})=>{const{chatId:o,threadId:r}=(0,b.Xf0)(e,n)||{};if(!o||!r||r===s.l3)return t;const i=t[o]||new Set;return i.add(r),t[o]=i,t},{}),l=[],f=[];return a.forEach(o=>{const i=e.messages.byChatId[o];if(!i)return;const a=(0,b.ZZX)(e,o),d=Array.from(c[o]||[]),h=Object.values(e.messages.byChatId[o].threadsById||{}).map(({threadInfo:e})=>e?.isCommentsInfo?e?.originMessageId:void 0).filter(Boolean),m=(0,u.Am)(d.concat(h)),p=(0,u._E)(i.threadsById,[s.l3,...m]),g=(0,u.Am)(Object.values(p).flatMap(e=>e.lastViewportIds||[])),y=(0,b.pSx)(e,o),v=y&&r.includes(o)?Object.values(y).map(({lastMessageId:e})=>e):[],w=o===t&&e.chats.lastMessageIds.saved?Object.values(e.chats.lastMessageIds.saved):[],I=[a].concat(v).concat(w).filter(Boolean),C=(0,u.Up)(i.byId,g.concat(I)),A=Object.keys(p).reduce((e,t)=>{const n=p[Number(t)];return e[Number(t)]={...n,listedIds:n.lastViewportIds,pinnedIds:void 0,typingStatus:void 0},e},{}),S=Object.values(C).reduce((e,t)=>{if(!t||t.isTypingDraft)return e;let n=function(e){const{photo:t,video:n,document:o,sticker:r}=e.content;return{...e,content:{...e.content,photo:t&&{...t,blobUrl:void 0},video:n&&{...n,blobUrl:void 0,previewBlobUrl:void 0},document:o&&{...o,previewBlobUrl:void 0},sticker:r&&{...r,isPreloadedGlobally:void 0}},previousLocalId:void 0}}(t);return n=function(e){return e.reactions?.results.length?{...e,reactions:{...e.reactions,results:e.reactions.results.map(e=>e.localAmount?{...e,localAmount:void 0}:e)}}:e}(n),e[t.id]=n,t.content.pollId&&l.push(t.content.pollId),t.content.webPage&&f.push(t.content.webPage.id),e},{});n[o]={byId:S,threadsById:A,summaryById:{}}}),{byChatId:n,pollById:(0,u._E)(e.messages.pollById,l),webPageById:(0,u._E)(e.messages.webPageById,f),sponsoredByChatId:{},playbackByChatId:{}}}function H(e){const{byKey:t,botVerificationShownPeerIds:n,notifyDefaults:o,lastPremiumBandwithNotificationDate:r,themes:s,accountDaysTtl:i}=e.settings;return{byKey:t,privacy:{},botVerificationShownPeerIds:n,lastPremiumBandwithNotificationDate:r,notifyDefaults:o,themes:s,accountDaysTtl:i}}function J(e){return{...e.chatFolders}}function q(e){return{...e.groupCalls,byId:{},activeGroupCallId:void 0}}},42452:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(37836),s=n(17712),i=n(20021);const a=(0,o.ph)(()=>{const[e,t]=(0,o.J0)([]),n=(0,o.Kr)(()=>(0,r.sg)(()=>{t([])},700,!1),[]),a=(0,s.A)(o=>{if(0!==o.button)return;const r=o.currentTarget,s=r.getBoundingClientRect(),i=r.offsetWidth/2;t([...e,{x:o.clientX-s.x-i/2,y:o.clientY-s.y-i/2,size:i}]),n()});return(0,i.Y)("div",{className:"ripple-container",onMouseDown:a,children:e.map(({x:e,y:t,size:n})=>(0,i.Y)("div",{className:"ripple-wave",style:`left: ${e}px; top: ${t}px; width: ${n}px; height: ${n}px;`}))})})},43044:(e,t,n)=>{n.d(t,{iV:()=>N,DV:()=>j,Yw:()=>X,S7:()=>G,qY:()=>W,CO:()=>te,K1:()=>K,eg:()=>H});var o=n(83649),r=n(31481),s=n(4875),i=n(4961),a=n(63495),c=n(70758),d=n(59607),u=n(46536);function l(e){let t,n=!1,o=!1;for(let r=0;r<e.length;r++){const s=e[r];if("\\"!==s)if('"'!==s||n){if("="===s&&!o){t=r;break}n=!1}else o=!o;else n=!n}if(void 0!==t&&t!==e.length-1)try{return[JSON.parse(e.slice(0,t)),JSON.parse(e.slice(t+1))]}catch(t){r.Oig&&console.error("Error parsing line:",e,t)}}const f="en",h=0,m="https://translations.telegram.org/en/weba";var p=n(14487),g=n(87894),y=n(98607),b=n(37836),v=n(9705),w=n(84947);const I={WrongNumber:"Wrong number?",SentAppCode:"We've sent the code to the **Telegram** app on your other device.",LoginJustSentSms:"We've sent you a code via SMS. Please enter it above.",LoginHeaderPassword:"Enter Password",LoginEnterPasswordDescription:"You have Two-Step Verification enabled, so your account is protected with an additional password.",StartText:"Please confirm your country code\nand enter your phone number.",LoginPhonePlaceholder:"Your phone number",LoginNext:"Next",LoginQRLogin:"Log in by QR Code",LoginQRTitle:"Log in to Telegram by QR Code",LoginQRHelp1:"Open Telegram on your phone",LoginQRHelp2:"Go to **Settings** > **Devices** > **Link Desktop Device**",LoginQRHelp3:"Point your phone at this screen to confirm login",LoginQRCancel:"Log in by phone number",LoginPasskey:"Log in with Passkey",YourName:"Your Name",LoginRegisterDesc:"Enter your name and add a profile photo.",LoginRegisterFirstNamePlaceholder:"First Name",LoginRegisterLastNamePlaceholder:"Last Name",LoginSelectCountryTitle:"Country",CountryNone:"Country not found",PleaseEnterPassword:"Enter your new password",ErrorPhoneNumberInvalid:"Invalid phone number, please try again",ErrorCodeInvalid:"Invalid code, please try again",ErrorIncorrectPassword:"Invalid password, please try again",ErrorPasswordFlood:"Too many attempts, please try again later",ErrorPhoneBanned:"This phone number is banned",ErrorFloodTime:"Too many attempts, please try again in {time}",ErrorUnexpected:"Unexpected error",ErrorUnexpectedMessage:"Unexpected error: {error}"},C="langpack-",A="en",S=new w.A(400);let k,P,T,M,E=q();const{addCallback:N,removeCallback:L,runCallbacks:B}=(0,u.h)();let F=!1;function x(){F||(F=!0,(0,b.IJ)(()=>{B(),F=!1}))}const D=new v.A;function O(e){return c.q.get(`${C}${e}`)}function R(e){return(0,d.yK)(e.language.langCode),c.q.set(`${C}${e.language.langCode}`,e)}let U;async function _(){if(M||U)return;U=async function(e){let t;t=e?(await n.e(5269).then(n.t.bind(n,25269,23))).readFileSync("./src/assets/localization/fallback.strings","utf8"):(await n.e(695).then(n.t.bind(n,50695,17))).default;const o=function(e){const t=e.split(/;\r?\n?/),n={};for(const e of t){if(!e.startsWith('"'))continue;const[t,o]=l(e)||[];t&&o?(n[t]&&console.warn("Duplicate key:",t),n[t]=o):console.warn("Bad formatting in line:",e)}return n}(t),r={};Object.entries(o).forEach(([e,t])=>{const[n,o]=e.split("_");if(!o)return void(r[n]=t);const s=r[n]||{};s[o]=t,r[n]=s});const s={langCode:f,version:h,strings:r},i=Object.keys(r).length;return{langPack:s,language:{langCode:f,name:"English",nativeName:"English",pluralCode:f,stringsCount:i,translatedCount:i,translationsUrl:m}}}();const e=await U;M=e.langPack,S.clear(),k?(E=q(),x()):V(e.language)}async function $(){if(!T||!k)return void(r.Oig&&console.warn("[Localization] Trying to fetch difference without loaded data"));if(await p.T_,!(0,p.ve)())return;const e=await(0,s.px)("fetchLangDifference",{langPack:r.rgX,langCode:T.langCode,fromVersion:T.version});e&&j(e.version,e.strings,e.keysToRemove)}function j(e,t,n){if(!T||!k||e===T.version)return;const o={...T,version:e,strings:{...(0,g.cJ)(T.strings,n),...t}};Y(o),R({langPack:o,language:k}),x()}function V(e){k=e,z(),E=q(),x()}function z(){if(!k)return;const e=k.pluralCode,t={format:e=>e.join(", "),formatToParts:e=>{const t=[];return e.forEach((e,n)=>{n>0&&t.push({type:"literal",value:", "}),t.push({type:"element",value:e})}),t}};function n(e,n){return a.Ld?new Intl.ListFormat(e,{type:n}):t}try{P={pluralRules:new Intl.PluralRules(e),region:new Intl.DisplayNames(e,{type:"region"}),conjunction:n(e,"conjunction"),disjunction:n(e,"disjunction"),number:new Intl.NumberFormat(e),preciseNumber:new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:10})}}catch(e){console.warn("Failed to create formatters:",e),P={pluralRules:new Intl.PluralRules(A),region:new Intl.DisplayNames(A,{type:"region"}),conjunction:n(A,"conjunction"),disjunction:n(A,"disjunction"),number:new Intl.NumberFormat(A),preciseNumber:new Intl.NumberFormat(A,{minimumFractionDigits:0,maximumFractionDigits:10})}}}function Y(e){T=e,S.clear(),x()}async function G(e,t){if(k)return;const n=await O(e);n?(T=n.langPack,k=n.language,z(),$()):t&&await W(e),_(),E=q(),x(),D.resolve()}async function K(e){if((0,p.ve)())return;const t=await O(e);t&&(Y(t.langPack),V(t.language))}async function W(e,t){if(t){const t=await O(e);if(t)return J(t.language)}if(await p.T_,!(0,p.ve)())return;const n=await(0,s.px)("fetchLanguage",{langPack:r.rgX,langCode:e});if(n)return J(n);r.Oig&&console.warn("Failed to fetch language",e)}function H(e){k?.langCode===e&&$()}async function J(e){if(T&&k?.langCode===e.langCode)return;const t=await O(e.langCode);if(t)Y(t.langPack),V(t.language),$();else{if(await p.T_,!(0,p.ve)())return;const t=await(0,s.px)("fetchLangPack",{langPack:r.rgX,langCode:e.langCode});if(!t)return void console.warn("Failed to fetch lang pack");Y({langCode:e.langCode,version:t.version,strings:t.strings}),V(e),R({langPack:T,language:e})}document.documentElement.lang=e.baseLangCode||e.langCode,x()}function q(){const e=(e,t,n)=>n&&(0,o.Zh)(n)?ee(e,t,n):Z(e,t,n);return e.rawCode=k?.langCode||A,e.isRtl=k?.isRtl,e.code=k?.pluralCode||A,e.with=({key:e,variables:t,options:n})=>n&&(0,o.Zh)(n)?ee(e,t,n):Z(e,t,n),e.withRegular=({key:e,variables:t,options:n})=>Z(e,t,n),e.withAdvanced=({key:e,variables:t,options:n})=>ee(e,t,n),e.region=e=>P?.region.of(e),e.conjunction=e=>P?.conjunction.format(e)||e.join(", "),e.disjunction=e=>P?.disjunction.format(e)||e.join(", "),e.number=e=>P?.number.format(e)||String(e),e.preciseNumber=e=>P?.preciseNumber.format(e)||String(e),e.internalFormatters=P,e.languageInfo=k,e}function X(){return E}function Q(e,t){let n=r.A$T?void 0:T?.strings[e];if(n||M||_(),n||=M?.strings[e],n||=I[e],!n||(0,o.JR)(n))return;const s=P?.pluralRules.select(t)||"other";return(0,o.Qw)(n)?n[s]||n.other:n}function Z(e,t,n){const o=n?.withNodes?void 0:`${e}-${JSON.stringify(t)}-${JSON.stringify(n)}`;if(o&&S.has(o))return S.get(o);const r=Q(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!r)return e;const s=(t?Object.entries(t):[]).reduce((e,[t,n])=>{if(void 0===n)return e;"object"==typeof n&&(n=Z(n.key,n.variables,n.options));const o=Number.isFinite(n)?P.number.format(n):String(n);return e.replaceAll(`{${t}}`,o)},r);return o&&S.set(o,s),s}function ee(e,t,n){const o=Q(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!o)return e;const r=t?Object.entries(t):[];let s=o;n?.specialReplacement&&(s=Object.entries(n.specialReplacement).reduce((e,[t,n])=>(0,y.t)(e,t,n),s));const a=n?.withNodes;if(a){const e=n.withMarkdown?["simple_markdown","emoji"]:["emoji"],t=(0,g.Am)([...e,...n.renderTextFilters||[]]);return(Array.isArray(s)?s:[s]).flatMap(e=>"string"!=typeof e?e:(0,i.A)(e,t,{markdownPostProcessor:e=>r.reduce((e,[t,n])=>{if(void 0===n)return e;const o=Number.isFinite(n)?P.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,i.A)(o))},e)}))}return r.reduce((e,[t,n])=>{if(void 0===n)return e;const o=Number.isFinite(n)?P.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,i.A)(o))},s)}const te=D.promise},43336:(e,t,n)=>{n.d(t,{Bt:()=>r,Cc:()=>a,Ki:()=>c,LI:()=>s,RI:()=>i,qE:()=>o});const o=(e,t,n)=>Math.min(n,Math.max(t,e)),r=(e,t,n)=>e>=t&&e<=n,s=(e,t=0)=>Math.round(e*10**t)/10**t,i=(e,t=0)=>Math.floor(e*10**t)/10**t,a=(e,t,n)=>(1-n)*e+n*t;function c(e){return 2*Math.round(e/2)}},43503:(e,t,n)=>{n.d(t,{A:()=>l,u:()=>u});var o=n(66644),r=n(96454),s=n(37836);let i=window.innerHeight,a=u();const c=(0,s.nF)(()=>{a=u()},250,!0),d=(0,s.nF)(()=>{i=window.innerHeight,c()},100,!1);function u(){let e;return e=r.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,o.RK)(()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)}),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",d),r.pz?window.visualViewport.addEventListener("resize",c):window.addEventListener("resize",c);const l={get:()=>a,getIsKeyboardVisible:()=>i>a.height}},43874:(e,t,n)=>{n.d(t,{Ay:()=>v,Bb:()=>g,Ny:()=>p,cB:()=>y});var o=n(84051),r=n(31481),s=n(96454),i=n(46536),a=n(43503),c=n(30857);const d=new Map,u=(0,i.h)();let l,f,h,m;function p(){return l}function g(){return f}function y(){return!p()}function b(){l=d.get("mobile")?.matches||!1,f=!l&&(d.get("tablet")?.matches||!1),h=d.get("landscape")?.matches||!1,m=d.get("touch")?.matches||!1,(0,a.u)(),u.runCallbacks()}function v(){const e=(0,c.A)();return(0,o.vJ)(()=>u.addCallback(e),[e]),{isMobile:l,isTablet:f,isLandscape:h,isDesktop:!l&&!f,isTouchScreen:m}}!function(){const e=window.matchMedia(`(max-width: ${r.c2m}px),   (max-width: ${r.O4t}px and max-height: ${r.f84}px)`);d.set("mobile",e),e.addEventListener("change",b);const t=window.matchMedia(`(max-width: ${r.j7z}px)`);d.set("tablet",t),t.addEventListener("change",b);const n=window.matchMedia(s.pz?"(orientation: landscape)":"screen and (min-device-aspect-ratio: 1/1) and (orientation: landscape)");d.set("landscape",n),n.addEventListener("change",b);const o=window.matchMedia("(pointer: coarse)");d.set("touch",o),o.addEventListener("change",b)}(),b()},45294:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),r=n(13439),s=n(91048),i=n(60261),a=n(37836);let c=new Set;const d=new Set,u=(0,a.nF)(()=>{const e=[...c],t=e.slice(0,100),n=e.slice(100);(0,r.ko)().loadCustomEmojis({ids:t}),c=new Set(n),c.size&&u()},200,!1),l=(0,a.nF)(()=>{(0,r.ko)().updateLastRenderedCustomEmojis({ids:[...d].reverse()}),d.clear()},200,!1);function f(e){d.add(e),l()}(0,i.K3)(f);var h=n(17712);function m(e){const[t,n]=(0,o.J0)(()=>e?(0,s.O8F)((0,r.mS)(),e):void 0),[a,d]=(0,o.J0)(()=>(0,s.BWX)((0,r.mS)())),l=(0,h.A)(t=>{if(!e)return;const o=(0,r.mS)();n((t??o.customEmojis).byId[e]),d((0,s.BWX)(o))});return(0,o.vJ)(()=>{var t;(t=e)&&(f(t),(0,s.O8F)((0,r.mS)(),t)||(c.add(t),u()))},[e]),(0,o.vJ)(()=>l(),[e]),(0,o.vJ)(()=>{if(e)return(0,i.Il)(l,e),()=>{(0,i.LQ)(l)}},[e]),{customEmoji:t,canPlay:a}}},46211:(e,t,n)=>{n.d(t,{FD:()=>m,HS:()=>h,IV:()=>l,PV:()=>u,WA:()=>p,X2:()=>f,c7:()=>g,yS:()=>y});var o=n(31481),r=n(48899),s=n(14487),i=n(90709),a=n(21133),c=n(5056),d=n(19926);function u(e,t){return(0,d.mB)(e,t)||(0,a.hd)(e,t)}function l(e,t){return e.peers.profilePhotosById[t]}function f(e,t){const n=(0,d.yp)(e,t),r=(0,d.mB)(e,t);return r?!n&&t!==o.zv8&&!(0,i.PL)(r):(0,a.AW)(e,t)?.areStarGiftsAvailable}function h(e,t,n,...[o=(0,s.g0)()]){const r=(0,c.n)(e,o);return r.savedGifts.collectionsByPeerId[t]?.[n]}function m(e,t,...[n=(0,s.g0)()]){return h(e,t,"all",n)}function p(e,t){const n=(0,r.L8)(t);if(n){const o=n?(0,d.vG)(e,t):void 0;return o?.paidMessagesStars}const o=(0,a.hd)(e,t);if(o&&!(0,i.SJ)(o)&&!(0,a.OD)(e,o.id))return o.paidMessagesStars}function g(e,t){const n=u(e,t),o=n?.profileColor;return"collectible"===o?.type||("regular"===o?.type?void 0!==o.color:"collectible"===n?.emojiStatus?.type)}function y(e,t){if(e.currentUserId===t)return!0;const n=(0,a.hd)(e,t);return Boolean(n&&(0,i.WX)(n)&&(0,i.ub)(n,"postMessages"))}},46275:(e,t,n)=>{n.d(t,{l8:()=>f,vG:()=>l,zq:()=>u});var o=n(31481),r=n(63495),s=n(24585),i=n(70874),a=n(48899),c=n(11116);const d=new Set(["t.me","telegram.me","telegram.dog"]);function u(e){return Boolean(e.match(o.OFc)||e.match(o.bnE))}function l(e){if(u(e))try{return function(e){const t=(0,s.Tc)(e);if(t){if(t.startsWith("https:")||t.startsWith("http:"))return function(e){if(!d.has(e.hostname))return;const t=T(e),n=P(e);switch(function(e,t){const n=t.length,o=t[0];if(1===n){if("share"===o)return"shareLink";if("boost"===o||void 0!==e.boost)return"chatBoostLink";if((0,c.BU)(o))return"publicUsernameOrBotLink"}else if(2===n){if("addlist"===o)return"chatFolderLink";if("login"===o)return"loginCodeLink";if("m"===o)return"businessChatLink";if("boost"===o)return"chatBoostLink";if("nft"===o)return"giftUniqueLink";if("auction"===o)return"giftAuctionLink";if("c"===o)return void 0!==e.boost?"chatBoostLink":"privateChannelLink";if((0,c.BU)(t[0])&&k(t[1]))return"publicMessageLink"}else if(3===n){if("c"===o&&t.slice(1).every(k))return"privateMessageLink";if((0,c.BU)(t[0])&&t.slice(1).every(k))return"publicMessageLink";if("nft"===o)return"giftUniqueLink"}else if(4===n&&"c"===o&&t.slice(1).every(k))return"privateMessageLink";return"unknown"}(t,n)){case"publicMessageLink":{const{single:e,comment:o,t:r}=t,{username:s,thread:i,messageId:a}=2===n.length?{username:n[0],thread:t.thread,messageId:n[1]}:{username:n[0],thread:n[1],messageId:n[2]};return m({username:s,messageId:a,single:e,threadId:i,commentId:o,timestamp:r})}case"privateMessageLink":{const{single:e,comment:o,t:r}=t,{channelId:s,thread:i,messageId:a}=3===n.length?{channelId:n[1],thread:t.thread,messageId:n[2]}:{channelId:n[1],thread:n[2],messageId:n[3]};return p({channelId:s,messageId:a,single:e,threadId:i,commentId:o,timestamp:r})}case"shareLink":return h({text:t.text,url:t.url});case"chatFolderLink":return g({slug:n[1]});case"loginCodeLink":return y({code:n[1]});case"publicUsernameOrBotLink":return b({username:n[0],start:t.start,text:t.text,startApp:t.startapp,mode:t.mode,appName:void 0,startAttach:t.startattach,attach:t.attach,choose:t.choose,ref:t.ref,direct:t.direct});case"privateChannelLink":return v({channelId:n[1]});case"businessChatLink":return I({slug:n[1]});case"chatBoostLink":{if("boost"===n[0])return w({username:n[1],id:t.c});const e="c"===n[0];return w({username:e?void 0:n[0],id:e?n[1]:void 0})}case"giftUniqueLink":return C({slug:n.slice(1).join("/")});case"giftAuctionLink":return A({slug:n[1]})}}(new URL(t));if(t.startsWith("tg:")){const e=r.fM?t.replace(/^tg:\/\//,"https://"):t;return function(e){const{hostname:t}=e,n=T(e),o=P(e);switch(function(e,t,n){switch(n){case"resolve":{const{domain:t,post:n,bot_id:o,scope:r,public_key:s,nonce:i}=e;if("telegrampassport"===t&&o&&r&&s&&i)return"telegramPassportLink";if(t&&n)return"publicMessageLink";if((0,c.BU)(t))return"publicUsernameOrBotLink";break}case"privatepost":{const{channel:t,post:n}=e;if(t)return n?"privateMessageLink":"privateChannelLink";break}case"msg_url":return"shareLink";case"addlist":return"chatFolderLink";case"login":return"loginCodeLink";case"passport":return"telegramPassportLink";case"message":return"businessChatLink";case"premium_offer":case"premium":return"premiumReferrerLink";case"premium_multigift":return"premiumMultigiftLink";case"boost":return"chatBoostLink";case"nft":return"giftUniqueLink";case"stargift_auction":return"giftAuctionLink";case"stars":return"stars";case"ton":return"ton";case"settings":return"settings"}return"unknown"}(n,0,t)){case"publicMessageLink":{const{domain:e,post:t,single:o,thread:r,comment:s,t:i}=n;return m({username:e,messageId:t,single:o,threadId:r,commentId:s,timestamp:i})}case"privateMessageLink":{const{channel:e,post:t,single:o,thread:r,comment:s,t:i}=n;return p({channelId:e,messageId:t,single:o,threadId:r,commentId:s,timestamp:i})}case"shareLink":return h({text:n.text,url:n.url});case"chatFolderLink":return g({slug:n.slug});case"loginCodeLink":return y({code:n.code});case"telegramPassportLink":return function(e){const{botId:t,scope:n,publicKey:o,nonce:r,callbackUrl:s,payload:i}=e;if(t&&k(t)&&n&&o&&r)return{type:"telegramPassportLink",botId:Number(t),scope:n,publicKey:o,nonce:r,callbackUrl:s,payload:i}}({botId:n.bot_id,scope:n.scope,publicKey:n.public_key,nonce:n.nonce,callbackUrl:n.callback_url,payload:n.payload});case"publicUsernameOrBotLink":return b({username:n.domain,start:n.start,text:n.text,appName:n.appname,startApp:n.startapp,mode:n.mode,startAttach:n.startattach,attach:n.attach,choose:n.choose,ref:n.ref,direct:n.direct});case"privateChannelLink":return v({channelId:n.channel});case"businessChatLink":return I({slug:n.slug});case"premiumReferrerLink":return function(e){const{ref:t}=e;return{type:"premiumReferrerLink",ref:t}}({ref:n.ref});case"premiumMultigiftLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumMultigiftLink",referrer:t}}({referrer:n.ref});case"chatBoostLink":return w({username:n.domain,id:n.channel});case"giftUniqueLink":return C({slug:n.slug});case"giftAuctionLink":return A({slug:n.slug});case"stars":return{type:"stars"};case"ton":return{type:"ton"};case"settings":return function(e){const{screen:t}=e;return{type:"settings",screen:t?S(t):void 0}}({screen:1===o.length?o[0]:void 0})}}(new URL(e))}}}(e)}catch(e){return}}function f(e){const t=l(e);if("publicUsernameOrBotLink"===t?.type)return t.username}function h(e){const{url:t,text:n}=e;if(t)return{type:"shareLink",url:t,text:n}}function m(e){const{messageId:t,threadId:n,commentId:o,username:r,single:s,timestamp:a}=e;if(r&&(0,c.BU)(r)&&t&&k(t)&&(!n||k(n))&&(!o||k(o)))return{type:"publicMessageLink",username:r,messageId:Number(t),isSingle:""===s,threadId:n?Number(n):void 0,commentId:o?Number(o):void 0,timestamp:a?(0,i.W)(a):void 0}}function p(e){const{messageId:t,threadId:n,commentId:o,channelId:r,single:s,timestamp:c}=e;if(r&&k(r)&&t&&k(t)&&(!n||k(n))&&(!o||k(o)))return{type:"privateMessageLink",channelId:(0,a.QE)(r),messageId:Number(t),isSingle:""===s,threadId:n?Number(n):void 0,commentId:o?Number(o):void 0,timestamp:c?(0,i.W)(c):void 0}}function g(e){const{slug:t}=e;if(t)return{type:"chatFolderLink",slug:t}}function y(e){const{code:t}=e;if(t)return{type:"loginCodeLink",code:t}}function b(e){const{username:t,start:n,text:o,startApp:r,mode:s,startAttach:i,attach:a,appName:d,choose:u,ref:l,direct:f}=e;if(t&&(0,c.BU)(t))return{type:"publicUsernameOrBotLink",username:t,start:n,startApp:r,mode:s,appName:d,startAttach:i,attach:a,text:o,choose:u,ref:l,isDirect:""===f}}function v(e){const{channelId:t}=e;if(t)return{type:"privateChannelLink",channelId:(0,a.QE)(t)}}function w(e){const{username:t,id:n}=e;if(t||n)return{type:"chatBoostLink",username:t,id:n?(0,a.QE)(n):void 0}}function I(e){const{slug:t}=e;if(t)return{type:"businessChatLink",slug:t}}function C(e){const{slug:t}=e;if(t)return{type:"giftUniqueLink",slug:t}}function A(e){const{slug:t}=e;if(t)return{type:"giftAuctionLink",slug:t}}function S(e){switch(e){case"devices":return"devices";case"folders":return"folders";case"language":return"language";case"privacy":return"privacy";case"edit_profile":return"editProfile";case"theme":return"theme"}}function k(e){return/^-?\d+$/.test(e)}function P(e){const t=e.pathname.split("/").filter(Boolean);return"s"===t[0]&&t.shift(),t.map(decodeURI)}function T(e){return Object.fromEntries(e.searchParams)}},46510:(e,t,n)=>{function o(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function r(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n}n.d(t,{G:()=>r,g:()=>o}),"function"==typeof SuppressedError&&SuppressedError},46536:(e,t,n)=>{function o(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(...t){e.forEach(e=>{e(...t)})},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}n.d(t,{h:()=>o})},46637:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(66644),s=n(46536),i=n(17712);const a=new Map;function c(e,t,n=!1){const c=(0,i.A)(t);(0,o.vJ)(()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const i=new Map;function d(){for(const e of i.values())e.target.offsetParent&&c(e);i.clear()}const u=([e])=>{i.set(e.target,e),(0,o.OV)()?o.OV.once(()=>{(0,r.YS)(d)}):d()};let[l,f]=a.get(t)||[void 0,void 0];return l||(f=(0,s.h)(),l=new IntersectionObserver(f.runCallbacks),a.set(t,[l,f]),l.observe(t)),f.addCallback(u),()=>{f.removeCallback(u),f.hasCallbacks()||(l.unobserve(t),l.disconnect(),a.delete(t))}},[n,e])}},48544:(e,t,n)=>{var o=n(89925),r=n(31481),s=n(26120),i=n(70758),a=n(38),c=n(96454),d=n(74824),u=n(14487),l=n(4350),f=n(5560),h=n(70934),m=n(66414),p=n(37836),g=n(57751),y=n(84553),b=n(4875),v=n(42385),w=n(13439),I=n(17872),C=n(17567),A=n(30708),S=n(55232);(0,w.aJ)("initApi",(e,t)=>{const n=(0,m.f4)(),{shouldAllowHttpTransport:o,shouldForceHttpTransport:r,shouldDebugExportedSenders:s,shouldCollectDebugLogs:i,language:a}=(0,A.lS)(e),d=window.location.search.includes("test")||"1"===n?.tgWebAuthTest,u=e.config?.isTestServer,f=(0,l.zk)(),h=Object.values(f).filter(e=>e.isTest===u).map(({userId:e})=>e).filter(Boolean);(0,b.Ru)(t.apiUpdate,{userAgent:navigator.userAgent,platform:c.Aw,sessionData:(0,g.CX)(),isWebmSupported:c.OF,maxBufferSize:c.kn,webAuthToken:n?.tgWebAuthToken,dcId:n?.tgWebAuthDcId?Number(n?.tgWebAuthDcId):void 0,mockScenario:n?.mockScenario,shouldAllowHttpTransport:o,shouldForceHttpTransport:r,shouldDebugExportedSenders:s,langCode:a,isTestServerRequested:d,accountIds:h,hasPasskeySupport:c.DL}),(0,b.eu)(Boolean(i))}),(0,w.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:o}=n;return(0,b.px)("provideAuthPhoneNumber",o.replace(/[^\d]/g,"")),(0,C.K)(e,{isLoading:!0,errorKey:void 0})}),(0,w.aJ)("setAuthCode",(e,t,n)=>{const{code:o}=n;return(0,b.px)("provideAuthCode",o),(0,C.K)(e,{isLoading:!0,errorKey:void 0})}),(0,w.aJ)("setAuthPassword",(e,t,n)=>{const{password:o}=n;return(0,b.px)("provideAuthPassword",o),(0,C.K)(e,{isLoading:!0,errorKey:void 0})}),(0,w.aJ)("loginWithPasskey",async(e,t,n)=>{const o=e.auth.passkeyOption;if(!o)return;const r=await navigator.credentials.get((0,a.I)(o)).catch(e=>{t.showNotification({message:{key:"PasskeyLoginError"},tabId:(0,u.g0)()})});if(!r)return;const s=r;(0,b.px)("restartAuthWithPasskey",s.toJSON())}),(0,w.aJ)("uploadProfilePhoto",async(e,t,n)=>{const{file:r,isFallback:s,isVideo:i,videoTs:a,bot:c,tabId:d=(0,u.g0)()}=n;e=(0,I.G42)(e,o.TD.InProgress,d),(0,w.UF)(e),await(0,b.px)("uploadProfilePhoto",r,s,i,a,c)&&(e=(0,w.mS)(),e=(0,I.G42)(e,o.TD.Complete,d),(0,w.UF)(e),t.loadFullUser({userId:e.currentUserId}))}),(0,w.aJ)("signUp",(e,t,n)=>{const{firstName:o,lastName:r}=n;return(0,b.px)("provideAuthRegistration",{firstName:o,lastName:r}),(0,C.K)(e,{isLoading:!0,errorKey:void 0})}),(0,w.aJ)("returnToAuthPhoneNumber",e=>((0,b.px)("restartAuth"),(0,C.K)(e,{errorKey:void 0}))),(0,w.aJ)("goToAuthQrCode",e=>((0,b.px)("restartAuthWithQr"),(0,C.K)(e,{isLoadingQrCode:!0,errorKey:void 0}))),(0,w.aJ)("saveSession",(e,t,n)=>{if(e.passcode.isScreenLocked)return;const{sessionData:o}=n;o?(0,g.AA)(o):(0,g.rE)()}),(0,w.aJ)("signOut",async(e,t,n)=>{"hangUp"in t&&t.hangUp({tabId:(0,u.g0)()}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:(0,u.g0)()});try{(0,m.lD)(),(0,m.vO)(),await(0,f.al)(),await Promise.race([(0,b.px)("destroy"),(0,p.v7)(3e3)]),await(0,y.nv)(!1)}catch(e){}t.reset(),n?.forceInitApi&&t.initApi()}),(0,w.aJ)("requestChannelDifference",(e,t,n)=>{const{chatId:o}=n;(0,b.px)("requestChannelDifference",o)}),(0,w.aJ)("reset",(e,t)=>{(0,g.rE)(l.Xz),(0,h.WN)(),d.clear(r.Iz7),d.clear(r.zrf),d.clear(r.cLl),d.clear(r.nfi),(0,v.s1)(),(0,S.m)();const n=(0,l.zk)();Object.values(n).length||(i.B.clear(),(0,v.bN)());const o=r.CV.replace(/\d+$/,""),a=Number((r.CV.match(/\d+$/)||["0"])[0]);for(let e=0;e<a;e++)d.clear(`${o}${0===e?"":e}`);(0,s.q)(0),t.initShared({force:!0}),Object.values(e.byTabId).forEach(({id:e,isMasterTab:n})=>{t.init({tabId:e,isMasterTab:n})})}),(0,w.aJ)("disconnect",()=>{(0,b.eZ)("disconnect")}),(0,w.aJ)("destroyConnection",()=>{(0,b.eZ)("destroy",!0,!0)}),(0,w.aJ)("loadNearestCountry",async e=>{if("connectionStateReady"!==e.connectionState)return;const t=await(0,b.px)("fetchNearestCountry");e=(0,w.mS)(),e=(0,C.K)(e,{nearestCountry:t}),(0,w.UF)(e)}),(0,w.aJ)("setDeviceToken",(e,t,n)=>{const{token:o}=n;return{...e,push:{deviceToken:o,subscribedAt:Date.now()}}}),(0,w.aJ)("deleteDeviceToken",e=>({...e,push:void 0})),(0,w.aJ)("lockScreen",async e=>{const t=JSON.stringify({...(0,g.CX)(),userId:e.currentUserId}),n=(0,v.Mm)(e);await(0,h.yp)(t,n),(0,h.m)(),(0,g.rE)(),(0,s.q)(0),e=(0,w.mS)(),e=(0,I.Vg3)(e,{isScreenLocked:!0,invalidAttemptsCount:0,timeoutUntil:void 0}),(0,w.UF)(e),setTimeout(()=>{e=(0,w.mS)(),e=(0,I.nYM)(e),(0,w.UF)(e)},r.es);try{await(0,f.al)(),await(0,b.px)("destroy",!0)}catch(e){}})},48775:(e,t,n)=>{n.d(t,{Kk:()=>d,Ms:()=>l,QH:()=>u,Qi:()=>h,U2:()=>f});var o=n(31481),r=n(17142),s=n(87357),i=n(18276),a=n(9267),c=n(20021);function d(e,t){return e("StarsAmountText",{amount:t},{pluralValue:t})}function u(e,t,n){const o=n?(0,r.wD)(Number(t)):t;return e("TonAmountText",{amount:e.preciseNumber(o)},{pluralValue:o})}function l(e,t,n){const{className:o,containerClassName:a,shouldConvertFromNanos:d}=n||{},u=d?(0,r.wD)(Number(t)):t,l=(0,c.Y)(i.A,{name:"toncoin",className:(0,s.A)("ton-amount-icon",o)});return a?(0,c.Y)("span",{className:a,children:e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"ðŸ’Ž":l}})}):e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"ðŸ’Ž":l}})}function f(e,t,n){const{asFont:r,className:d,containerClassName:u}=n||{},l=r?(0,c.Y)(i.A,{name:"star",className:(0,s.A)("star-amount-icon",d)}):(0,c.Y)(a.A,{type:"gold",className:(0,s.A)("star-amount-icon",d),size:"adaptive"});return u?(0,c.Y)("span",{className:u,children:e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:l}})}):e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:l}})}function h(e,t){return t.currency===o.ykW?u(e,t.amount,!0):d(e,t.amount+t.nanos/1e9)}},48894:(e,t,n)=>{n.d(t,{LS:()=>p,R5:()=>v,VT:()=>w,Yi:()=>g,bi:()=>f,hF:()=>d,hT:()=>h,rX:()=>m,t:()=>y,v2:()=>u,vG:()=>b,xp:()=>a});var o=n(87679),r=n(43336);const s=128;function i(e){return e.length%2==0?e:e.slice(1)}function a(e){const t=i(e);return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function c(e){const t=i(e);return[...a(t),8===t.length?parseInt(t.substring(6,8),16):255]}function d(e){const[t,n,o,r]=c(e);return{r:t,g:n,b:o,a:r}}function u([e,t,n]){return`#${((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}`}function l([e,t,n,o]){return`${u([e,t,n])}${o.toString(16)}`}function f([e,t,n]){e/=255,t/=255,n/=255;const o=Math.max(e,t,n),r=Math.min(e,t,n),s=o-r;let i;const a=0===o?0:s/o,c=o;if(o===r)i=0;else{switch(o){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return[i,a,c]}function h([e,t,n]){let o,r,s;const i=Math.floor(6*e),a=6*e-i,c=n*(1-t),d=n*(1-a*t),u=n*(1-(1-a)*t);switch(i%6){case 0:o=n,r=u,s=c;break;case 1:o=d,r=n,s=c;break;case 2:o=c,r=n,s=u;break;case 3:o=c,r=d,s=n;break;case 4:o=u,r=c,s=n;break;case 5:o=n,r=c,s=d}return[Math.round(255*o),Math.round(255*r),Math.round(255*s)]}async function m(e){const t=[0,0,0];let n,r=-4;const s=[0,0,0];let i=0;const a=document.createElement("canvas"),c=a.getContext&&a.getContext("2d");if(!c)return t;const d=await(0,o.NN)(e),u=d.naturalHeight||d.offsetHeight||d.height,l=d.naturalWidth||d.offsetWidth||d.width;a.height=u,a.width=l,c.drawImage(d,0,0);try{n=c.getImageData(0,0,l,u)}catch(e){return t}const f=n.data.length;for(;(r+=20)<f;)0!==n.data[r+3]&&(++i,s[0]+=n.data[r],s[1]+=n.data[r+1],s[2]+=n.data[r+2]);return s[0]=Math.floor(s[0]/i),s[1]=Math.floor(s[1]/i),s[2]=Math.floor(s[2]/i),s}function p([e,t,n]){return.2126*e+.7152*t+.0722*n}function g(e){const t=f(e),[n]=t;let[,o,r]=t;return o=Math.min(1,o+.05+.1*(1-o)),r=r>.5?Math.max(0,.65*r):Math.max(0,Math.min(1,1-.65*r)),l([...h([n,o,r]),102])}function y(e){return`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${(e>>24&255)/255})`}function b(e){return p([e>>16&255,e>>8&255,255&e])>s?"black":"white"}function v(e,t,n){return{r:Math.round((0,r.Cc)(e.r,t.r,n)),g:Math.round((0,r.Cc)(e.g,t.g,n)),b:Math.round((0,r.Cc)(e.b,t.b,n)),a:void 0!==e.a?Math.round((0,r.Cc)(e.a,t.a,n)):void 0}}function w(e,t,n){const o=function([e,t,n,o]){return[...f([e,t,n]),o]}(c(e)),[s,,,i]=o;let[,a,d]=o;return a>.1&&a<.9&&(a=(0,r.qE)(a+t,0,1)),d=(0,r.qE)(d+n,0,1),l(function([e,t,n,o]){return[...h([e,t,n]),o]}([s,a,d,i]))}},48899:(e,t,n)=>{n.d(t,{hy:()=>a,A2:()=>i,L8:()=>r,QE:()=>s});var o=n(31481);function r(e){return!e.startsWith("-")}function s(e){const t=BigInt(e);return String(-o.OkV-t)}function i(e){const t=BigInt(e);return r(e)?t:BigInt(e)<-o.OkV?-t-o.OkV:-1n*t}function a(e){return function(e){if(void 0!==e)return o.Oig&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)&&console.error("Unsafe BigInt conversion",e),Number(e)}(i(e))}},49763:(e,t,n)=>{n.d(t,{BU:()=>L,N:()=>E,P1:()=>F,PZ:()=>k,Ts:()=>I,Xq:()=>P,YA:()=>C,Yw:()=>N,dk:()=>B,jn:()=>S,uk:()=>M,vp:()=>T,zm:()=>A});var o=n(84051),r=n(37932),s=n(13439),i=n(31481),a=n(27109),c=n(91048),d=n(5930),u=n(46536),l=n(87894),f=n(37836);const h=6,m=_();let p=m.prevGlobal,g=m.prepared,y=m.results,b=m.callbacks;i.Oig&&(window.DEBUG_getFolderManager=()=>({prepared:g,results:y}));const v=(0,f.nF)(()=>{(0,o.qF)(()=>{x((0,s.mS)())})},500);let w=!1;function I(){w=!0,(0,r.DW)(v),(0,s.aJ)("reset",$);const e=(0,s.mS)();(0,c.nTw)(e).isMasterTab||O(e,!0,!0,!0,!0),x(e)}function C(e){return w||I(),y.orderedIdsByFolderId[e]}function A(e){return w||I(),y.pinnedCountByFolderId[e]||0}function S(){return w||I(),y.chatsCountByFolderId}function k(){return w||I(),y.unreadCountersByFolderId}function P(){return w||I(),y.unreadChatIdsByFolderId}function T(){return k()[i.DSF]?.notificationsCount||0}function M(e,t){const n=g.chatSummariesById.get(e);return t?n.orderInSaved:n.orderInAll}function E(e){return g.folderIdsByChatId[e]}function N(e,t){return b.orderedIdsByFolderId[e]||(b.orderedIdsByFolderId[e]=(0,u.h)()),b.orderedIdsByFolderId[e].addCallback(t)}function L(e){return b.chatsCountByFolderId.addCallback(e)}function B(e){return b.unreadChatIdsByFolderId.addCallback(e)}function F(e){return b.unreadCountersByFolderId.addCallback(e)}function x(e){let t;i.Oig&&(t=performance.now());const n=Boolean(e.chats.listIds.active&&D(i.DSF,e.chats.listIds.active,e.chats.orderedPinnedIds.active)),o=Boolean(e.chats.listIds.archived&&D(i._E9,e.chats.listIds.archived,e.chats.orderedPinnedIds.archived)),r=Boolean(e.chats.listIds.saved&&D(i.pX9,e.chats.listIds.saved,e.chats.orderedPinnedIds.saved)),s=e.chats.isFullyLoaded.active!==p.isAllFolderFullyLoaded,u=e.chats.isFullyLoaded.archived!==p.isArchivedFolderFullyLoaded,f=e.chats.isFullyLoaded.saved!==p.isSavedFolderFullyLoaded,m=e.chatFolders.byId!==p.foldersById,b=e.chats.byId!==p.chatsById,v=e.chats.lastMessageIds.saved!==p.lastSavedMessageIds,w=e.chats.lastMessageIds.all!==p.lastAllMessageIds,I=e.chats.topicsInfoById!==p.topicsInfoById,C=e.users.byId!==p.usersById,A=(0,c.K52)(e)!==p.notifyDefaults,S=e.chats.notifyExceptionById!==p.notifyExceptions;let k=[];if((s||u||f)&&(k=k.concat(function(e,t=!1,n=!1){let o=[];t&&o.push(i._E9),n&&o.push(i.pX9);const r=e.chats.isFullyLoaded.active,s=e.chats.isFullyLoaded.archived,a=e.chats.isFullyLoaded.saved;if(r&&s){const e=Object.keys(g.folderSummariesById).filter(e=>!y.orderedIdsByFolderId[e]).map(Number);o=o.concat(e)}return p.isAllFolderFullyLoaded=r,p.isArchivedFolderFullyLoaded=s,p.isSavedFolderFullyLoaded=a,o}(e,u,f))),!(n||o||r||m||b||C||I||A||S||v||w))return void(k.length&&U(k));const P=p.allFolderListIds,T=p.archivedFolderListIds,M=p.savedFolderListIds;if(O(e,n,o,r,m),k=k.concat(function(e,t,n,o,r,s,u){const f=e.chats.byId,h=e.users.byId,m=e.chats.lastMessageIds.all,b=e.chats.lastMessageIds.saved,v=(0,c.K52)(e),w=e.chats.notifyExceptionById,I=Object.values(g.folderSummariesById),C=new Set,A=e.chats.listIds.active,S=e.chats.listIds.archived,k=e.chats.listIds.saved,P=[...A||[],...S||[]];let T=[...P,...k||[]];return A===r&&S===s&&k===u||(T=(0,l.Am)(T.concat(r||[],s||[],u||[]))),T.forEach(r=>{const s=f[r];if(!t&&!n&&!o&&s===p.chatsById[r]&&h[r]===p.usersById[r]&&m?.[r]===p.lastAllMessageIds?.[r]&&b?.[r]===p.lastSavedMessageIds?.[r])return;let u;if(s){const n=g.chatSummariesById.get(r),o=!P.includes(r),l=!k?.includes(r),f=function(e,t,n,o,r,s,d){const{id:u,type:l,isNotJoined:f,migratedTo:h,folderId:m,unreadCount:p,unreadMentionsCount:g,hasUnreadMark:y,isForum:b}=t,v=(0,c._ls)(e,u),w=(0,c.pSx)(e,t.id),{unreadCount:I,unreadMentionsCount:C}=b?Object.values(w||{}).reduce((e,t)=>(e.unreadCount+=t.unreadCount,e.unreadMentionsCount+=t.unreadMentionsCount,e),{unreadCount:0,unreadMentionsCount:0}):{unreadCount:p,unreadMentionsCount:g},A="chatTypePrivate"===l&&r,S=(0,c.yHC)(e,t.id),k=t.id===i.zv8&&(!S||"historyClear"===S.content.action?.type),P=Math.max(t.creationDate||0,t.draftDate||0,S?.date||0),T=(0,c.yHC)(e,t.id,"saved"),M=T?.date||0;return{id:u,type:l,isListedInAll:Boolean(!(v||f||h||k||s)),isListedInSaved:!d,isArchived:m===i._E9,isMuted:(0,a.If)(t,n,o?.[t.id]),isUnread:Boolean(I||C||y),unreadCount:I,unreadMentionsCount:C,isUserBot:A?"userTypeBot"===A.type:void 0,isUserContact:A?A.isContact:void 0,orderInAll:P,orderInSaved:M}}(e,s,v,w,h[r],o,l);if(!t&&n&&(0,d.A)(f,n))return;g.chatSummariesById.set(r,f),u=function(e,t){return t.reduce((t,n)=>(function(e,t){if(!(t.id===i.pX9?e.isListedInSaved:e.isListedInAll))return!1;const{id:n,type:o}=e;if(t.listIds)return!(e.isArchived&&t.id===i.DSF||!e.isArchived&&t.id===i._E9)&&t.listIds.has(n);if(t.excludedChatIds?.has(n))return!1;if(t.includedChatIds?.has(n))return!0;if(t.pinnedChatIds?.has(n))return!0;if(t.excludeArchived&&e.isArchived)return!1;if(t.excludeRead&&!e.isUnread)return!1;if(t.excludeMuted&&e.isMuted&&!e.unreadMentionsCount)return!1;if("chatTypePrivate"===o)if(e.isUserBot){if(t.bots)return!0}else{if(t.contacts&&e.isUserContact)return!0;if(t.nonContacts&&!e.isUserContact)return!0}else{if("chatTypeChannel"===o)return Boolean(t.channels);if("chatTypeBasicGroup"===o||"chatTypeSuperGroup"===o)return Boolean(t.groups)}return!1}(e,n)&&t.push(n.id),t),[]).sort()}(f,I),u.forEach(e=>{C.add(e)})}else g.chatSummariesById.delete(r),u=[];const A=g.folderIdsByChatId[r]||[];if((0,l.k)(u,A))return;const S=function(e,t,n){const o=new Set(t),r=new Set(n),s=[];return(0,l.Am)([...t,...n]).forEach(t=>{let n=y.orderedIdsByFolderId[t];o.has(t)&&!r.has(t)?(g.chatIdsByFolderId[t].delete(e),s.push(t),n&&(n=n.filter(t=>t!==e),g.isOrderedListJustPatched[t]=!0)):!o.has(t)&&r.has(t)&&(g.chatIdsByFolderId[t]||(g.chatIdsByFolderId[t]=new Set),g.chatIdsByFolderId[t].add(e),n&&(n.push(e),g.isOrderedListJustPatched[t]=!0)),y.orderedIdsByFolderId[t]=n}),g.folderIdsByChatId[e]=n,s}(r,A,u);S.forEach(e=>{C.add(e)})}),p.chatsById=f,p.usersById=h,p.lastAllMessageIds=m,p.lastSavedMessageIds=b,p.notifyDefaults=v,p.notifyExceptions=w,Array.from(C)}(e,m||n||o||r,A,S,P,T,M)),U((0,l.Am)(k)),i.Oig){const e=performance.now()-t;e>h&&console.warn(`Slow \`updateFolderManager\`: ${Math.round(e)} ms`)}}function D(e,t,n){const o=e===i.DSF?p.allFolderListIds:e===i.pX9?p.savedFolderListIds:p.archivedFolderListIds,r=e===i.DSF?p.allFolderPinnedIds:e===i.pX9?p.savedFolderPinnedIds:p.archivedFolderPinnedIds;return o!==t||r!==n}function O(e,t,n,o,r){const s=[];if(t){const t=e.chats.listIds.active,n=e.chats.orderedPinnedIds.active;g.folderSummariesById[i.DSF]=R(i.DSF,t,n),p.allFolderListIds=t,p.allFolderPinnedIds=n,s.push(i.DSF)}if(n){const t=e.chats.listIds.archived,n=e.chats.orderedPinnedIds.archived;g.folderSummariesById[i._E9]=R(i._E9,t,n),p.archivedFolderListIds=t,p.archivedFolderPinnedIds=n,s.push(i._E9)}if(o){const t=e.chats.listIds.saved,n=e.chats.orderedPinnedIds.saved;g.folderSummariesById[i.pX9]=R(i.pX9,t,n),p.savedFolderListIds=t,p.savedFolderPinnedIds=n,s.push(i.pX9)}if(r){const t=e.chatFolders.byId;Object.values(t).forEach(e=>{e!==p.foldersById[e.id]&&(g.folderSummariesById[e.id]=function(e){return{...e,orderedPinnedIds:e.pinnedChatIds,excludedChatIds:e.excludedChatIds?new Set(e.excludedChatIds):void 0,includedChatIds:e.excludedChatIds?new Set(e.includedChatIds):void 0,pinnedChatIds:e.excludedChatIds?new Set(e.pinnedChatIds):void 0}}(e),s.push(e.id))}),p.foldersById=t}return s}function R(e,t,n){return{id:e,listIds:new Set(t),orderedPinnedIds:n,pinnedChatIds:new Set(n)}}function U(e){let t=!1,n=!1,o=!1;if(Array.from(e).forEach(e=>{const{pinnedCount:r,orderedIds:s}=function(e){const t=g.folderSummariesById[e];if(!t)return{};const{orderedPinnedIds:n,pinnedChatIds:o}=t,{chatIdsByFolderId:{[e]:r}}=g,{orderedIdsByFolderId:{[e]:s}}=y,a=e===i.pX9,c=r?n?.filter(e=>r.has(e)):n,d=s||r&&Array.from(r)||[],u=(o?d.filter(e=>!o.has(e)):d).sort((e,t)=>M(t,a)-M(e,a));return{pinnedCount:c?.length||0,orderedIds:[...c||[],...u]}}(e);if(!s)return;const a=y.orderedIdsByFolderId[e],c=y.pinnedCountByFolderId[e];(!a||void 0===c||c!==r||g.isOrderedListJustPatched[e]||!(0,l.k)(s,a))&&(g.isOrderedListJustPatched[e]=!1,y.orderedIdsByFolderId[e]=s,y.pinnedCountByFolderId[e]=r,b.orderedIdsByFolderId[e]?.runCallbacks(s));const u=y.chatsCountByFolderId[e],f=s.length;n||(n=u!==f),y.chatsCountByFolderId[e]=f;const h=y.unreadCountersByFolderId[e],m=function(e){const{chatSummariesById:t}=g,{orderedIdsByFolderId:{[e]:n}}=y;return n.reduce((e,n)=>{const o=t.get(n);return o?(o.isUnread&&(e.chatsCount++,o.unreadMentionsCount&&(e.notificationsCount+=o.unreadMentionsCount),o.isMuted||(o.unreadCount?e.notificationsCount+=o.unreadCount:o.unreadMentionsCount||(e.notificationsCount+=1))),e):e},{chatsCount:0,notificationsCount:0})}(e);t||(t=!h||!(0,d.A)(m,h)),y.unreadCountersByFolderId[e]=m;const p=y.unreadChatIdsByFolderId[e],v=function(e){const{chatSummariesById:t}=g,{orderedIdsByFolderId:{[e]:n}}=y;return n.filter(e=>{const n=t.get(e);return n?.isUnread})}(e);o||(o=!p||!(0,l.k)(v,p)),y.unreadChatIdsByFolderId[e]=v}),n){const e={...y.chatsCountByFolderId};y.chatsCountByFolderId=e,b.chatsCountByFolderId.runCallbacks(e)}if(t){const e={...y.unreadCountersByFolderId};y.unreadCountersByFolderId=e,b.unreadCountersByFolderId.runCallbacks(e)}o&&b.unreadChatIdsByFolderId.runCallbacks(y.unreadChatIdsByFolderId)}function _(){return{prevGlobal:{foldersById:{},chatsById:{},usersById:{},topicsInfoById:{}},prepared:{folderSummariesById:{},chatSummariesById:new Map,folderIdsByChatId:{},chatIdsByFolderId:{},isOrderedListJustPatched:{}},results:{orderedIdsByFolderId:{},pinnedCountByFolderId:{},chatsCountByFolderId:{},unreadCountersByFolderId:{},unreadChatIdsByFolderId:{}},callbacks:{orderedIdsByFolderId:{},chatsCountByFolderId:(0,u.h)(),unreadCountersByFolderId:(0,u.h)(),unreadChatIdsByFolderId:(0,u.h)()}}}function $(){const e=_();p=e.prevGlobal,g=e.prepared,y=e.results,b=e.callbacks}},50110:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(31481),r=n(2188);const s=!o.MVx;function i(e,t){if(!s)return e();const{rescue:n,always:o,shouldIgnoreError:i}=t??{};try{return e()}catch(e){return n?.(e),void(i||(0,r.H)(e))}finally{o?.()}}},50442:(e,t,n)=>{n.d(t,{h6:()=>c,no:()=>d,fG:()=>u,ez:()=>a,wJ:()=>v});var o=n(96454),r=n(43336),s=n(37836),i=n(43503);let a=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});const c=20,d=10,u=1.5,l=15,f=20,h=150,m=150;function p(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function g(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let y=0;const b=new class{constructor({stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:o=150}={}){this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=o,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),o=t.slice(this.stability,2*this.stability),r=n.reduce((e,t)=>e+t),s=o.reduce((e,t)=>e+t),i=r/n.length,a=s/o.length;return Math.abs(i)<=Math.abs(a*this.tolerance)&&this.sensitivity<Math.abs(a)}}({stability:5,sensitivity:25,tolerance:o.H8?1:.6,delay:150});function v(e,t){let n,d=!1,u=!1,v=!1,w=0,I=t.initialZoom??1,C={x:0,y:0},A={x:!1,y:!1};const S=i.A.get();let k,P={x:S.width/2,y:S.height/2};const T=t.minZoom??1,M=t.maxZoom??4;let E=!1;function N(r){const s=r.target,{excludedClosestSelector:a,includedClosestSelector:d,withNativeDrag:u,withCursor:l,onDrag:f}=t;if((e===s||e.contains(s))&&"INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName&&!(a&&(s.matches(a)||s.closest(a))||d&&!s.matches(d)&&!s.closest(d))){if(n=r,"mousedown"===r.type)!u&&f&&r.preventDefault(),document.addEventListener("mousemove",B),document.addEventListener("mouseup",L);else if("touchstart"===r.type){if(o.pz){const e=r.touches[0].pageX;E=e<=c||e>=i.A.get().width-c}s.addEventListener("touchmove",B,{passive:!0}),s.addEventListener("touchend",L,{passive:!0}),s.addEventListener("touchcancel",L,{passive:!0}),"touches"in r&&(void 0===r.pageX&&(r.pageX=r.touches[0].pageX),void 0===r.pageY&&(r.pageY=r.touches[0].pageY),2===r.touches.length&&(w=p(r.touches[0],r.touches[1]),P=g(r.touches[0],r.touches[1])))}l&&document.body.classList.add("cursor-grabbing"),t.onCapture?.(r)}}function L(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",L),document.removeEventListener("mousemove",B),n.target.removeEventListener("touchcancel",L),n.target.removeEventListener("touchend",L),n.target.removeEventListener("touchmove",B),o.pz&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow=""}),e&&(d?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-y<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),y=Date.now()))),d=!1,u=!1,v=!1,w=0,I=(0,r.qE)(I,T,M),k=void 0,C={x:0,y:0},A={x:!1,y:!1};const s=i.A.get();P={x:s.width/2,y:s.height/2},n=void 0,E=!1}function B(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&w>0&&2===e.touches.length)){const n=p(e.touches[0],e.touches[1]),o=g(e.touches[0],e.touches[1]),r=o.x-P.x,s=o.y-P.y,i=n/w;t.onZoom(e,{zoomFactor:i,initialCenterX:P.x,initialCenterY:P.y,dragOffsetX:r,dragOffsetY:s,currentCenterX:o.x,currentCenterY:o.y}),1!==i&&(d=!0)}const r=e.pageX-n.pageX,s=e.pageY-n.pageY;(Math.abs(r)>=l||Math.abs(s)>=l)&&(d=!0);let i=!1;t.onDrag&&(t.onDrag(e,n,{dragOffsetX:r,dragOffsetY:s}),i=!0),t.onSwipe&&!u&&(u=function(e,n,r){if(o.pz&&E)return!1;const s=Math.abs(n),i=Math.abs(r),c=t.swipeThreshold??f;let d;if(s>i&&s>=c?d="x":i>s&&i>=c&&(d="y"),!d)return!1;if(k){if(k!==d)return!1}else k=d;return function(e,t,n,o,r){const s={dragOffsetX:n,dragOffsetY:o};return"x"===t?r(e,n<0?a.Left:a.Right,s):"y"===t&&r(e,o<0?a.Up:a.Down,s)}(e,d,n,r,t.onSwipe)}(e,r,s),i=u),o.pz&&i&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow="hidden"})}}const F=(0,s.sg)(L,m,!1),x=(0,s.sg)(L,h,!1);function D(e){d||(N(e),d=!0,P={x:e.x,y:e.y})}function O(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:o=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return D(e),I=I>1?1:o,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(d=!1);const s=e.metaKey||e.ctrlKey||e.shiftKey;if(s&&function(e){if(!t.onZoom)return;D(e);const n=e.x-P.x,o=e.y-P.y,s=(0,r.qE)(e.deltaY,-25,25);I-=.01*s,I=(0,r.qE)(I,.5*T,3*M),v=!0,t.onZoom(e,{zoom:(0,r.LI)(I,2),initialCenterX:P.x,initialCenterY:P.y,dragOffsetX:n,dragOffsetY:o,currentCenterX:e.x,currentCenterY:e.y}),x(e)}(e),!s&&!v){const o=b.check(e);(1!==I||o)&&function(e){if(!t.onDrag)return;D(e),A.x&&Math.sign(C.x)!==Math.sign(e.deltaX)||(C.x-=e.deltaX),A.y&&Math.sign(C.y)!==Math.sign(e.deltaY)||(C.y-=e.deltaY);const{x:o,y:r}=C;t.onDrag(e,n,{dragOffsetX:o,dragOffsetY:r},(e,t)=>{A={x:e,y:t}}),F(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",O),e.addEventListener("mousedown",N),document.body.addEventListener("touchstart",N,{passive:!t.isNotPassive}),()=>{L(),document.body.removeEventListener("touchstart",N),e.removeEventListener("mousedown",N),e.removeEventListener("wheel",O)}}},50680:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(87357);const s=(e=!1,t,n=!1,s="fast",i=!1,a=350,c=!1)=>{const[d,u]=(0,o.J0)(!e),l=(0,o.li)(),[f,h]=(0,o.J0)(e&&n);if(e)u(!1),h(!0),l.current&&(window.clearTimeout(l.current),l.current=void 0);else if(h(!1),!d&&!l.current){const e=()=>{u(!0),t&&t(),l.current=void 0};i?e():l.current=window.setTimeout(e,a)}const m=f&&!(i&&!e)||c&&e,p=Boolean(l.current),g=e||p;return{shouldRender:g,transitionClassNames:(0,r.A)(s&&"opacity-transition",s,m&&"open",!m&&"not-open",g&&"shown",!g&&"not-shown",p&&"closing"),hasShownClass:g,hasOpenClass:m,isClosing:p}}},50805:(e,t,n)=>{n.d(t,{A:()=>o});const o={root:"W4ndaFuS",contentBox:"qIESjPFU",textContent:"cgQoy2xy",hasFullContent:"x0D811xX",inlineWrapper:"CrZTrncJ",singleLine:"j1bGIpWD",strong:"d5ep97lr",messageLink:"Soqky8rY",noEllipsis:"m6kJl7zG",contentWrapper:"iUC_065O",contextContainer:"Rz1leKMF",fluidMultiline:"oL3NoM4Y",fluidBackground:"faqkTF52",info:"Jcta1qBG",stickerWrapper:"F8w9vDlr",channelPhoto:"wnjg6GZj",suggestedAvatar:"ClHX4zX1",suggestedText:"jT6o01vL",actionButton:"LB5i9s3a",title:"Cp_BJqe5",subtitle:"VCJyqpS8",starGift:"lcncBNHa",uniqueGift:"jxcv_A2w",uniqueBackgroundWrapper:"lsTgPDw1",uniqueBackground:"uzTnIOE7",uniqueValue:"pae10ItJ",suggestedPostContainer:"eNm2vJJr",suggestedPostTitle:"mp_JlS2o",suggestedPostInfo:"S5yKhYOF",suggestedPostBalanceTooLowBox:"lYK4izyG",suggestedPostRejectedContentBox:"b_UHz9Pn",suggestedPostContentBox:"HiG8V3U2",hoverable:"Ohq5zfvI",suggestedPostBalanceTooLowTitle:"v8H6hMhz",suggestedPostApprovalTitle:"sx65zyR6",suggestedPostApprovalSection:"jmVfnkV0",suggestedPostRejectedComment:"hrUNI578",suggestedPostRejectedTitle:"xm2OfRXs",rejectedIcon:"PnwAfQgJ",botForumTopicIcon:"ij_pghAu",botForumTopicTitle:"erNpymQv",botForumTopicDescription:"YCG0hIsn",botForumTopicArrow:"vUUWoZOQ",narrowWrapper:"SEKk8NLB"}},52491:(e,t,n)=>{n.d(t,{D0:()=>m,On:()=>u,P_:()=>l,cp:()=>h,mS:()=>f});var o=n(61433),r=n(66644),s=n(16120),i=n(19314);const a=["female_sign","male_sign","medical_symbol"],c=127397;function d(e){const t=e.split("-").map(e=>parseInt(e,16));return String.fromCodePoint(...t)}const u=new Set;function l(e){const t=e.currentTarget;u.add(e.currentTarget.dataset.path),(0,r.RK)(()=>{(0,o.YM)(t,"open")})}const f=(0,i.A)(function(e){return function(e){let t;if(1===e.length)t=e.charCodeAt(0).toString(16).padStart(4,"0");else{const n=[];for(let t=0;t<e.length;t++)e.charCodeAt(t)>=55296&&e.charCodeAt(t)<=56319?e.charCodeAt(t+1)>=56320&&e.charCodeAt(t+1)<=57343&&n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536):(e.charCodeAt(t)<55296||e.charCodeAt(t)>57343)&&n.push(e.charCodeAt(t));t=n.map(e=>e.toString(16).padStart(4,"0")).join("-")}return t}((0,s.a)(e))});function h(e){const t={categories:[],emojis:{}};for(let n=0;n<e.length;n+=2){const o={id:e[n][0],name:e[n][1],emojis:[]};for(let r=0;r<e[n+1].length;r++){const s=e[n+1][r];a.includes(s[1][0])||(o.emojis.push(s[1][0]),t.emojis[s[1][0]]={id:s[1][0],names:s[1],native:d(s[0]),image:s[0].toLowerCase()})}t.categories.push(o)}return t}function m(e){if("FT"===e)return"ðŸ´â€â˜ ï¸";const t=e.toUpperCase();if(!/^[A-Z]{2}$/.test(t))return e;const n=[...t].map(e=>e.codePointAt(0)+c);return String.fromCodePoint(...n)}},52674:(e,t,n)=>{n.d(t,{A:()=>s,N:()=>a});const o={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},r={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function s(e){return i()||document.addEventListener("keydown",c,!0),Object.keys(e).forEach(t=>{const n=e[t];if(!n)return;const o=r[t];o&&o.push(n)}),()=>{!function(e){Object.keys(e).forEach(t=>{const n=e[t],o=r[t];if(o){const e=o.findIndex(e=>e===n);-1!==e&&o.splice(e,1)}}),i()||document.removeEventListener("keydown",c,!1)}(e)}}function i(){return Object.values(r).some(e=>Boolean(e.length))}function a(e){const t=o[e];return!!t&&Boolean(r[t].length)}function c(e){const t=o[e.key];if(!t)return;const{length:n}=r[t];if(n)for(let o=n-1;o>=0;o--)if(!1!==(0,r[t][o])(e)){e.stopPropagation();break}}},52745:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(87357),s=n(57474),i=n(20021);const a=(0,o.ph)(({color:e="blue",backgroundColor:t,className:n,onClick:o})=>(0,i.Y)("div",{className:(0,r.A)("Loading",o&&"interactive",n),onClick:o,children:(0,i.Y)(s.A,{color:e,backgroundColor:t})}))},53266:(e,t,n)=>{async function o(){const e=globalThis.scheduler;return e?.yield?e.yield():new Promise(e=>{setTimeout(e,0)})}n.d(t,{a:()=>o})},54464:(e,t,n)=>{n.d(t,{l:()=>s,u:()=>i});var o=n(31481),r=n(96454);function s(e,t=!1){r.pz||!document.activeElement||document.activeElement.id!==o.CfG||!t&&e.target!==e.currentTarget||e.preventDefault()}function i(e){s(e,!0)}},55148:(e,t,n)=>{n.d(t,{E:()=>d,_:()=>c});var o=n(13439),r=n(89925),s=n(31481),i=n(63495),a=n(46275);const c=(e,t)=>{const n=(0,o.ko)(),c=(0,a.vG)(e);if(c)switch(c.type){case"privateMessageLink":return n.openPrivateChannel({id:c.channelId,threadId:c.threadId,messageId:c.messageId,commentId:c.commentId,timestamp:c.timestamp,linkContext:t}),!0;case"publicMessageLink":return n.openChatByUsername({username:c.username,threadId:c.threadId,messageId:c.messageId,commentId:c.commentId,timestamp:c.timestamp,linkContext:t}),!0;case"publicUsernameOrBotLink":{const e=function(e){if(!e)return;return e.toLowerCase().split(" ").flatMap(e=>"groups"===e?["chats","groups"]:[e]).filter(e=>s.K_A.includes(e))}(c.choose);return n.openChatByUsername({username:c.username,startParam:c.start,ref:c.ref,text:c.text,startApp:c.startApp,mode:c.mode,startAttach:c.startAttach,attach:c.attach,choose:e,originalParts:[c.username,c.appName],isDirect:c.isDirect}),!0}case"privateChannelLink":return n.openPrivateChannel({id:c.channelId}),!0;case"businessChatLink":return n.resolveBusinessChatLink({slug:c.slug}),!0;case"premiumReferrerLink":return n.openPremiumModal(),!0;case"premiumMultigiftLink":return n.openGiftRecipientPicker(),!0;case"chatBoostLink":return n.processBoostParameters({usernameOrId:c.username||c.id,isPrivate:Boolean(c.id)}),!0;case"giftUniqueLink":return n.openUniqueGiftBySlug({slug:c.slug}),!0;case"giftAuctionLink":return n.openGiftAuctionBySlug({slug:c.slug}),!0;case"settings":if(!c.screen)return n.openLeftColumnContent({contentKey:r.Bn.Settings}),!0;switch(c.screen){case"editProfile":n.openSettingsScreen({screen:r.VS.EditProfile});break;case"language":n.openSettingsScreen({screen:r.VS.Language});break;case"devices":n.openSettingsScreen({screen:r.VS.ActiveSessions});break;case"privacy":n.openSettingsScreen({screen:r.VS.Privacy});break;case"folders":n.openSettingsScreen({screen:r.VS.Folders});break;case"theme":n.openSettingsScreen({screen:r.VS.General})}return!0;case"stars":n.openStarsBalanceModal({});break;case"ton":n.openStarsBalanceModal({currency:s.ykW})}if(!e.match(s.bnE))return!1;const u=i.fM?e.replace(/^tg:\/\//,"https://"):e,{protocol:l,searchParams:f,hostname:h}=new URL(u);if("tg:"!==l)return!1;const m=h,p=Object.fromEntries(f),{checkChatInvite:g,openChatByUsername:y,openChatByPhoneNumber:b,openStickerSet:v,joinVoiceChatByLink:w,openInvoice:I,openChatWithDraft:C,checkChatlistInvite:A,openStoryViewerByUsername:S,checkGiftCode:k,openStarsBalanceModal:P}=n;switch(m){case"resolve":{const{domain:e,phone:t,post:n,comment:o,voicechat:r,livestream:s,start:i,startattach:a,attach:c,thread:d,topic:u,appname:l,startapp:f,mode:h,story:m,text:g}=p,v=Number(d)||Number(u)||void 0;"telegrampassport"!==e&&(l?y({username:e,startApp:f,mode:h,originalParts:[e,l],text:g}):p.hasOwnProperty("voicechat")||p.hasOwnProperty("livestream")?w({username:e,inviteHash:r||s}):t?b({phoneNumber:t,startAttach:a,attach:c,text:g}):m?S({username:e,storyId:Number(m)}):y({username:e,messageId:n?Number(n):void 0,commentId:o?Number(o):void 0,startParam:i,mode:h,startAttach:a,attach:c,threadId:v}));break}case"bg":case"login":break;case"join":{const{invite:e}=p;g({hash:e});break}case"addemoji":case"addstickers":{const{set:e}=p;v({stickerSetInfo:{shortName:e}});break}case"share":case"msg":case"msg_url":{const{url:e,text:t}=p;C({text:d(e,t)});break}case"addlist":A({slug:p.slug});break;case"invoice":{const{slug:e}=p;I({type:"slug",slug:e});break}case"stars_topup":{const{balance:e,purpose:t}=p,n=Number(e);if(!n||n<0)return!0;P({topup:{balanceNeeded:n,purpose:t}});break}case"giftcode":{const{slug:e}=p;k({slug:e});break}default:return!1}return!0};function d(e,t,n){return{text:[e,n,t].filter(Boolean).join("\n")}}},55232:(e,t,n)=>{n.d(t,{X:()=>h,m:()=>g});var o=n(37932),r=n(31481),s=n(95175),i=n(33554),a=n(37836),c=n(20714),d=n(13439);let u,l=!1,f=c.$8;function h(e){u=new SharedWorker(new URL(n.p+n.u(5060),n.b),{name:r.C39}),u.port.addEventListener("message",p),u.port.start(),v({type:"reqGetFullState",localState:e}),(0,o.DW)(m)}function m(){const e=(0,d.mS)();e.sharedState!==f&&(e.sharedState.isInitial||function(e){if(!l)return;const t=(0,s.K)(f,e);f=e,"symbol"!=typeof t&&v({type:"reqUpdateState",update:t})}(e.sharedState))}function p(e){const t=e.data;switch(t.type){case"stateUpdate":w((0,i.$)(f,t.update));break;case"fullState":l=!0,w(t.state)}}function g(){u&&(u.port.removeEventListener("message",p),u.port.close(),u=void 0,(0,o.Cn)(m))}const y=new Set,b=(0,a.Fe)(()=>{if(!u)throw new Error("Shared worker not initialized");for(const e of y)u.port.postMessage(e);y.clear()});function v(e){if(!u)throw new Error("Shared worker not initialized");y.add(e),b()}function w(e){let t=(0,d.mS)();f={...t.sharedState,...e},t={...t,sharedState:f},(0,d.UF)(t)}},55475:(e,t,n)=>{n.d(t,{B5:()=>b,Bd:()=>w,EG:()=>l,ER:()=>p,G4:()=>m,Kt:()=>f,Os:()=>d,PG:()=>u,aF:()=>c,e7:()=>h,h9:()=>v,rt:()=>g,w0:()=>y}),n(31481);var o=n(14487),r=n(90709),s=n(21133),i=n(5056),a=n(19926);function c(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.inputInvoice}function d(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).starsPayment}function u(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.requestId}function l(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.form?.nativeParams.publishableKey}function f(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.form?.nativeParams.publicToken}function h(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.stripeCredentials}function m(e,...[t=(0,o.g0)()]){return(0,i.n)(e,t).payment.smartGlocalCredentials}function p(e,t){const n=(0,s.hd)(e,t);return e.currentUserId===t||n&&(0,r.WX)(n)&&(0,r.SJ)(n)&&(0,r.ub)(n,"postMessages")}function g(e,t){const n=(0,s.hd)(e,t),o=(0,a.mB)(e,t);return Boolean(o)||n&&(0,r.WX)(n)}function y(e,t,...[n=(0,o.g0)()]){return g(e,t)?(0,i.n)(e,n).savedGifts.filter:void 0}function b(e,t,...[n=(0,o.g0)()]){return(0,i.n)(e,n).savedGifts.activeCollectionByPeerId?.[t]||"all"}function v(e){const t=e.appConfig?.starsStargiftResaleCommissionPermille;return void 0!==t?t/1e3:void 0}function w(e){const t=e.appConfig?.tonStargiftResaleCommissionPermille;return void 0!==t?t/1e3:void 0}},55962:(e,t,n)=>{n.r(t),n.d(t,{Channel:()=>l,PluginListener:()=>f,Resource:()=>b,SERIALIZE_TO_IPC_FN:()=>d,addPluginListener:()=>h,checkPermissions:()=>m,convertFileSrc:()=>y,invoke:()=>g,isTauri:()=>v,requestPermissions:()=>p,transformCallback:()=>u});var o,r,s,i,a,c=n(46510);const d="__TAURI_TO_IPC_KEY__";function u(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}class l{constructor(e){o.set(this,void 0),r.set(this,0),s.set(this,[]),i.set(this,void 0),(0,c.G)(this,o,e||(()=>{}),"f"),this.id=u(e=>{const t=e.index;if("end"in e)return void(t==(0,c.g)(this,r,"f")?this.cleanupCallback():(0,c.G)(this,i,t,"f"));const n=e.message;if(t==(0,c.g)(this,r,"f")){for((0,c.g)(this,o,"f").call(this,n),(0,c.G)(this,r,(0,c.g)(this,r,"f")+1,"f");(0,c.g)(this,r,"f")in(0,c.g)(this,s,"f");){const e=(0,c.g)(this,s,"f")[(0,c.g)(this,r,"f")];(0,c.g)(this,o,"f").call(this,e),delete(0,c.g)(this,s,"f")[(0,c.g)(this,r,"f")],(0,c.G)(this,r,(0,c.g)(this,r,"f")+1,"f")}(0,c.g)(this,r,"f")===(0,c.g)(this,i,"f")&&this.cleanupCallback()}else(0,c.g)(this,s,"f")[t]=n})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){(0,c.G)(this,o,e,"f")}get onmessage(){return(0,c.g)(this,o,"f")}[(o=new WeakMap,r=new WeakMap,s=new WeakMap,i=new WeakMap,d)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[d]()}}class f{constructor(e,t,n){this.plugin=e,this.event=t,this.channelId=n}async unregister(){return g(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}}async function h(e,t,n){const o=new l(n);try{return g(`plugin:${e}|register_listener`,{event:t,handler:o}).then(()=>new f(e,t,o.id))}catch{return g(`plugin:${e}|registerListener`,{event:t,handler:o}).then(()=>new f(e,t,o.id))}}async function m(e){return g(`plugin:${e}|check_permissions`)}async function p(e){return g(`plugin:${e}|request_permissions`)}async function g(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}function y(e,t="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(e,t)}class b{get rid(){return(0,c.g)(this,a,"f")}constructor(e){a.set(this,void 0),(0,c.G)(this,a,e,"f")}async close(){return g("plugin:resources|close",{rid:this.rid})}}function v(){return!!(globalThis||window).isTauri}a=new WeakMap},55994:(e,t,n)=>{n.d(t,{P:()=>g,R:()=>y});var o=n(66644),r=n(96454),s=n(19822),i=n(50442),a=n(25903),c=n(43336);const d=300,u=s.qM.easeOutCubic;let l,f,h,m,p=!1;function g(e,t){return(0,i.wJ)(e,{excludedClosestSelector:t.excludedClosestSelector,selectorToPreventScroll:t.selectorToPreventScroll,swipeThreshold:10,onSwipe(e,n,o){if(n===i.ez.Left)t.onSwipeLeftStart?.();else{if(n!==i.ez.Right)return!1;t.onSwipeRightStart?.()}return r.pz&&(p=!0,l=o),!0},onDrag(e,t,n){p&&f?.(n)},onRelease(){p&&(p=!1,h?.(t.onCancel),f=void 0,h=void 0)}})}function y(e,t,n){if(m?.(),!p)return;const r=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=v(e.transform);if(t)return t}}(e);if(!r)return;let i;e.getAnimations().forEach(e=>e.pause()),t.getAnimations().forEach(e=>e.pause()),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,o.YS)(()=>{const p=(g=getComputedStyle(e).transform,y=r.axis,g.slice(7,-1).split(",").map(Number)["X"===y?4:5]);var g,y;const v=("px"===r.units?r.value:r.value/100*("X"===r.axis?e.offsetWidth:e.offsetHeight))-p;let w=0;f=({dragOffsetX:n,dragOffsetY:o})=>{const s="X"===r.axis?n-l.dragOffsetX:o-l.dragOffsetY,a=(0,c.qE)(s/v,0,1);i=a>w?1:-1,w=a,b([e,t],w)},h=r=>{const c=-1===i;function l(){e.getAnimations().forEach(e=>e.cancel()),t.getAnimations().forEach(e=>e.cancel()),(0,o.RK)(()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""})}c||(0,a.e)(e,l),m=(0,s.Hd)({from:w,to:c?0:1,duration:d,timing:u,onUpdate(n){b([e,t],n)},onEnd(e=!1){m=void 0,(e||c)&&(l(),n(),r())}})}})}function b(e,t){e.map(e=>e.getAnimations()).flat().forEach(e=>{e.currentTime=e.effect.getTiming().duration*t})}function v(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}},56362:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(13439),r=n(23174),s=n(91048),i=n(43874),a=n(20021);const c=(0,o.EK)((e,{userId:t})=>({userOrChat:t?(0,s.mBe)(e,t):void 0}))(({userId:e,username:t,userOrChat:n,children:s})=>{const{openChat:c,openChatByUsername:d,closeStoryViewer:u,setShouldCloseRightColumn:l}=(0,o.ko)(),{isMobile:f}=(0,i.Ay)();return(0,a.Y)("a",{onClick:()=>{f&&l({value:!0}),n?c({id:n.id}):t&&(u(),d({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?r.C7.MentionName:r.C7.Mention,children:s})})},56494:(e,t,n)=>{n.d(t,{B9:()=>d,Y9:()=>f,iS:()=>u,if:()=>l,ly:()=>h,me:()=>m,xd:()=>p});var o=n(31481),r=n(90709),s=n(21133),i=n(19408),a=n(30757),c=n(30163);function d(e,t){const{isSensitiveEnabled:n}=(0,a.eC)(e),r=(0,s.hd)(e,t.chatId);if(n)return!1;const c=(0,i.G6)(e,r?.restrictionReasons),d=(0,i.G6)(e,t.restrictionReasons);return c.some(e=>e.reason===o.L1q)||d.some(e=>e.reason===o.L1q)}function u(e,t){const n=(0,r.wb)(t),o=n&&(0,c.oe)(e,n),s=(0,r.Jw)(t),a=s&&(0,c.O8)(e,s),d=(0,i.Pn)(e,t);return a||o||(0,r.yl)(t)||(0,r.zX)(t)||(0,r.zC)(t)||(0,r.fP)(t)||(0,r.wp)(t)||(0,r.gB)(t)||(0,r.eY)(d)||(0,r.rU)(d)||(0,r.y3)(d)}function l(e,t){const n=function(e,t){const n=(0,i.Pn)(e,t),o=(0,r.yl)(t)||(0,r.zX)(t)||(0,r.zC)(t)||(0,r.fP)(t)||(0,r.eY)(n)||(0,r.rU)(n)||(0,r.NO)(t)?.extendedMedia;if(o)return o.thumbnail}(e,t);return n?.dataUri}function f(e,t){const{audio:n,voice:o,video:s}=(0,r.r_)(t),a=(0,i.Pn)(e,t),c=n||o||s||(0,r.rU)(a)||(0,r.y3)(a);if(c)return c.duration}function h(e,t){const n=(0,i.Pn)(e,t),o=(0,r.zX)(t)||(0,r.rU)(n);return(!o||o.isRound||o.isGif?void 0:o)||(0,r.wp)(t)||(0,r.gB)(t)}function m(e,t,n){const o=n?void 0:(0,i.gM)(e,t),r=h(e,t),s=o&&h(e,o);return r?.duration||s?.duration}function p(e,t,n){return e.messages.playbackByChatId[t]?.byId[n]}},56863:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=function(e,t,n){const[r,s]=(0,o.J0)(!1),[i,a]=(0,o.J0)(),[c,d]=(0,o.J0)(n);return(0,o.vJ)(()=>{s(!0);let t=!1;return e().then(e=>{t||(s(!1),d(e))},e=>{t||(s(!1),a(e))}),()=>{t=!0}},t),{isLoading:r,error:i,result:c}}},57076:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(84051),r=n(23174),s=n(90709),i=n(58849),a=n(18501),c=n(39351),d=n(17712),u=n(35297),l=n(14745),f=n(19129);const h=1e3/60,m=(0,o.ph)(({text:e,duration:t=1e3,children:n})=>{const[r,s]=(0,o.Ul)(e.text.length),i=(0,o.li)(),a=(0,d.A)(()=>{const n=t/e.text.length,o=Math.max(n,h),a=Math.min(Math.ceil(o/n),10);i.current=window.setTimeout(()=>{r()>=e.text.length?clearTimeout(i.current):s(r()+a)},o)});return(0,o.vJ)(()=>{if(e.text.length<r())return clearTimeout(i.current),void s(e.text.length);clearTimeout(i.current),a()},[r,s,e.text.length]),(0,o._W)(()=>{clearTimeout(i.current)}),n((0,f.A)(()=>({...e,text:e.text.slice(0,r())}),[r,e]))});var p=n(20021);const g=(0,o.ph)(function({messageOrStory:e,forcedText:t,isForAnimation:n,emojiSize:f,highlight:h,asPreview:g,truncateLength:y,isProtected:b,observeIntersectionForLoading:v,observeIntersectionForPlaying:w,withTranslucentThumbs:I,shouldRenderAsHtml:C,inChatList:A,forcePlayback:S,focusedQuote:k,focusedQuoteOffset:P,isInSelectMode:T,canBeEmpty:M,maxTimestamp:E,threadId:N,shouldAnimateTyping:L}){const B=(0,o.li)(),F=(0,o.li)(),x=(0,o.li)(0),D=(0,c.A)(),O=t||(0,s.Sb)(e,A),R=n&&O?(0,s.m4)(O):O,{text:U,entities:_}=R||{},$=(0,o.Kr)(()=>{if(!U||!k)return _;const e=U.indexOf(k,P),t=e>=0?e:U.indexOf(k),n=k.length;return t>=0?(0,a.kf)(_||[],{offset:t,length:n,type:r.C7.QuoteFocus}):_},[U,_,k,P]),j=(0,l.A)();(0,u.A)(()=>{x.current+=1},[U,$]);const V=(0,o.Kr)(()=>{const e=$?.some(e=>e.type===r.C7.Spoiler);return!e&&($?.filter(e=>e.type===r.C7.CustomEmoji).length||0)>=3},[$])||0,z=(0,d.A)(t=>(0,a.fd)({text:t.text,entities:t.entities,highlight:h,emojiSize:f,shouldRenderAsHtml:C,containerId:j,asPreview:g,isProtected:b,observeIntersectionForLoading:v,observeIntersectionForPlaying:w,withTranslucentThumbs:I,sharedCanvasRef:B,sharedCanvasHqRef:F,cacheBuster:x.current.toString(),forcePlayback:S,isInSelectMode:T,maxTimestamp:E,chatId:"chatId"in e?e.chatId:void 0,messageId:e.id,threadId:N}));if(!U&&!M)return(0,p.Y)("span",{className:"content-unsupported",children:D("MessageUnsupported")});const Y={text:(0,i.A)(U||"",y),entities:$};return(0,p.Y)(p.FK,{children:[V&&(0,p.Y)("canvas",{ref:B,className:"shared-canvas"},"shared-canvas"),V&&(0,p.Y)("canvas",{ref:F,className:"shared-canvas"},"shared-canvas-hq"),L?(0,p.Y)(m,{text:Y,children:z},"typing-wrapper"):z(Y)].flat().filter(Boolean)})})},57309:(e,t,n)=>{function o(e){const{chatId:t,id:n}=e;return`${t}_${n}`}function r(e){const[t,n]=e.split("_");return[t,Number(n)]}n.d(t,{D:()=>o,a:()=>r})},57474:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(87357),r=n(20021);const s=({color:e="blue",backgroundColor:t,className:n})=>(0,r.Y)("div",{className:(0,o.A)("Spinner",n,e,t&&"with-background",t&&`bg-${t}`),children:(0,r.Y)("div",{className:"Spinner__inner"})})},57675:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(84051),r=n(66644),s=n(91800),i=n(16581),a=n(17712),c=n(39751);const d=200;function u(e,t,n,u){const l=(0,o.li)(!0),f=(0,o.li)(),h=(0,o.li)(),[m,p]=(0,o.J0)(!u),[g,y]=(0,o.J0)(m);(0,o.Nf)(()=>{const t=(n||e).current,o=!n;u||!t||l.current||(0,r.RK)(()=>{t.style.maxHeight=g?`${f.current}px`:o?`${h.current}px`:""})},[n,g,u,e]);const b=(0,a.A)(()=>{if(u||!e.current)return;const n=e.current,{lineHeight:o,totalLines:r}=(0,s.A)(n);h.current=n.scrollHeight,r>t?(f.current=o*t,p(!0)):(p(!1),y(!1))}),v=(0,i.A)(()=>(0,r.YS)(b),[b],d);(0,o.Nf)(()=>{!u&&l.current&&(0,r.gm)(()=>(b(),()=>{l.current=!1;const t=(n||e).current;t&&(t.style.maxHeight=f.current?`${f.current}px`:`${h.current}px`)}))},[n,u,b,e]);const{width:w}=(0,c.A)();return(0,o.vJ)(()=>{if(u)p(!1),y(!1);else{if(l.current)return;v()}},[v,u,w]),{isCollapsed:g,isCollapsible:m,setIsCollapsed:y}}},57751:(e,t,n)=>{n.d(t,{$m:()=>l,AA:()=>i,CX:()=>c,id:()=>u,rE:()=>a,wr:()=>s});var o=n(31481),r=n(4350);function s(){if(l())return!0;const e=d(r.Xz);if(e)return Boolean(e.dcId);if(!r.Xz){const e=localStorage.getItem(o.HaM);if(e)try{const t=JSON.parse(e);return Boolean(t&&t.id&&t.dcID)}catch(e){return!1}}return!1}function i(e){const{mainDcId:t,keys:n,isTest:s}=e,i=d(r.Xz),a={...i,dcId:t,isTest:s};Object.keys(n).map(Number).forEach(e=>{a[`dc${e}_auth_key`]=n[e]}),r.Xz||function(e,t){const{mainDcId:n,keys:r,isTest:s}=e;localStorage.setItem(o.HaM,JSON.stringify({dcID:n,id:t,test:s})),localStorage.setItem("dc",String(n)),Object.keys(r).map(Number).forEach(e=>{localStorage.setItem(`dc${e}_auth_key`,JSON.stringify(r[e]))})}(e,i?.userId),(0,r.gD)(r.Xz,a)}function a(e){e||[o.HaM,"dc",...o.j3k.map(e=>`dc${e}_auth_key`),...o.j3k.map(e=>`dc${e}_hash`),...o.j3k.map(e=>`dc${e}_server_salt`)].forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem(`${o.um6}${e||1}`)}function c(){if(!s())return;const e=d(r.Xz);if(!e){if(r.Xz)return;return function(){if(!s())return;const e=JSON.parse(localStorage.getItem(o.HaM)||"null");if(!e)return;const t=Number(e.dcID),n=e.test,r={};return o.j3k.forEach(e=>{try{const t=localStorage.getItem(`dc${e}_auth_key`);t&&(r[e]=JSON.parse(t))}catch(e){o.Oig&&console.warn("Failed to load stored session",e)}}),Object.keys(r).length?{mainDcId:t,keys:r,isTest:n}:void 0}()}return{mainDcId:e.dcId,keys:o.j3k.reduce((t,n)=>{const o=e[`dc${n}_auth_key`];return o&&(t[n]=o),t},{}),isTest:e.isTest||void 0}}function d(e){try{const t=JSON.parse(localStorage.getItem(`${o.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function u(e){d(r.Xz)&&(0,r.Ph)(r.Xz,{userId:e})}function l(){return"true"===localStorage.getItem(o.ozB)}},58554:(e,t,n)=>{n.d(t,{ch:()=>A,hd:()=>I,Ih:()=>C,RB:()=>k,Cn:()=>S,GP:()=>T});var o=n(23174),r=n(31481),s=n(4875),i=n(96454),a=n(74824),c=n(87679),d=n(4350);const u=48e3,l=16;async function f(e){const t=await new Response(e).arrayBuffer();return new Promise(e=>{const o=new Uint8Array(t);let r=new Worker(new URL(n.p+n.u(4180),n.b)),s=new Worker(new URL(n.p+n.u(3731),n.b));r.onmessage=e=>{null===e.data?s.postMessage({command:"done"}):s.postMessage({command:"encode",buffers:e.data},e.data.map(({buffer:e})=>e))},s.onmessage=t=>{"page"===t.data.message&&(e(new Blob([t.data.page],{type:"audio/wav"})),r.terminate(),r=void 0,s.terminate(),s=void 0)},s.postMessage({command:"init",wavBitDepth:l,wavSampleRate:u}),r.postMessage({command:"init",decoderSampleRate:u,outputBufferSampleRate:u}),r.postMessage({command:"decode",pages:o},[o.buffer])})}const h={[o.qZ.BlobUrl]:a.Type.Blob,[o.qZ.Text]:a.Type.Text,[o.qZ.DownloadUrl]:void 0,[o.qZ.Progressive]:void 0},m="./progressive/",p="./download/",g=5,y=new Map,b=new Map,v=new Map,w=new Map;function I(e,t,n=!1,s,a){if(t===o.qZ.Progressive)return i.Uz?Promise.resolve(k(e)):I(e,o.qZ.BlobUrl,n,s,a);if(t===o.qZ.DownloadUrl)return i.Uz?Promise.resolve(function(e){const t=new URL(`${p}${e}`,window.location.href);return d.Xz&&t.searchParams.set("account",d.Xz.toString()),t.href}(e)):I(e,o.qZ.BlobUrl,n,s,a);if(!b.has(e)){const o=P(e,t,n).catch(e=>{r.Oig&&console.warn(e)}).finally(()=>{b.delete(e),v.delete(e),w.delete(e)});b.set(e,o)}if(s&&a){let t=v.get(e);t||(t=new Map,v.set(e,t)),t.set(a,s)}return b.get(e)}function C(e){return y.get(e)}function A(e){v.forEach((t,n)=>{t.forEach(t=>{if(t===e){const e=w.get(n);if(!e)return;return(0,s.om)(e),w.delete(n),void v.delete(n)}})})}function S(e,t){const n=v.get(e);n&&n.delete(t)}function k(e){const t=new URL(`${m}${e}`,window.location.href);return d.Xz&&t.searchParams.set("account",d.Xz.toString()),t.href}async function P(e,t,n,o=0){if(!r.xJs){const o=e.startsWith("avatar")?r.zrf:r.Iz7,s=await a.fetch(o,e,h[t],n);if(s){let t=s;"audio/ogg"!==s.type||i.Oo||(t=await f(t));const n=M(t);return y.set(e,n),n}}const d=function(e){const t=n=>{v.get(e)?.forEach(o=>{o(n),o.isCanceled&&(t.isCanceled=!0,y.delete(e))})};return t}(e);w.set(e,d);const u=await(0,s.px)("downloadMedia",{url:e,mediaFormat:t,isHtmlAllowed:n},d);if(!u){if(o>=g)throw new Error(`Failed to fetch media ${e}`);return await new Promise(e=>{setTimeout(e,E(o))}),r.Oig&&console.debug(`Retrying to fetch media ${e}`),P(e,t,n,o+1)}let{mimeType:l}=u,m=M(u.dataBlob);if("audio/ogg"===l&&!i.Oo){const e=await(0,c.sZ)(m);URL.revokeObjectURL(m);const t=await f(e);m=M(t),l=t.type}return y.set(e,m),m}async function T(e){if(y.delete(e),!r.xJs){const t=e.startsWith("avatar")?r.zrf:r.Iz7;await a.remove(t,e)}}function M(e){return e instanceof Blob?URL.createObjectURL(e):e}function E(e){return 250*2**e}i.Uz&&navigator.serviceWorker.addEventListener("message",async e=>{const{type:t,messageId:n,params:i}=e.data;if("requestPart"!==t)return;const a=await async function e(t=0){return await(0,s.px)("downloadMedia",{mediaFormat:o.qZ.Progressive,...i})||(t>=g?void(r.Oig&&console.warn(`Failed to download media part after ${g} retries:`,i.url)):(await new Promise(e=>{setTimeout(e,E(t))}),r.Oig&&console.debug(`Retrying to download media part ${i.url}, attempt ${t+1}`),e(t+1)))}();if(!a)return;const{arrayBuffer:c,mimeType:d,fullSize:u}=a;navigator.serviceWorker.controller.postMessage({type:"partResponse",messageId:n,result:{arrayBuffer:c,mimeType:d,fullSize:u}},[c])})},58734:(e,t,n)=>{n.d(t,{Rr:()=>h,Y5:()=>f,_p:()=>u,hB:()=>l});var o=n(13439),r=n(23174),s=n(31481),i=n(91048),a=n(87357),c=n(60261),d=n(76023);const u="img[data-document-id]";function l(e){const[t,n,o]=(0,c.Qy)(e);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${o?`data-unique-id="${o}"`:""}\n    data-entity-type="${r.C7.CustomEmoji}"\n    src="${n}"\n  />`}function f(e,t){const n=(0,i.O8F)((0,o.mS)(),t.documentId),[s,d,u]=(0,c.Qy)(n);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",s&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${u?`data-unique-id="${u}"`:""}\n    data-entity-type="${r.C7.CustomEmoji}"\n    src="${d}"\n  />`}function h(e){if(e)return e>s.Apc?2.25*d.$:1===e?7*d.$:Math.min(7.5-.75*e,5.625)*d.$}},58849:(e,t,n)=>{function o(e,t){return!e||!t||e.length<=t?e:`${e.substring(0,t)}...`}n.d(t,{A:()=>o})},59030:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(6e4),r=n(15283),s=n(30857);const i=()=>{const e=(0,s.A)();return(0,r.A)(()=>o.DW(e)),o.Yw()}},59607:(e,t,n)=>{n.d(t,{Ld:()=>A,mY:()=>I,yK:()=>S});var o=n(84051),r=n(37932),s=n(13439),i=n(91048),a=n(4875),c=n(95175),d=n(33554),u=n(14487),l=n(87894),f=n(4350);const h=800;let m,p,g=!1,y=!1;const b=new BroadcastChannel(f.rL);let v,w=!1;function I(){(0,u.VS)(e=>{if(e===(0,u.g0)()){b.removeEventListener("message",C),y=!0;const t=(0,s.mS)(),n={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},o=(0,c.K)(t,n);return void("symbol"!=typeof o&&b.postMessage({type:"globalDiffUpdate",diff:o}))}let t=(0,s.mS)();t={...t,byTabId:(0,l.cJ)(t.byTabId,[e])},(0,s.UF)(t)}),(0,r.DW)(e=>{if(g&&!y){if(p!==e){if(!p)return p=e,void b.postMessage({type:"globalUpdate",global:e});w||(w=!0,v=p,(0,o.qF)(()=>{const e=(0,c.K)(v,p);"symbol"!=typeof e&&b.postMessage({type:"globalDiffUpdate",diff:e}),w=!1})),p=e}}else p=e}),b.addEventListener("message",C)}function C({data:e}){if(e)switch(e.type){case"initApi":{const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{initialArgs:n}=e;(0,a.Ru)((0,s.ko)().apiUpdate,n);break}case"globalDiffUpdate":{if(!g)return;const{diff:t}=e,n=(0,s.mS)(),o=(0,d.$)(n,t);o.DEBUG_randomId=n.DEBUG_randomId,p=o,(0,s.UF)(o);break}case"globalUpdate":{if(g)return;const t=(0,s.mS)();e.global.DEBUG_randomId=t.DEBUG_randomId,p=e.global,(0,s.UF)(e.global),m&&(m(),m=void 0,g=!0);break}case"requestGlobal":{const{appVersion:t}=e;if("12.0.17"!==t)return void window.location.reload();if(!g)return;const n=(0,s.mS)();if(!(0,i.nTw)(n).isMasterTab)return;b.postMessage({type:"globalUpdate",global:n}),(0,u.ZQ)();break}case"messageCallback":{if(!g)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;(0,a.PH)(e);break}case"localDbUpdate":{if(!g)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;const{batchedUpdates:n}=e;n.forEach(({name:e,prop:t,value:n})=>{(0,a.fj)(e,t,n)});break}case"localDbUpdateFull":{if(!g)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;const{localDb:n}=e;(0,a.iB)(n);break}case"messageResponse":{if(!g)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;(0,a.Hn)(e);break}case"cancelApiProgress":{if(!g)return;const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{messageId:n}=e;(0,a.Ar)(n);break}case"callApi":{if(!g)return;const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{name:n,messageId:o,token:r,args:c,withCallback:d}=e,u=d?[...c,(...e)=>{b.postMessage({type:"messageCallback",token:r,messageId:o,callbackArgs:e})}]:c;(async()=>{const e=await(0,a.eZ)(n,...u);b.postMessage({type:"messageResponse",token:r,messageId:o,response:e})})();break}case"langpackRefresh":(0,s.ko)().refreshLangPackFromCache({langCode:e.langCode})}}function A(e){b.postMessage({type:"requestGlobal",appVersion:e});const t=()=>{m&&(m(),m=void 0),g=!0};return localStorage.getItem(f.pn)?(setTimeout(t,h),new Promise(e=>{m=e})):(t(),Promise.resolve())}function S(e){b.postMessage({type:"langpackRefresh",langCode:e})}},59852:(e,t,n)=>{function o(){const e=getComputedStyle(document.documentElement),t=s(e,"--color-background"),n=s(e,"--color-text-secondary"),o=t,r=s(e,"--color-text"),i=s(e,"--color-primary"),a=s(e,"--color-white"),c=s(e,"--color-links"),d=n,u=s(e,"--color-background-secondary"),l=s(e,"--color-divider");return{bg_color:o,text_color:r,hint_color:d,link_color:c,button_color:i,button_text_color:a,secondary_bg_color:u,header_bg_color:t,accent_text_color:s(e,"--color-primary"),section_bg_color:t,section_header_text_color:n,subtitle_text_color:d,destructive_text_color:s(e,"--color-error"),section_separator_color:l}}function r(e){return/^#[0-9A-F]{6}$/i.test(e)}function s(e,t){const n=e.getPropertyValue(t);if(n)return i(n.trim()).slice(0,7)}function i(e){return r(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN","")).join("")}`}n.d(t,{A:()=>o,To:()=>r,yY:()=>i})},6e4:(e,t,n)=>{n.d(t,{DW:()=>g,Yw:()=>S,bV:()=>P,wT:()=>k,yE:()=>A});var o=n(13439),r=n(31481),s=n(30708),i=n(4875),a=n(74824),c=n(46536),d=n(43044),u=n(14242);const l=/%\d?\$?[sdf@]/g,f=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],h={en:e=>1!==e?6:2,ar:e=>0===e?1:1===e?2:2===e?3:e%100>=3&&e%100<=10?4:e%100>=11?5:6,be:e=>{const t=String(e).split("."),n=Number(t[0])===e,o=n?Number(t[0].slice(-1)):0,r=n?Number(t[0].slice(-2)):0;return 1===o&&11!==r?2:o>=2&&o<=4&&(r<12||r>14)?4:n&&0===o||o>=5&&o<=9||r>=11&&r<=14?5:6},ca:e=>1!==e?6:2,cs:e=>{const t=String(e).split("."),n=Number(t[0]),o=!t[1];return 1===e&&o?2:n>=2&&n<=4&&o?4:o?6:5},de:e=>1!==e?6:2,es:e=>1!==e?6:2,fa:e=>e>1?6:2,fi:e=>1!==e?6:2,fr:e=>e>1?6:2,id:()=>0,it:e=>1!==e?6:2,hr:e=>{const t=String(e).split("."),n=t[0],o=t[1]||"",r=!t[1],s=Number(n.slice(-1)),i=Number(n.slice(-2)),a=Number(o.slice(-1)),c=Number(o.slice(-2));return r&&1===s&&11!==i||1===a&&11!==c?2:r&&s>=2&&s<=4&&(i<12||i>14)||a>=2&&a<=4&&(c<12||c>14)?4:6},hu:e=>e>1?6:2,ko:()=>0,ms:()=>0,nb:e=>e>1?6:2,nl:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"pt-br":e=>e>1?6:2,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,sk:e=>{const t=String(e).split("."),n=Number(t[0]),o=!t[1];return 1===e&&o?2:n>=2&&n<=4&&o?4:o?6:5},sr:e=>{const t=String(e).split("."),n=t[0],o=t[1]||"",r=!t[1],s=Number(n.slice(-1)),i=Number(n.slice(-2)),a=Number(o.slice(-1)),c=Number(o.slice(-2));return r&&1===s&&11!==i||1===a&&11!==c?2:r&&s>=2&&s<=4&&(i<12||i>14)||a>=2&&a<=4&&(c<12||c>14)?4:6},tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,uz:e=>e>1?6:2},m=new Map;let p;const{addCallback:g,removeCallback:y,runCallbacks:b}=(0,c.h)();let v,w;function I(){return(e,t,n,o)=>{if(void 0!==t){const r=Array.isArray(t)?JSON.stringify(t):t,s=m.get(`${e}_${r}_${n}${o?`_${o}`:""}`);if(s)return s}const r=p?.[e];return r?function(e,t,n,o,r){const s="number"==typeof n||void 0!==r?function(e){const t=v||"en",n=h[t]?h[t](e):0;return f[n]}(r??n):"value",i="string"==typeof e?e:"value"===s?"object"==typeof e?e.value:e:"object"==typeof e?e[s]||e.otherValue:void 0;if(!i?.trim()){const e=t.split(".");return e[e.length-1]}if(void 0!==n){const e=function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(l),o=n.shift();return n.reduce((e,n,o)=>`${e}${String(t[o]??"")}${n}`,o||"")}(i,"i"===o?(0,u.Sm)(n):n),s=Array.isArray(n)?JSON.stringify(n):n;return m.set(`${t}_${s}_${o}${r?`_${r}`:""}`,e),e}return i}(r,e,t,n,o):e}}let C=I();function A(...e){return C(...e)}function S(){return C}async function k(e,t){if((0,d.qY)(e,!0),p&&e===v)return void(t&&t());let n=await a.fetch(r.CV,e,a.Type.Json);if(!n&&(n=await async function(e){const t=await(0,i.px)("oldFetchLangPack",{sourceLangPacks:r.Ka6,langCode:e});if(t)return await a.save(r.CV,e,t.langPack),t.langPack}(e),!n))return;m.clear(),v=e,p=n,document.documentElement.lang=e;const c=(0,o.mS)(),{languages:u,timeFormat:l}=(0,s.lS)(c),f=u?.find(t=>t.langCode===e);C=I(),C.isRtl=Boolean(f?.isRtl),C.code=e.replace("-raw",""),C.langName=f?.nativeName,C.timeFormat=l,t&&t(),b()}function P(e){e&&e===w||(w=e,C.timeFormat=e,b())}},60261:(e,t,n)=>{n.d(t,{Il:()=>w,K3:()=>C,ZR:()=>k,Qy:()=>T,VU:()=>S,LQ:()=>I});var o=n(37932),r=n(13439),s=n(23174),i=n(66644),a=n(90709),c=n(91048),d=n(96454),u=n(46536),l=n(14235),f=n(58554),h=n(37836),m=n(61911);const p=n.p+"square.370a4828a4f2afc14ada.svg",g=new Set,y=new Map,b=(0,u.h)();let v;function w(e,t){y.set(e,t)}function I(e){y.delete(e)}(0,o.DW)(e=>{if(e.customEmojis.byId!==v?.customEmojis.byId||(0,c.BWX)(e)!==(0,c.BWX)(v)){for(const t of y){const[n,o]=t;(0,c.O8F)(e,o)&&n(e.customEmojis)}!function(e){const t=Array.from(g).filter(t=>Boolean(e.byId[t]));t.length&&(t.forEach(e=>g.delete(e)),S())}(e.customEmojis)}v=e});const C=b.addCallback,A=(0,h.nF)(b.runCallbacks,500),S=(0,h.nF)(function(){document.querySelectorAll(".custom-emoji.placeholder").forEach(e=>{const t=(0,c.O8F)((0,r.mS)(),e.dataset.documentId);if(!t)return void g.add(e.dataset.documentId);const[n,o,s]=T(t);t.shouldUseTextColor&&!e.classList.contains("colorable")&&(0,i.RK)(()=>{e.classList.add("colorable")}),n||(0,i.RK)(()=>{e.src=o,e.classList.remove("placeholder"),s&&(e.dataset.uniqueId=s),A(t.id)})})},500);function k(e,t){const n=(0,a.aL)(e,t),o=f.Ih(n);if(o)return o;P(n)}function P(e){return f.hd(e,s.qZ.BlobUrl).then(()=>{S()})}function T(e){if(!e)return[!0,p,void 0];const t=!d.OF&&e.isVideo;if(e.isLottie||e.isVideo&&!t)return P(`sticker${e.id}`),[!1,m,(0,l.A)()];const n=k(e.id,t);return[!n,n||p,void 0]}},60343:(e,t,n)=>{function o(e){const{chatId:t}=e;return s(t,"randomId"in e?Number(e.randomId):e.previousLocalId||e.id)}function r(e){if(a(e.id))return;const{chatId:t,id:n}=e;return s(t,n)}function s(e,t){return`msg${e}-${t}`}function i(e){const t=e.match(/^msg(-?\d+)-(\d+)/);return{chatId:t[1],messageId:Number(t[2])}}function a(e){return!Number.isInteger(e)}n.d(t,{AD:()=>r,ES:()=>i,bj:()=>o,iL:()=>a})},61157:(e,t,n)=>{n.d(t,{Ay:()=>d,GE:()=>c,g1:()=>u});var o=n(84051),r=n(22237),s=n(17712);const[i,a]=(0,r.n5)(!document.hasFocus()),c=i;function d(e,t,n=!1){const r=(0,s.A)(e),i=(0,s.A)(t);(0,o.vJ)(()=>{if(!n)return c()&&r(),c.subscribe(()=>{c()?r():i()})},[n,r,i])}function u(){return c()}window.addEventListener("blur",function(){a(!0)}),window.addEventListener("focus",function(){a(!1)})},61182:(e,t,n)=>{n.d(t,{F8:()=>d,bO:()=>i,fw:()=>a,pF:()=>c});const o=["log","error","warn","info","debug"],r=o.reduce((e,t)=>(e[t]=console[t],e),{});let s=[];function i(e,...t){s.push({level:e,args:t,date:new Date}),r[e](...t)}function a(){s=[],o.forEach(e=>{console[e]=(...t)=>{i(e,...t)}})}function c(){o.forEach(e=>{console[e]=r[e]}),s=[]}function d(){return JSON.stringify(s,(e,t)=>"bigint"==typeof t?t.toString():t)}},61433:(e,t,n)=>{n.d(t,{Ay:()=>$,HW:()=>D,Tv:()=>R,YM:()=>x,dH:()=>O});var o=n(31481),r=n(9935),s=n(84051);const i="http://www.w3.org/2000/svg",a=new Set(["key","ref","teactFastList","teactOrderKey"]),c=new Set(["dir","role","form"]),d=["INPUT","TEXTAREA","SELECT"],u={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},l="__indexKey#",f="__teactSelectionState",h=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap;function y(e,t,n,r,a,c,d={}){const{skipComponentUpdate:u,fragment:l}=d;let{nextSibling:f,namespace:h}=d;const m=t?.type===s.wr.Component,p=n?.type===s.wr.Component,g=n,y=!m&&t?.type===s.wr.Fragment,A=!p&&n?.type===s.wr.Fragment;if(n?.type===s.wr.Tag&&("svg"===n.tag&&(h=i),n.props.xmlns&&(h=n.props.xmlns)),n?.type===s.wr.Component&&(n.componentInstance.lastMountNamespace=h),!u&&m&&p&&!(0,s.rO)(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,(0,s.Cc)(e.componentInstance)}(t,n)),!u&&p&&n.componentInstance.mountState===s.pT.Mounted&&v(e,n,r,a,c),t===n)return n;if(o.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(p||A)p&&(a=(n=b(e,n,r,a,c)).componentInstance.context??a),w(e,n,a,{nextSibling:f,fragment:l,namespace:h});else if(l||f||g.type!==s.wr.Text||1!==r.children.length||e.firstChild){const t=I(g,a,h);g.target=t,S(l||e,t,f),g.type===s.wr.Tag&&M(g,t)}else e.textContent=g.value,g.target=e.firstChild;else if(t&&!n)C(e,t,a,void 0);else if(t&&n)if((0,s.rO)(t,n))if(f||(f=k(t)),p||A)p&&(a=(n=b(e,n,r,a,c)).componentInstance.context??a),C(e,t,a,void 0),w(e,n,a,{nextSibling:f,fragment:l,namespace:h});else{const n=I(g,a,h);g.target=n,C(e,t,a,n,f),g.type===s.wr.Tag&&M(g,n)}else if(m&&p||y&&A)P(t,n,a,e,f,d.forceMoveToEnd,h);else{const o=t,r=o.target;if(g.target=r,o.target=void 0,t.type===s.wr.Tag){const o=n;M(t,void 0),M(o,r),(f||d.forceMoveToEnd)&&S(e,r,f),function(e,t,n,o){E(n.tagName,t.props);const r=Object.entries(e.props),s=Object.entries(t.props);for(const[e,o]of r){const r=t.props[e];void 0!==o&&(void 0===r||o!==r&&e.startsWith("on"))&&L(n,e,o)}for(const[t,r]of s){const s=e.props[t];void 0!==r&&r!==s&&N(n,t,r,o)}}(t,o,r,h),P(t,o,a,r,void 0,void 0,h)}}return n}function b(e,t,n,o,r){const{componentInstance:i}=t;return t.componentInstance.context=o,i.mountState===s.pT.Unmounted&&v(e,t=(0,s.bF)(i),n,o,r),t}function v(e,t,n,o,r){const{componentInstance:s}=t;s.onUpdate=()=>{n.children[r]=y(e,n.children[r],s.$element,n,o,r,{skipComponentUpdate:!0,namespace:s.lastMountNamespace})}}function w(e,t,n,o){const{children:r}=t;if(t.type===s.wr.Fragment&&0===r.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void S(o.fragment||e,n.placeholderTarget,o.nextSibling)}for(let s=0,i=r.length;s<i;s++){const i=r[s],a=y(e,void 0,i,t,n,s,o);a!==i&&(r[s]=a)}}function I(e,t,n="http://www.w3.org/1999/xhtml"){if(e.type===s.wr.Empty)return document.createTextNode("");if(e.type===s.wr.Text)return document.createTextNode(e.value);const{tag:o,props:r,children:i}=e,a=document.createElementNS(n,o);E(o,r);for(const e in r)r.hasOwnProperty(e)&&void 0!==r[e]&&N(a,e,r[e],n);!function(e,t){d.includes(e.tagName)&&(t.defaultValue&&N(e,"value",t.defaultValue),t.defaultChecked&&N(e,"checked",t.defaultChecked))}(a,r);for(let o=0,r=i.length;o<r;o++){const r=i[o],s=y(a,void 0,r,e,t,o,{namespace:n});s!==r&&(i[o]=s)}return a}function C(e,t,n,o,r){const i=t.type===s.wr.Component,a=!i&&t.type===s.wr.Fragment;i||a?(i&&(0,s.s4)(t.componentInstance),function(e,t,n){for(const o of t.children)y(e,o,void 0,t,n,-1)}(e,t,n),o&&S(e,o,r)):(o?e.replaceChild(o,t.target):e.removeChild(t.target),A(t))}function A(e){if(e.type===s.wr.Component)(0,s.s4)(e.componentInstance);else if(e.type===s.wr.Fragment){const t=e;t.placeholderTarget&&0===t.children.length&&(t.placeholderTarget.parentNode?.removeChild(t.placeholderTarget),t.placeholderTarget=void 0)}else if(e.type===s.wr.Tag&&(m.delete(e.target),M(e,void 0),(0,r.iB)(e.target)),e.target=void 0,e.type!==s.wr.Tag)return;for(const t of e.children)A(t)}function S(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function k(e){if(e.type===s.wr.Component||e.type===s.wr.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return k(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function P(e,t,n,r,i,a=!1,c){if("props"in t&&t.props.teactFastList)return void function(e,t,n,r,i){const a=e.children,c=t.children,d=_(a),u=_(c),l=new Set(u);if(o.Oig)for(const e of c)if(e.type===s.wr.Fragment)throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");let f=0;const h={};for(let e=0,o=a.length;e<o;e++){const o=a[e],s=d[e];l.has(s)?h[s]={$element:o,index:f++,orderKey:"props"in o?o.props.teactOrderKey:void 0}:y(r,o,void 0,t,n,-1)}let m,p,g=0;for(let e=0,o=c.length;e<o;e++){const o=c[e],s=h[u[e]];if(!s){void 0===p&&(m=e,p=0),p++;continue}p&&(T(m,p,r,t,n,i),p=void 0,m=void 0);const a="props"in o?o.props.teactOrderKey:void 0,d=s.index!==g&&(!a||s.orderKey!==a),l=d&&g>s.index;d&&!l||g++;const f=r.childNodes[l?e+1:e],b={namespace:i};d&&(f?b.nextSibling=f:b.forceMoveToEnd=!0);const v=y(r,s.$element,o,t,n,e,b);v!==o&&(c[e]=v)}p&&T(m,p,r,t,n,i)}(e,t,n,r,c);if(e.type===s.wr.Fragment&&t.type===s.wr.Fragment){const n=e,o=t;if(0===n.children.length&&o.children.length>0&&n.placeholderTarget&&(i=n.placeholderTarget.nextSibling||void 0,n.placeholderTarget.parentNode?.removeChild(n.placeholderTarget),n.placeholderTarget=void 0),n.children.length>0&&0===o.children.length){const e=k(n.children[n.children.length-1]);o.placeholderTarget=document.createComment("empty-fragment"),S(r,o.placeholderTarget,e)}}const d=e.children,u=t.children,l=d.length,f=u.length,h=Math.max(l,f),m=f>l?document.createDocumentFragment():void 0,p=e.children[l-1],g=m&&(i||(p?k(p):void 0));for(let e=0;e<h;e++){const o=y(r,d[e],u[e],t,n,e,e>=l?{fragment:m,namespace:c}:{nextSibling:i,forceMoveToEnd:a,namespace:c});o&&o!==u[e]&&(u[e]=o)}m&&S(r,m,g)}function T(e,t,n,o,r,s){const i=n.childNodes[e];if(1===t){const t=o.children[e],a=y(n,void 0,t,o,r,e,{nextSibling:i,namespace:s});return void(a!==t&&(o.children[e]=a))}const a=document.createDocumentFragment();for(let i=e;i<e+t;i++){const e=o.children[i],t=y(n,void 0,e,o,r,i,{fragment:a,namespace:s});t!==e&&(o.children[i]=t)}S(n,a,i)}function M(e,t){const{ref:n}=e.props;"object"==typeof n?(n.current=t,n.onChange?.()):"function"==typeof n&&n(t)}function E(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,o=void 0!==t.checked;if(!n&&!o||!d.includes(e.toUpperCase()))return;const{value:r,checked:s,onInput:i,onChange:a,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(i?.(e),a?.(e),void 0!==r&&r!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,o=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=r,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const r={selectionStart:t,selectionEnd:n,isCaretAtEnd:o};e.currentTarget.dataset[f]=JSON.stringify(r)}}void 0!==s&&(e.currentTarget.checked=s)},t.onBlur=e=>{delete e.currentTarget.dataset[f],c?.(e)}}function N(e,t,n,o){if("className"===t)B(e,n,o);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[f];if(e){const{selectionStart:n,selectionEnd:o,isCaretAtEnd:r}=JSON.parse(e);if(r){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof o&&t.setSelectionRange(n,o)}}}else"style"===t?F(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?(0,r.q2)(e,t,n,t.endsWith("Capture")):t.startsWith("data-")||t.startsWith("aria-")||c.has(t)?e.setAttribute(t,n):a.has(t)||(o===i?e.setAttribute(t,n):e[u[t]||t]=n)}function L(e,t,n){"className"===t?B(e,""):"value"===t?e.value="":"style"===t?F(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?(0,r.f)(e,t,n,t.endsWith("Capture")):a.has(t)||e.removeAttribute(t)}function B(e,t,n){if(n===i)return void e.setAttribute("class",t);const o=e,r=m.get(e);if(!r)return void(o.className=t);const s=Array.from(r);t&&s.push(t),o.className=s.join(" ")}function F(e,t){e.style.cssText=t,p.get(e)&&U(e)}function x(e,t){e.classList.add(t);const n=m.get(e);n?n.add(t):m.set(e,new Set([t]))}function D(e,t){e.classList.remove(t);const n=m.get(e);n&&(n.delete(t),n.size||m.delete(e))}function O(e,t,n){!0===n?x(e,t):!1===n||m.get(e)?.has(t)?D(e,t):x(e,t)}function R(e,t){p.set(e,t),U(e)}function U(e){const t=Object.entries(p.get(e)).reduce((t,[n,o])=>(n.startsWith("--")?e.style.setProperty(n,o):t[n]=o,t),{});Object.assign(e.style,t)}function _(e){let t=g.get(e);if(t)return t;const n=new Set,r=new Set;if(t=e.map((e,t)=>{let i="props"in(a=e)?a.props.key:void 0;var a;return null==i?(o.Oig&&(0,s.jo)(e)&&console.warn("Missing `key` in `teactFastList`"),i=`${l}${t}`):n.has(i)?(o.Oig&&r.add(i),i=`${l}${t}`):n.add(i),i}),o.Oig&&r.size)throw console.warn("[Teact] Duplicated keys:",[...r],e),new Error("[Teact] Children keys are not unique");return g.set(e,t),t}const $={render:function(e,t){h.has(t)||h.set(t,{children:[]});const n=(0,s.ek)(),o=h.get(t),r=y(t,o.children[0],e,o,{},0);n?.(),o.children=r?[r]:[]}}},61911:(e,t,n)=>{e.exports=n.p+"blank.8dd283bceccca95a48d8.png"},62214:(e,t,n)=>{n.d(t,{A5:()=>R,CO:()=>_,IC:()=>O,Js:()=>S,L7:()=>k,PX:()=>j,Q_:()=>B,Qe:()=>I,Rl:()=>w,SJ:()=>T,Sq:()=>N,TJ:()=>D,VN:()=>b,Ve:()=>y,Vs:()=>p,WX:()=>g,YE:()=>h,Zg:()=>$,__:()=>L,_n:()=>V,cG:()=>z,cP:()=>P,e7:()=>A,gA:()=>U,gU:()=>F,i7:()=>K,kE:()=>v,l1:()=>E,nr:()=>G,sT:()=>Y,ub:()=>M,yS:()=>C,yn:()=>m,zc:()=>x});var o=n(23174),r=n(31481),s=n(17663),i=n(48899),a=n(80140),c=n(91048),d=n(13439),u=n(20179),l=n(79089);const f=Date.now()/1e3+31622400;function h(e){return m(e)||p(e)}function m(e){return"chatTypeBasicGroup"===e.type}function p(e){return"chatTypeSuperGroup"===e.type}function g(e){return"chatTypeChannel"===e.type}function y(e){return e.isMonoforum}function b(e){return"chatTypePrivate"===e.type||"chatTypeBasicGroup"===e.type}function v(e){return e===r.f51}function w(e){return e===r.b5_}function I(e){return e===r.Ckz}function C(e){switch(e.type){case"chatTypePrivate":return"ChatTypePrivate";case"chatTypeBasicGroup":case"chatTypeSuperGroup":return"ChatTypeGroup";case"chatTypeChannel":return"ChatTypeChannel";default:return"ChatTypeFallback"}}function A(e){if("chatTypePrivate"===e.type||"chatTypeSecret"===e.type)return e.id}function S(e,t,n=!1){return n?e("SavedMessages"):t.title||e("HiddenName")}function k(e){const t=(0,l.Kl)(e);return t?`${r.jsp}${t}`:void 0}function P(e,t="normal",n=e.avatarPhotoId){if(n)return"big"===t?`profile${e.id}?${n}`:`avatar${e.id}?${n}`}function T(e){return Boolean(e.adminRights||e.isCreator)}function M(e,t){return e.adminRights?.[t]||!1}function E(e,t){return t.id===r.HxB?e.isCreator:e.isCreator||M(e,"manageTopics")||t.isOwner}function N(e,t,n){const o=n?.boostsToUnrestrict&&(n.boostsApplied||0)>=n.boostsToUnrestrict;return Boolean(e.currentUserBannedRights?.[t]||e.defaultBannedRights?.[t]&&!o)}function L(e,t,n,o){if(t&&e.isForum){if(e.isNotJoined)return!1;if(t?.isClosed&&!t.isOwner&&!M(e,"manageTopics"))return!1}const r=(0,d.mS)();return!((0,c._ls)(r,e.id)||e.isForbidden||e.migratedTo||e.isNotJoined&&!y(e)&&!n||(0,u.DX)(e.id)||I(e.id))&&(!!e.isCreator||!!(0,i.L8)(e.id)||(g(e)?M(e,"postMessages"):T(e)||!N(e,"sendMessages",o)))}function B(e,t,n=!1,o=!1,r=!1,s,a=!1){if(!e||s&&a)return{canAttachMedia:!1,canAttachPolls:!1,canSendStickers:!1,canSendGifs:!1,canAttachEmbedLinks:!1,canSendPhotos:!1,canSendVideos:!1,canSendRoundVideos:!1,canSendAudios:!1,canSendVoices:!1,canSendPlainText:!1,canSendDocuments:!1,canAttachToDoLists:!1};const c=T(e);return{canAttachMedia:c||r||!N(e,"sendMedia",t),canAttachPolls:!r&&!e.isMonoforum&&(c||!N(e,"sendPolls",t))&&(!(0,i.L8)(e.id)||n||o),canAttachToDoLists:!r&&!e.isMonoforum&&!g(e),canSendStickers:c||r||!N(e,"sendStickers",t),canSendGifs:c||r||!N(e,"sendGifs",t),canAttachEmbedLinks:!r&&(c||!N(e,"embedLinks",t)),canSendPhotos:c||r||!N(e,"sendPhotos",t),canSendVideos:c||r||!N(e,"sendVideos",t),canSendRoundVideos:c||r||!N(e,"sendRoundvideos",t),canSendAudios:c||r||!N(e,"sendAudios",t),canSendVoices:c||r||!N(e,"sendVoices",t),canSendPlainText:c||r||!N(e,"sendPlain",t),canSendDocuments:c||r||!N(e,"sendDocs",t)}}function F(e,t,n){if(t?.sendMessages){const{untilDate:n}=t;return n&&n<f?e("Channel.Persmission.Denied.SendMessages.Until",e("formatDateAtTime",[(0,s.A)(new Date(1e3*n),e.code),(0,s.fU)(e,1e3*n)])):e("Channel.Persmission.Denied.SendMessages.Forever")}if(n?.sendMessages)return e("Channel.Persmission.Denied.SendMessages.DefaultRestrictedText")}function x(e,t,n=o.l3,s,i){if(!t?.isForum)return;if(n===o.l3){if(i||s&&!s[r.HxB]?.isClosed)return;return e("lng_forum_replies_only")}const a=s?.[Number(n)];return a?!a.isClosed||a.isOwner||M(t,"manageTopics")?void 0:e("TopicClosedByAdmin"):void 0}function D(e){return e.folderId===r._E9}function O(e){return m(e)||(p(e)||g(e))&&e.isCreator}function R(e,t,n){const{excludedChatIds:o,includedChatIds:r,bots:s,groups:i,contacts:a,nonContacts:c,channels:d}=t,u=[s,i,a,c,d];return void 0!==n&&(Object.values(u).filter(Boolean).length>1||o?.length||r?.length)?e("ChatsPlural",{count:n},{pluralValue:n}):s?e("FilterBots"):i?e("FilterGroups"):d?e("FilterChannels"):a?e("FilterContacts"):c?e("FilterNonContacts"):void 0}function U(e){return e.hasUsername}function _(e,t,n=!1){if(n)return e.sort((e,t)=>t.lastMessageId-e.lastMessageId);{const n=e.filter(e=>e.isPinned),o=e.filter(e=>!e.isPinned&&!e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId),r=e.filter(e=>!e.isPinned&&e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId);return[...t?t.map(e=>n.find(t=>t.id===e)).filter(Boolean):n,...o,...r]}}function $(e,t){if(!e)return 0;if("isCustomPeer"in e)return e.peerColorId;if(e.color){if("regular"===e.color.type&&void 0!==e.color.color)return e.color.color;if("collectible"===e.color.type&&!t)return}return(0,i.hy)(e.id)%7}function j(e){const t=$(e);if("collectible"===e.color?.type)return V(e.color);if(void 0===t)return 1;const n=(0,d.mS)();return n.peerColors?.general[t].colors?.length||1}function V(e){return e.colors.length}function z(e,t,n){return e===n&&t!==o.l3}function Y(e,t){const n=C(t),o=g(t),{membersCount:r}=t,s=(0,d.mS)();return(0,c._ls)(s,t.id)?e(o?"ChannelInaccessible":"GroupInaccessible"):r?e(o?"Subscribers":"NMembers",{count:r},{pluralValue:r}):e(n)}function G(e){const{title:t,color:n,isVerified:o,isFake:r,isScam:s}=e;return{isCustomPeer:!0,title:t,peerColorId:n,isVerified:o,fakeType:r?"fake":s?"scam":void 0}}function K(e,t){const{result:n}=t,o=n?.sendMessage?.replyMarkup?.inlineButtons;return{chatId:e,content:n.sendMessage.content,date:(0,a.Fm)(),id:0,isOutgoing:!0,viaBotId:e,inlineButtons:o}}},62587:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(84051),r=n(23174),s=n(91048),i=n(96454),a=n(58554),c=n(63527),d=n(30857);const u=(e,t=!1,n=r.qZ.BlobUrl,u)=>{const l=i.Uz&&n===r.qZ.Progressive,f=e?l?a.RB(e):a.Ih(e):void 0,h=(0,d.A)(),m=(0,c.A)(s.nIz);return(0,o.vJ)(()=>{if(!t&&e&&!f){const t=Date.now();a.hd(e,n).then(()=>{const e=Date.now()-t;!u||e>=u?h():setTimeout(h,u-e)})}},[t,e,f,n,u,m]),f}},63495:(e,t,n)=>{n.d(t,{Ld:()=>s,Vq:()=>a,cp:()=>c,fM:()=>i,vM:()=>r});var o=n(55962);const r="SharedWorker"in globalThis,s="ListFormat"in Intl,i="host"!==new URL("tg://host").host,a=(0,o.isTauri)(),c=Boolean(globalThis.electron)},63527:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(19129),r=n(98255);function s(e){const t=(0,r.A)(e);return(0,o.A)(t)}},64493:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),r=n(96454),s=n(87357),i=n(95807),a=n(17712),c=n(59030),d=n(18276),u=n(85118),l=n(42452),f=n(57474),h=n(20021);const m=({ref:e,type:t="button",id:n,children:m,size:p="default",color:g="primary",backgroundImage:y,className:b,round:v,pill:w,badge:I,fluid:C,inline:A,isText:S,isLoading:k,isShiny:P,withPremiumGradient:T,withSparkleEffect:M,noSparkleAnimation:E,ariaLabel:N,ariaControls:L,hasPopup:B,href:F,download:x,disabled:D,nonInteractive:O,allowDisabledClick:R,noFastClick:U="danger"===g,ripple:_,faded:$,tabIndex:j,isRtl:V,isRectangular:z,noPreventDefault:Y,shouldStopPropagation:G,noForcedUpperCase:K,style:W,iconName:H,iconAlignment:J="start",iconClassName:q,onClick:X,onContextMenu:Q,onMouseDown:Z,onMouseUp:ee,onMouseEnter:te,onMouseLeave:ne,onFocus:oe,onTransitionEnd:re})=>{let se=(0,o.li)();e&&(se=e);const ie=(0,c.A)(),[ae,ce]=(0,o.J0)(!1),de=D||O,ue=(0,s.A)("Button",b,p,g,v&&"round",w&&"pill",C&&"fluid",I&&"badge",de&&"disabled",O&&"non-interactive",R&&"click-allowed",S&&"text",k&&"loading",_&&"has-ripple",$&&"faded",ae&&"clicked",y&&"with-image",P&&"shiny",T&&"premium",z&&"rectangular",K&&"no-upper-case",A&&"inline",Boolean(H&&m)&&`content-with-icon-${J}`),le=(0,a.A)(e=>{!R&&de||!X||X(e),G&&e.stopPropagation(),ce(!0),setTimeout(()=>{ce(!1)},400)}),fe=(0,a.A)(e=>{Y||e.preventDefault(),!R&&de||!Z||Z(e),r.TF||e.button!==r.w3.Main||U||le(e)}),he=(0,h.FD)(h.FK,{children:[M&&(0,h.Y)(u.A,{preset:"button",noAnimation:E}),(()=>{if(k)return(0,h.FD)("div",{children:[(0,h.Y)("span",{dir:V?"auto":void 0,children:ie("Cache.ClearProgress")}),(0,h.Y)(f.A,{color:S?"blue":"white"})]});const e=(()=>{if(H)return(0,h.Y)(d.A,{name:H,className:q})})();return e?m?(0,h.FD)("div",{className:`with-icon-${J}`,children:[e,m]}):e:m})(),!de&&_&&(0,h.Y)(l.A,{})]});return F?(0,h.Y)("a",{ref:se,id:n,className:ue,href:F,title:N,download:x,tabIndex:j,dir:V?"rtl":void 0,"aria-label":N,"aria-controls":L,style:W,onTransitionEnd:re,target:"_blank",rel:"noreferrer",children:he}):(0,h.Y)("button",{ref:se,id:n,type:t,className:ue,onClick:r.TF||U?le:void 0,onContextMenu:Q,onMouseDown:fe,onMouseUp:ee,onMouseEnter:te&&!de?te:void 0,onMouseLeave:ne&&!de?ne:void 0,onTransitionEnd:re,onFocus:oe&&!de?oe:void 0,"aria-label":N,"aria-controls":L,"aria-haspopup":B,title:N,tabIndex:j,dir:V?"rtl":void 0,style:(0,i.A)(W,y&&`background-image: url(${y})`)||void 0,children:he})}},64520:(e,t,n)=>{n.d(t,{B:()=>i,d:()=>s});var o=n(13235),r=n(19926);function s(e,t){const{appConfig:n}=e,{limits:s}=n,i=(0,r.g2)(e),a=s[t]?.[i?1:0]??o.dR[t][i?1:0];return"dialogFilters"===t?a+1:a}function i(e,t){const{appConfig:n}=e;if(!n)return o.dR[t][1];const{limits:r}=n;return r[t][1]}},64713:(e,t,n)=>{n.d(t,{Ox:()=>c,gH:()=>s,n4:()=>a,oL:()=>i});const o="X",r="XXX XXX XXX XXX";function s(e,t){return e.find(e=>e.iso2===t)}function i(e,t=""){let n=t.replace(/[^\d+]+/g,"");n.startsWith("+")&&(n=n.substr(1));const o=e.filter(e=>n.startsWith(e.countryCode)).map(e=>(e.prefixes||[""]).map(t=>({code:`${e.countryCode}${t}`,country:e}))).flat().filter(({code:e})=>n.startsWith(e)).sort((e,t)=>e.code.length-t.code.length);return o[o.length-1]?.country}function a(e,t){if(!e)return"";let n=e.replace(/[^\d]+/g,"");if(t)n=n.substr(t.countryCode.length);else if(e.startsWith("+"))return e;const s=function(e,t){if(!t||0===t.length)return r;if(1===t.length)return t[0];const n=t.find(e=>e.startsWith(o))||r,s=t.filter(t=>{const n=t.replace(/[^\dX]+/g,"");if(n.startsWith(o))return!1;for(let t=0;t<e.length;t++)if(t>n.length-1||n[t]!==o&&n[t]!==e[t])return!1;return!0});return 1===s.length?s[0]:n}(n,t?.patterns),i=[];let a=0;for(let e=0;e<n.length;e++){for(;s[a]!==o&&a<s.length&&(i.push(s[a]),s[a]!==n[e]||(e++,e!==n.length));)a++;i.push(n[e]),a++}return i.join("")}function c(e,t){if(!t)return"";const n=t.startsWith("+")?t:`+${t}`,o=i(e,n);return o?`+${o.countryCode} ${a(n,o)}`:n}},65843:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),r=n(71533),s=n(17712),i=n(35297),a=n(73622),c=n(66644),d=n(84080),u=n(34780),l=n(61157);function f(){return(0,o.OV)()||(0,u.c_)()||(0,l.g1)()}var h=n(20021);const m=(0,o.ph)(function({ref:e,isPriority:t,canPlay:n,children:m,onReady:p,onBroken:g,onTimeUpdate:y,...b}){const v=(0,o.li)();e||(e=v);const{handlePlaying:w}=function(e,t,n){const r=(0,o.li)();r.current=t;const{play:i,pause:a}=function(e){const t=(0,o.li)(!1),n=(0,o.li)(!1);return{play:(0,s.A)(()=>{t.current=!1,e.current&&!n.current&&document.body.contains(e.current)&&(n.current=!0,e.current.play().then(()=>{n.current=!1,t.current&&(e.current?.pause(),t.current=!1)}).catch(e=>{console.warn(e)}))}),pause:(0,s.A)(()=>{n.current?t.current=!0:e.current?.pause()})}}(e),h=(0,s.A)(()=>{!r.current||!n&&f()||i()}),m=(0,s.A)(()=>{(0,c.YS)(h)});(0,l.Ay)(a,m,!t||n),(0,d.Ay)(a,h,!t||n),(0,u.Ay)(a,h,!t||n);const p=(0,s.A)(()=>{(!r.current||!n&&f())&&a()});return(0,o.vJ)(()=>{t?!n&&f()||i():a()},[t,i,a,n]),{handlePlaying:p}}(e,n,t),I=(0,o.li)(!1),C=(0,s.A)(()=>{I.current||(p?.(),I.current=!0)}),{isBuffered:A,bufferingHandlers:S}=(0,r.A)(!0,y,g),{onPlaying:k,...P}=S;(0,i.A)(([e])=>{void 0!==e&&C()},[A,C]);const T=(0,s.A)(e=>{w(),k(e),C(),b.onPlaying?.(e)}),M=(0,o.Kr)(()=>{const e={};return Object.keys(P).forEach(t=>{const n=t;e[n]=e=>{b[n]?.(e),P[n]?.(e)}}),e},[P,b]);return(0,a.A)(e,M),(0,h.Y)("video",{ref:e,autoPlay:!0,...b,...M,onPlaying:T,children:m})})},66230:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(84051),r=n(35297);const s=(e,t)=>{const n=(0,o.li)();return(0,r.A)(()=>{const o=n.current;return n.current=t,e(o||[])},t)}},66414:(e,t,n)=>{n.d(t,{az:()=>l,cA:()=>g,dk:()=>h,f4:()=>m,fY:()=>p,lD:()=>d,vO:()=>u,xV:()=>f});var o=n(23174),r=n(31481);let s,i,a=!1,c=window.location.hash;function d(){a=!1,i=void 0,s=void 0,c=""}function u(){window.location.hash=""}const l=(e,t,n)=>{const r="thread"===t?void 0:t;return(n===o.l3?[e,r]:[e,n,r]).filter(Boolean).join("_")};function f(e){if(m(),!i)return;const t=i.split("_");let n,r,s;if(1===t.length)n=t[0];else if(2===t.length){const e=["thread","pinned","scheduled"].includes(t[1]);n=t[0],r=e?t[1]:"thread",s=e?void 0:t[1]}else t.length>=3&&([n,s,r]=t);if(!n?.match(/^-?\d+$/))return;const a=["thread","pinned","scheduled"].includes(r);return{chatId:n,type:r&&a?r:"thread",threadId:(n===e?s:Number(s))||o.l3}}const h=(e,t,n)=>{const o=new URL(window.location.href);return o.hash=l(e,t,n),o.href};function m(){if(s)return s;if(a)return;const e=g();if(!e)return;let t=e.replace(/^#/,"");return t.includes("?")?([i,t]=t.split("?"),r.fng||(window.location.hash=i)):t.includes("=")&&(r.fng||(window.location.hash="")),s=t.includes("=")?t.split("&").reduce((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e},{}):void 0,a=!0,s||(i=t),s}function p(){s&&delete s.tgWebAuthToken}function g(){return c}},66644:(e,t,n)=>{n.d(t,{RK:()=>f,Uj:()=>s.Uj,Uz:()=>h,YS:()=>l,Z3:()=>s.Z3,gm:()=>m});var o=n(50110),r=n(37836),s=n(75357);let i=[],a=[],c=[];const d=(u=()=>{const e=i;i=[],e.forEach(e=>{(0,o.A)(e)}),Promise.resolve().then(()=>{(0,s.A)("mutate");const e=a;a=[],e.forEach(e=>{(0,o.A)(e)})}).then(()=>{(0,s.A)("measure");const e=[];for(const t of c)(0,o.A)(()=>{const n=t();n&&e.push(n)});return c=[],e}).then(e=>{(0,s.A)("mutate");for(const t of e)(0,o.A)(t)}).then(()=>{(0,s.A)("measure")})},(0,r.nb)(e=>{(0,r.IJ)(e,!0)},u));var u;function l(e){i.push(e),d()}function f(e){a.push(e),d()}function h(e){l(()=>{f(e)})}function m(e){c.push(e),d()}},68292:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),r=n(13439),s=n(91048),i=n(87357),a=n(37836),c=n(30857),d=n(39351),u=n(73767);var l=n(20021);let f=0;const h=(0,a.Fe)(()=>{f=0}),m=(0,o.ph)(({text:e,className:t,isDisabled:n,ref:a})=>{const{isRtl:m}=(0,d.A)(),p=(0,u.A)(e),g=(0,c.A)(),y=!(!(!n&&(0,s.PKK)((0,r.mS)())&&void 0!==p&&p!==e)||f>=10||(0===f&&h(),f++,0)),b=(0,o.Kr)(()=>y?function(e,t){const n=[],o=e.length,r=t?.length??0;for(let s=0;s<=o;s++){const i=o-s,a=r-s;t&&a>=0&&e[i]!==t[a]?n.unshift((0,l.FD)("div",{className:"IYTzbS8o",children:[(0,l.Y)("div",{className:"Jw1oQFdk",children:e[i]??""}),(0,l.Y)("div",{className:"TZfEz3sc",children:t[a]}),(0,l.Y)("div",{className:"Y9ied8_t",children:e[i]??""})]})):n.unshift((0,l.Y)("span",{children:e[i]??""}))}return n}(e,p):e,[y,p,e]);return(0,o.vJ)(()=>{if(!y)return;const e=window.setTimeout(()=>{g()},200);return()=>{window.clearTimeout(e)}},[y,e]),(0,l.Y)("span",{ref:a,className:(0,i.A)(t,!n&&"tgKbsVmz"),dir:m?"rtl":void 0,children:b})})},68323:(e,t,n)=>{n.d(t,{Y:()=>h,x:()=>f});var o=n(84051),r=n(13439),s=n(31481),i=n(66644),a=n(30708),c=n(96454),d=n(9705);const u=1e3;let l=!1;function f(){return l}function h(){const e=(0,o.li)(),[t,n]=(0,o.J0)("idle");return(0,o.vJ)(()=>{if("capturing-old"!==t)return;const{domUpdateCallback:r,types:s}=e.current||{},a=(0,o.VK)(),c=document.startViewTransition(async()=>{n("capturing-new"),r&&await r();const e=new d.A;return(0,i.Uz)(()=>{e.resolve()}),e.promise});s?.getTypes().forEach(e=>{c.types?.add(e)}),c.finished.then(()=>{a(),n("idle"),(0,i.RK)(()=>{m(s)}),l=!1});let f=!1;c.ready.then(()=>{f=!0,n("animating")}).catch(e=>{console.error("View transition error",e,s?.getTypes()),n("skipped"),(0,i.RK)(()=>{m(s)}),l=!1}),setTimeout(()=>{f||c.skipTransition()},u)},[t]),{transitionState:t,startViewTransition:function(t,o,d=s.zHL){const u=(0,r.mS)(),{animationLevel:f}=(0,a.lS)(u);if(!c.ir||f<d)o?.();else{if(l)return console.warn("VT skipped because another transition is already active",t.getTypes()),void o?.();e.current={domUpdateCallback:o,types:t},n("capturing-old"),(0,i.RK)(()=>{document.documentElement.classList.add(s.I0K),t.getTypes().forEach(e=>{document.documentElement.classList.add(`${s.G6O}${e}`)})}),l=!0}}}}function m(e){e?.getTypes().forEach(e=>{document.documentElement.classList.remove(`${s.G6O}${e}`)}),document.documentElement.classList.remove(s.I0K)}},68344:(e,t,n)=>{n.d(t,{$R:()=>u,PK:()=>C,Qb:()=>v,Tu:()=>g,Vm:()=>h,_5:()=>m,cs:()=>I,jU:()=>y,lw:()=>S,ol:()=>b,tX:()=>A,zd:()=>l});var o=n(14487),r=n(87894),s=n(90709),i=n(91048),a=n(94137),c=n(32989);function d(e,t,n,...[s=(0,o.g0)()]){const a=(0,i.nTw)(e,s).middleSearch.byChatThreadKey;if(!n)return(0,c.w)(e,{middleSearch:{byChatThreadKey:(0,r.cJ)(a,[t])}},s);const{type:d="chat",...u}=n;return(0,c.w)(e,{middleSearch:{byChatThreadKey:{...(0,i.nTw)(e,s).middleSearch.byChatThreadKey,[t]:{type:d,...u}}}},s)}function u(e,t,n,r,...[a=(0,o.g0)()]){const c=(0,s.Wi)(t,n),u=(0,i.nTw)(e,a).middleSearch.byChatThreadKey[c],l={type:"chat",...u,...r};return l.isHashtag||(l.type="chat"),!u||u.type===l.type&&u.savedTag===l.savedTag&&u.fromPeerId===l.fromPeerId||(l.results=void 0),d(e,c,l,a)}function l(e,t,n,...[r=(0,o.g0)()]){return d(e,(0,s.Wi)(t,n),{type:"chat"},r)}function f(e,t,n,r,...[s=(0,o.g0)()]){return u(e,t,n,{results:r,fetchingQuery:void 0},s)}function h(e,t,n,a,...[c=(0,o.g0)()]){const d=(0,s.Wi)(t,n),{results:u}=(0,i.nTw)(e,c).middleSearch.byChatThreadKey[d]||{},l=u?.query||"";if(a.query!==l)return f(e,t,n,a,c);const h=u?.foundIds||[],{query:m,foundIds:p,totalCount:g,nextOffsetId:y,nextOffsetPeerId:b,nextOffsetRate:v}=a,w=(0,r.Am)(Array.prototype.concat(h,p));return f(e,t,n,{query:m,foundIds:(0,r.k)(h,w)?h:w,totalCount:g,nextOffsetId:y,nextOffsetRate:v,nextOffsetPeerId:b},c)}function m(e,t,n,...[r=(0,o.g0)()]){return d(e,(0,s.Wi)(t,n),void 0,r)}function p(e,t,n,r,...[a=(0,o.g0)()]){const d=(0,s.Wi)(t,n);return(0,c.w)(e,{sharedMediaSearch:{byChatThreadKey:{...(0,i.nTw)(e,a).sharedMediaSearch.byChatThreadKey,[d]:r}}},a)}function g(e,t,n,r,...[a=(0,o.g0)()]){const c=(0,s.Wi)(t,n);return p(e,t,n,{...(0,i.nTw)(e,a).sharedMediaSearch.byChatThreadKey[c],currentType:r},a)}function y(e,t,n,a,c,d,u,...[l=(0,o.g0)()]){const f=(0,s.Wi)(t,n),{resultsByType:h}=(0,i.nTw)(e,l).sharedMediaSearch.byChatThreadKey[f]||{},m=h?.[a]?h[a].foundIds:[],g=(0,r.Am)(Array.prototype.concat(m,c)).sort((e,t)=>t-e);return function(e,t,n,r,a,c,d,...[u=(0,o.g0)()]){const l=(0,s.Wi)(t,n);return p(e,t,n,{...(0,i.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l],resultsByType:{...((0,i.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l]||{}).resultsByType,[r]:{foundIds:a,totalCount:c,nextOffsetId:d}}},u)}(e,t,n,a,(0,r.k)(m,g)?m:g,d,u,l)}function b(e,t,n){if(!n)return{foundIds:e,loadingState:t};const o=(0,r.Am)(Array.prototype.concat(n.foundIds,e)).sort((e,t)=>e-t);(0,r.k)(n.foundIds,e)||(n.foundIds=o);const s={areAllItemsLoadedForwards:t.areAllItemsLoadedForwards||n.loadingState.areAllItemsLoadedForwards,areAllItemsLoadedBackwards:t.areAllItemsLoadedBackwards||n.loadingState.areAllItemsLoadedBackwards};return n.loadingState=s,n}function v(e,t,n,a,c,...[d=(0,o.g0)()]){const u=function(e,t){return t.reduce((t,n)=>((0,r.h8)(n.foundIds,e.foundIds)?e=b(e.foundIds,e.loadingState,n):t.push(n),t),[])}(a,c.segments);return function(e,t,n,r,a,...[c=(0,o.g0)()]){const d=(0,s.Wi)(t,n);return k(e,t,n,{...(0,i.nTw)(e,c).chatMediaSearch.byChatThreadKey[d],currentSegment:r,segments:a},c)}(e,t,n,a,u,d)}function w(e,t){const n=t.foundIds.filter(t=>t!==e);return{...t,foundIds:n}}function I(e,t,n,r,...[s=(0,o.g0)()]){const i=(0,a.f5)(e,t,n,s);if(!i)return e;const c=function(e,t){const n=w(e,t.currentSegment),o=t.segments.map(t=>w(e,t));return{...t,currentSegment:n,segments:o}}(r,i);return k(e,t,n,c,s)}function C(e,t,n,r,...[i=(0,o.g0)()]){if(!(0,s.iZ)(t))return e;const c=(0,a.f5)(e,n,r,i);return c?(function(e){e.currentSegment.loadingState.areAllItemsLoadedForwards=!1,e.segments.forEach(e=>{e.loadingState.areAllItemsLoadedForwards=!1})}(c),k(e,n,r,c,i)):e}function A(e,t,n,...[r=(0,o.g0)()]){return k(e,t,n,{currentSegment:{foundIds:[],loadingState:{areAllItemsLoadedForwards:!1,areAllItemsLoadedBackwards:!1}},segments:[],isLoading:!1},r)}function S(e,t,n,r,...[a=(0,o.g0)()]){const c=(0,s.Wi)(t,n),d=(0,i.nTw)(e,a).chatMediaSearch.byChatThreadKey[c];return d?k(e,t,n,{...d,isLoading:r},a):e}function k(e,t,n,r,...[a=(0,o.g0)()]){const d=(0,s.Wi)(t,n);return(0,c.w)(e,{chatMediaSearch:{byChatThreadKey:{...(0,i.nTw)(e,a).chatMediaSearch.byChatThreadKey,[d]:r}}},a)}},70636:(e,t,n)=>{n.d(t,{F9:()=>p,PU:()=>h,Q5:()=>y,cy:()=>m,em:()=>g,mO:()=>f,vj:()=>l});var o=n(31481),r=n(48899),s=n(43044),i=n(529),a=n(91048),c=n(13439),d=n(62214),u=n(79089);function l(e){return"title"in e}function f(e){return!l(e)}function h({ids:e,query:t,type:n="peer"}){if(!t)return e;const o=(0,c.mS)(),r=(0,s.Yw)(),u=(0,i.l)(t),f="chat"===n?a.hds:"user"===n?a.mBe:a.PVB;return e.filter(e=>{const t=f(o,e);if(!t)return!1;const n=l(t)?(0,d.Js)(r,t):e===o.currentUserId?r("SavedMessages"):void 0,s=n?u(n):void 0,i=g(r,t);return s||i&&u(i)||Boolean(t.usernames?.find(({username:e})=>u(e)))})}function m(e){return l(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===o.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}function p(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.u0)(t):(0,d.Js)(e,t)}function g(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.Yg)(t):(0,d.Js)(e,t)}function y(e,t,n){if(!(0,r.L8)(t)){if(l(n)){if(t===n.id)return;return n.title}return n.isSelf?e("FromYou"):p(e,n)}}},70758:(e,t,n)=>{function o(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function r(e,t){let n;return(r,s)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=o(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>s(e.transaction(t,r).objectStore(t)))}let s;function i(){return s||(s=r("keyval-store","keyval")),s}function a(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},o(e.transaction)}n.d(t,{q:()=>d,B:()=>u});class c{constructor(e){this.store=r(e,"store")}set(e,t){return function(e,t,n=i()){return n("readwrite",n=>(n.put(t,e),o(n.transaction)))}(e,t,this.store)}setMany(e){return function(e,t=i()){return t("readwrite",t=>(e.forEach(e=>t.put(e[1],e[0])),o(t.transaction)))}(e,this.store)}get(e){return function(e,t=i()){return t("readonly",t=>o(t.get(e)))}(e,this.store)}getMany(e){return function(e,t=i()){return t("readonly",t=>Promise.all(e.map(e=>o(t.get(e)))))}(e,this.store)}clear(){return function(e=i()){return e("readwrite",e=>(e.clear(),o(e.transaction)))}(this.store)}del(e){return function(e,t=i()){return t("readwrite",t=>(t.delete(e),o(t.transaction)))}(e,this.store)}delMany(e){return function(e,t=i()){return t("readwrite",t=>(e.forEach(e=>t.delete(e)),o(t.transaction)))}(e,this.store)}entries(){return function(e=i()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([o(t.getAllKeys()),o(t.getAll())]).then(([e,t])=>e.map((e,n)=>[e,t[n]]));const n=[];return e("readonly",e=>a(e,e=>n.push([e.key,e.value])).then(()=>n))})}(this.store)}keys(){return function(e=i()){return e("readonly",e=>{if(e.getAllKeys)return o(e.getAllKeys());const t=[];return a(e,e=>t.push(e.key)).then(()=>t)})}(this.store)}values(){return function(e=i()){return e("readonly",e=>{if(e.getAll)return o(e.getAll());const t=[];return a(e,e=>t.push(e.value)).then(()=>t)})}(this.store)}update(e,t){return function(e,t,n=i()){return n("readwrite",n=>new Promise((r,s)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(o(n.transaction))}catch(e){s(e)}}}))}(e,t,this.store)}}const d=new c("tt-data"),u=new c("tt-passcode")},70874:(e,t,n)=>{n.d(t,{W:()=>a,j:()=>i});var o=n(23174),r=n(21309);const s=/\b(?:(\d{1,2}):)?([0-5]?\d):([0-5]\d)\b/g;function i(e){const t={...e,text:e.text,entities:e.entities?.filter(e=>e.type!==o.C7.Timestamp)||[]},n=t.text;for(const e of n.matchAll(s)){const n=e[0],s=e[1],i=e[2],a=e[3],c=e.index??0,d=n.length,u=parseInt(i,10),l=parseInt(a,10);if(u>59||l>59)continue;let f;if(void 0!==s){const e=parseInt(s,10);f=(0,r.Sy)(e,u,l)}else f=(0,r.Sy)(0,u,l);let h=!1;for(const e of t.entities)if(c<e.offset+e.length&&c+d>e.offset){h=!0;break}if(h)continue;const m={type:o.C7.Timestamp,offset:c,length:d,timestamp:f};let p=!1;for(let e=0;e<t.entities.length;e++)if(c<t.entities[e].offset){t.entities.splice(e,0,m),p=!0;break}p||t.entities.push(m)}return t}function a(e){if(!(e=e.trim()).startsWith("-")&&Number.isInteger(Number(e)))return parseInt(e,10);if(e.includes(":")){const t=e.split(":");if(2===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10);if(Number.isNaN(e)||Number.isNaN(n)||e<0||n<0||n>=60)return;return 60*e+n}if(3===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10);if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(o)||e<0||n<0||o<0||n>=60||o>=60)return;return 3600*e+60*n+o}return}const t=e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/i);if(!t)return;const n=t[1]?parseInt(t[1],10):0,o=t[2]?parseInt(t[2],10):0,r=t[3]?parseInt(t[3],10):0;return Number.isNaN(n)||Number.isNaN(o)||Number.isNaN(r)||o>=60||r>=60?void 0:3600*n+60*o+r}},70934:(e,t,n)=>{n.d(t,{H:()=>w,IG:()=>f,Mv:()=>d,UQ:()=>p,WN:()=>y,dl:()=>u,m:()=>g,tn:()=>l,ug:()=>m,yp:()=>h});var o=n(31481),r=n(70758),s=n(74824);const i=12,a="harder better faster stronger";let c;class d extends Error{}function u(){return c}function l(e){c=e}async function f(e){c=await b(e)}async function h(e,t){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");await Promise.all([(async()=>{if(!e)return;const t=await C(e,c);await v("sessionEncrypted",t)})(),(async()=>{if(!t)return;const e=await C(t,c);await v("globalEncrypted",e)})()])}async function m(){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");const[e,t]=await Promise.all([I("sessionEncrypted"),I("globalEncrypted")]);if(!e||!t)throw console.error("[api/passcode] Missing required stored fields"),new Error("[api/passcode] Missing required stored fields");try{const[n,o]=await Promise.all([A(e,c),A(t,c)]);return{sessionJson:n,globalJson:o}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}async function p(e){const t=await b(e),[n,o]=await Promise.all([I("sessionEncrypted"),I("globalEncrypted")]);if(!n||!o)throw console.error("[api/passcode] Missing required stored fields"),new d("[api/passcode] Missing required stored fields");try{const[e,r]=await Promise.all([A(n,t),A(o,t)]);return c=t,{sessionJson:e,globalJson:r}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}function g(){c=void 0}function y(){return g(),r.B.clear(),s.clear(o.oBq)}function b(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(`${e}${a}`))}function v(e,t){const n=Array.from(new Uint8Array(t));return r.B.set(e,n)}function w(){return r.B.get("sessionEncrypted")}async function I(e){const t=await r.B.get(e);return t?new Uint8Array(t).buffer:s.fetch(o.oBq,e,s.Type.ArrayBuffer)}async function C(e,t){const n=crypto.getRandomValues(new Uint8Array(i)),o={name:"AES-GCM",iv:n},r=await crypto.subtle.importKey("raw",t,o,!1,["encrypt"]),s=(new TextEncoder).encode(e),a=await crypto.subtle.encrypt(o,r,s),c=new Uint8Array(a),d=new Uint8Array(i+c.length);return d.set(n,0),d.set(c,i),d.buffer}async function A(e,t){const n=new Uint8Array(e),o={name:"AES-GCM",iv:n.slice(0,i)},r=await crypto.subtle.importKey("raw",t,o,!1,["decrypt"]),s=n.slice(i),a=await crypto.subtle.decrypt(o,r,s);return(new TextDecoder).decode(a)}},71322:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(66644);const r=JSON.parse('{"--color-primary":["#3390EC","#8774E1"],"--color-primary-opacity":["#50A2E91E","#8378DB1E"],"--color-primary-opacity-hover":["#50A2E940","#8378DB40"],"--color-primary-tint":["#3390ec1a","#8774e11a"],"--color-primary-shade":["#4a95d6","#7b71c6"],"--color-background":["#FFFFFF","#212121"],"--color-background-compact-menu":["#FFFFFFBB","#212121DD"],"--color-web-app-browser":["#FFFFFFBB","#0303038F"],"--color-background-compact-menu-reactions":["#FFFFFFEB","#212121DD"],"--color-background-compact-menu-hover":["#00000011","#00000066"],"--color-background-secondary":["#F4F4F5","#0F0F0F"],"--color-background-secondary-accent":["#E4E4E5","#191919"],"--color-background-sidebar":["#E4E4E5","#0F0F0F"],"--color-background-own":["#EEFFDE","#766AC8"],"--color-background-own-apple":["#DCF8C5","#766AC8"],"--color-background-selected":["#F4F4F5","#2C2C2C"],"--color-background-own-selected":["#d0ffac","#6549d4"],"--color-chat-hover":["#F4F4F5","#2C2C2C"],"--color-chat-active":["#3390EC","#766AC8"],"--color-chat-active-greyed":["#60a7f0","#9288d3"],"--color-item-hover":["#F4F4F5","#2C2C2C"],"--color-item-active":["#EDEDED","#292929"],"--color-text":["#000000","#FFFFFF"],"--color-text-secondary":["#707579","#AAAAAA"],"--color-icon-secondary":["#707579","#AAAAAA"],"--color-text-secondary-apple":["#8E8E92","#AAAAAA"],"--color-borders":["#DADCE0","#303030"],"--color-borders-input":["#DADCE0","#5B5B5A"],"--color-dividers":["#C8C6CC","#3B3B3D"],"--color-dividers-android":["#E7E7E7","#0F0F0F"],"--color-links":["#3390EC","#8774E1"],"--color-gray":["#C4C9CC","#717579"],"--color-list-icon":["#ABAFB1","#A2A2A2"],"--color-default-shadow":["#72727240","#1010109c"],"--color-light-shadow":["#7272722B","#00000040"],"--color-green":["#00C73E","#8774E1"],"--color-green-darker":["#00a734","#7b71c6"],"--color-success":["#00C73E","#00C73E"],"--color-text-meta-colored":["#4DCD5E","#8378DB"],"--color-reply-hover":["#F4F4F4","#272727"],"--color-reply-active":["#E8E9E9","#2E2F2F"],"--color-reply-own-hover":["#D9F5CE","#8775DA"],"--color-reply-own-hover-apple":["#cbefb7","#8775DA"],"--color-reply-own-active":["#C5ECBE","#917DEA"],"--color-reply-own-active-apple":["#bae6a8","#917DEA"],"--color-accent-own":["#45AF54","#FFFFFF"],"--color-message-meta-own":["#4FAE4EFF","#FFFFFF88"],"--color-own-links":["#3390EC","#FFFFFF"],"--color-code":["#4a729a","#8774E1"],"--color-code-own":["#3c7940","#FFFFFF"],"--color-code-bg":["#70757914","#00000080"],"--color-code-own-bg":["#70757914","#00000050"],"--color-composer-button":["#707579CC","#AAAAAACC"],"--color-message-reaction":["#ebf3fd","#2b2a35"],"--color-message-reaction-hover":["#c5def9","#343147"],"--color-message-reaction-own":["#c6eab2","#675CAF"],"--color-message-reaction-hover-own":["#b5e0a4","#5B529B"],"--color-message-reaction-chosen-hover":["#1a82ea","#7864dd"],"--color-message-reaction-chosen-hover-own":["#3f9d4b","#f5f5f5"],"--color-message-non-contact":["#cceebf","#AAAAAA"],"--color-voice-transcribe-button":["#e8f3ff","#2a2a3c"],"--color-voice-transcribe-button-own":["#cceebf","#8373d3"],"--color-topic-blue":["#2F7772","#6ff9f0"],"--color-topic-yellow":["#7F693B","#ffd67e"],"--color-topic-violet":["#8B5A96","#cb86db"],"--color-topic-green":["#44774A","#8eee98"],"--color-topic-rose":["#9B576B","#ff93b2"],"--color-topic-red":["#EB6858","#fb6f5f"],"--color-topic-grey":["#6C6C6C","#999999"],"--color-forum-unread-topic-hover":["#e9e9e9","#363636"],"--color-forum-hover-unread-topic-hover":["#e2e2e2","#3f3f3f"],"--color-chat-username":["#3C7EB0","#E9EEF4"],"--color-borders-read-story":["#C4C9CC","#737373"],"--color-background-menu-separator":["#0000001a","#ffffff1a"],"--color-hover-overlay":["#00000006","#ffffff06"],"--color-toast-background":["#202020CC","#000000CC"]}');var s=n(19822),i=n(48894);let a=!1;const c=new Set(["--color-text","--color-primary-shade","--color-text-secondary","--color-accent-own"]),d=Object.keys(r).map(e=>({property:e,colors:[(0,i.hF)(r[e][0]),(0,i.hF)(r[e][1])]}));function u(e,t,n=1){d.forEach(({property:o,colors:r})=>{const{r:s,g:a,b:d,a:u}=(0,i.R5)(r[e],r[t],n),l=void 0!==u?Math.round(u/255*1e3)/1e3:void 0;document.documentElement.style.setProperty(o,`rgb(${s},${a},${d}${l?`,${l}`:""})`),c.has(o)&&document.documentElement.style.setProperty(`${o}-rgb`,`${s},${a},${d}`)})}const l=(e,t)=>{const n=`theme-${e}`;if(document.documentElement.classList.contains(n))return;const r="dark"===e,i=a&&t,c=r?0:1,d=r?1:0,l=Date.now(),f=document.querySelector('meta[name="theme-color"]');(0,o.RK)(()=>{let e;document.documentElement.classList.remove("theme-"+(r?"light":"dark")),a&&(e=(()=>{const e=document.createElement("style");return e.textContent="\n.no-animations #root *,\n.no-animations #root *::before,\n.no-animations #root *::after {\n  transition: none !important;\n}",document.head.appendChild(e),()=>{document.head.removeChild(e)}})(),document.documentElement.classList.add("no-animations")),document.documentElement.classList.add(n),f&&f.setAttribute("content",r?"#212121":"#fff"),setTimeout(()=>{(0,o.RK)(()=>{e?.(),document.documentElement.classList.remove("no-animations")})},500),a=!0,i?(0,s.i0)(()=>{const e=Math.min((Date.now()-l)/200,1);return u(c,d,function(e){return 1-(1-e)**3.5}(e)),e<1},o.RK):u(c,d)})}},71429:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(84051),r=n(96454),s=n(87357),i=n(11778),a=n(54464),c=n(43874),d=n(82117),u=n(26072),l=n(10328),f=n(17712),h=n(61433),m=n(66644),p=n(41257);const g={width:0,left:0,height:0,top:0};function y(e,t,{positionX:n="left",positionY:o="top",transformOriginX:r,transformOriginY:s,style:i,bubbleStyle:a}){const c=e.current,d=t.current;i&&(c.style.cssText=i),a&&(d.style.cssText=a),n&&((0,h.HW)(d,"left"===n?"right":"left"),(0,h.YM)(d,n)),o&&((0,h.HW)(d,"top"===o?"bottom":"top"),(0,h.YM)(d,o)),(0,h.Tv)(d,{transformOrigin:[r?`${r}px`:n,s?`${s}px`:o].join(" ")})}var b=n(34201),v=n(22802),w=n(3325),I=n(20021);const C=(0,o.ph)(({ref:e,shouldCloseFast:t,isOpen:n,id:h,className:C,bubbleClassName:A,ariaLabelledBy:S,children:k,autoClose:P=!1,footer:T,noCloseOnBackdrop:M=!1,backdropExcludedSelector:E,noCompact:N,onCloseAnimationEnd:L,onClose:B,onMouseEnter:F,onMouseLeave:x,withPortal:D,onMouseEnterBackdrop:O,nested:R,...U})=>{const{isTouchScreen:_}=(0,c.Ay)(),$=(0,o.li)(),{ref:j}=(0,b.A)({isOpen:n,ref:e,onCloseAnimationEnd:L});(function(e,t,n,r){const s=(0,p.i)(r);(0,o.Nf)(()=>{if(!e)return;const o=s.current;"getTriggerElement"in o?(0,m.gm)(()=>{const e=function(e,t,{anchor:n,getRootElement:o,getMenuElement:r,getTriggerElement:s,getLayout:i,withMaxHeight:a}){const c=s();let{x:d,y:u}=n;const l=d,f=u,h=n.width||0,m=n.height||0,p=r(),y=o(),{extraPaddingX:b=0,extraTopPadding:v=0,topShiftY:w=0,menuElMinWidth:I=0,deltaX:C=0,shouldAvoidNegativePosition:A=!1,withPortal:S=!1,isDense:k=!1}=i?.()||{},P=p?parseInt(getComputedStyle(p).marginTop,10):void 0,{offsetWidth:T,offsetHeight:M}=p||{offsetWidth:0,offsetHeight:0},E=p?{width:Math.max(T,I),height:M+P}:g,N=y?y.getBoundingClientRect():g;let L,B;k||d+E.width+b<N.width+N.left?(d+=3,L="left"):d-h-E.width-N.left>0?(L="right",d=d-h-3):(L="left",d=16),d+=C;const F=u+w;k||F+E.height<N.height+N.top?(B="top",u=F):(B="bottom",u+=m,u-E.height<N.top+v&&(u=N.top+N.height));const x=c.getBoundingClientRect(),D=S?x.top:0,O=S?x.left:0,R=Math.min(d-x.left,N.width-E.width-16);let U=("left"===L?S||A?Math.max(16,R):R:d-x.left)+O,_=u-x.top+D;k&&(U=Math.min(U,N.width-E.width-16),_=Math.min(_,N.height-E.height-16));const $=I?Math.max(0,(I-T)/2):0;U-$<0&&A&&(U=$+16);const j=l+O-x.left-U,V=f+D-x.top-_-(P||0),z="left"===L?j:E.width+j,Y="bottom"===B?E.height+V:V,G=`left: ${U}px; top: ${_}px`;let K;return a&&(K=`max-height: ${N.height-12-(P||0)}px;`),{positionX:L,positionY:B,transformOriginX:z,transformOriginY:Y,style:G,bubbleStyle:K}}(0,0,o);return()=>{y(t,n,e)}}):y(t,n,o)},[e,t,n,s])})(n,$,j,U),(0,o.vJ)(()=>n?(0,i.A)(B):void 0,[n,B]),(0,u.A)({isActive:n,onBack:B,shouldBeReplaced:!0}),(0,d.A)(([e])=>{(n||!n&&!0===e)&&(0,o.VK)(200)},[n]);const V=(0,l.A)(j,n,P?B:void 0,void 0,!0),z=E?`${E}, .submenu`:".submenu";(0,v.A)(n,$,M?void 0:B,void 0,z);const Y=(0,s.A)("bubble menu-container custom-scroll",T&&"with-footer",A,t&&"close-fast"),G=(0,f.A)(e=>{e.stopPropagation(),P&&B()}),K=(0,I.FD)("div",{ref:$,id:h,className:(0,s.A)("Menu",!N&&!_&&"compact",!r.Fy&&"no-blur",D&&"in-portal",C),"aria-labelledby":S,role:S?"menu":void 0,onKeyDown:n?V:void 0,onMouseEnter:F,onMouseLeave:n?x:void 0,children:[n&&!R&&(0,I.Y)("div",{className:"backdrop",onMouseDown:a.u,onMouseEnter:O}),(0,I.FD)("div",{role:"presentation",ref:j,className:Y,onClick:G,children:[k,T&&(0,I.Y)("div",{className:"footer",children:T})]})]});return D?(0,I.Y)(w.A,{children:K}):K})},71533:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84051),r=n(22986),s=n(80853),i=n(37836),a=n(17712);const c=(e=!1,t,n)=>{const[c,d]=(0,o.J0)(!e),[u,l]=(0,o.J0)(!1),[f,h]=(0,o.J0)(0),[m,p]=(0,o.J0)([]),g=(0,o.Kr)(()=>(0,i.sg)(d,200,!1,!0),[]),y=(0,a.A)(e=>{const o=e.currentTarget;if(o.duration<.1)n?.();else if("timeupdate"===e.type&&t?.(e),!(0,s.f)(o)){if(o.buffered.length){const e=function(e,t){const n=[];for(let o=0;o<e.length;o++)n.push({start:e.start(o)/t,end:e.end(o)/t});return n}(o.buffered,o.duration),t=e.reduce((e,{start:t,end:n})=>e+n-t,0);h(t/o.duration),p(t=>(0,r.T)(t,e)?t:e)}g(o.readyState>=3||o.currentTime>0),l(e=>e||o.readyState>3)}});return{isReady:u,isBuffered:c,bufferedProgress:f,bufferedRanges:m,bufferingHandlers:{onPLay:y,onLoadedData:y,onPlaying:y,onLoadStart:y,onPause:y,onTimeUpdate:y,onProgress:y},checkBuffering(e){g(e.readyState>=3)}}}},73622:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9935),r=n(84051),s=n(39761),i=n(41257);function a(e,t){const n=(0,i.i)(t);(0,r.Nf)(()=>{const t=e.current;if(t)return()=>{const e=n.current;e&&Object.entries(e).forEach(([e,n])=>{t.removeEventListener((0,o.xE)(e,t),n,!1)}),(0,r.qF)(()=>{(0,s.A)(t)})}},[n,e])}},73767:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=function(e,t){const n=(0,o.li)(),{current:r}=n;return t&&void 0===e||(n.current=e),r}},74065:(e,t,n)=>{n.d(t,{En:()=>h,dI:()=>g,lx:()=>p});var o=n(31481),r=n(37836);const s=new Map,i=new Map,a=new Map,c=document.createElement("style");function d(e,t,n){n?(s.delete(e),i.set(e,t),a.set(e,n)):(s.set(e,t),i.delete(e),a.delete(e)),u||(u=!0,(0,r.IJ)(l))}document.head.appendChild(c);let u=!1;function l(){const e=f(s),t=f(i),n=f(a);c.textContent=`\n    html {\n      ${e}\n    }\n\n    html.theme-light {\n      ${t}\n    }\n\n    html.theme-dark {\n      ${n}\n    }\n  `}function f(e){return Array.from(e.entries()).map(([e,t])=>`--${e}: ${t};`).join(" ")}function h(e){m("0",["#D45246"]),m("1",["#F68136"]),m("2",["#6C61DF"]),m("3",["#46BA43"]),m("4",["#5CAFFA"]),m("5",["#408ACF"]),m("6",["#D95574"]),Object.entries(e).forEach(([e,t])=>{t.colors&&m(e,t.colors,t.darkColors)})}function m(e,t,n){const o=t[0],r=n?.[0];if(!o)return;const{bg:s,bgActive:i}=p(o),{bg:a,bgActive:c}=r?p(r):{bg:void 0,bgActive:void 0};d(`color-peer-${e}`,o,r),d(`color-peer-bg-${e}`,s,a),d(`color-peer-bg-active-${e}`,i,c),t.length>1&&d(`color-peer-gradient-${e}`,g(t),n?g(n):void 0)}function p(e){return{bg:`${e}${o.tP8}`,bgActive:`${e}${o.g0p}`}}function g(e){return 1===e.length?e[0]:`repeating-linear-gradient(-45deg, ${e.map((e,t)=>`${e} ${t*o.D$I}px, ${e} ${(t+1)*o.D$I}px`).join(", ")})`}},74824:(e,t,n)=>{n.d(t,{Type:()=>f,clear:()=>y,fetch:()=>m,isCacheApiSupported:()=>l,purgeClearableCache:()=>v,remove:()=>g,save:()=>p});var o=n(31481),r=n(53266),s=n(4350);const i=self.caches,a="X-Last-Access",c=864e5,d=[o.Iz7,o.zrf,o.cLl];let u;async function l(){return!!i&&(u=u??await i.has("test").then(()=>!0).catch(()=>!1),u)}b(d),setInterval(()=>{b(d)},36e5);let f=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});function h(e){return e===o.CV?e:`${e}${s.Xz?`_${s.Xz}`:""}`}async function m(e,t,n,o=!1){if(i)try{const r=new Request(t.replace(/:/g,"_")),s=await i.open(h(e)),d=await s.match(r);if(!d)return;const u=Number(d.headers.get(a)),l=Date.now();(!u||l-u>c)&&async function(e,t,n){try{const o=new Headers(n.headers);o.set(a,Date.now().toString());const r=new Response(n.clone().body,{status:n.status,statusText:n.statusText,headers:o});await e.put(t,r)}catch(e){console.warn(e)}}(s,r,d);const m=d.headers.get("Content-Type");switch(n){case f.Text:return await d.text();case f.Blob:{if(t.startsWith("avatar")&&m&&m.startsWith("text"))return;const e=await d.blob(),n=!e.type||!o&&e.type.includes("html");let r=e.type||m;return n&&r?(o||(r=r.replace(/html/gi,"")),new Blob([e],{type:r})):e}case f.Json:return await d.json();case f.ArrayBuffer:return await d.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function p(e,t,n){if(!i)return!1;try{const o="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),r=new Request(t.replace(/:/g,"_")),s=new Response(o);s.headers.set(a,Date.now().toString());const c=await i.open(h(e));return await c.put(r,s),!0}catch(e){return console.warn(e),!1}}async function g(e,t){try{if(!i)return;const n=await i.open(h(e));return await n.delete(t)}catch(e){return void console.warn(e)}}async function y(e){try{if(!i)return;return await i.delete(h(e))}catch(e){return void console.warn(e)}}async function b(e){if(i)try{for(const t of e){const e=await i.open(h(t)),n=await e.keys(),o=Date.now();for(const t of n){await(0,r.a)();const n=await e.match(t);if(!n)continue;const s=Number(n.headers.get(a));s&&o-s>432e6&&await e.delete(t)}}}catch(e){console.warn(e)}}function v(){d.forEach(e=>y(e))}},75357:(e,t,n)=>{n.d(t,{oA:()=>l,Z3:()=>u,Uj:()=>f,dL:()=>m,A:()=>d});const o={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let r=console.error;const s=new Map;let i,a="measure",c=!1;function d(e){a=e}function u(){c||(c=!0,Object.entries(o).forEach(([e,t])=>{const n=window[e];if(!n)return;const o="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=Object.getOwnPropertyDescriptor(o,t)?.get;n&&(s.set(`${e}#${t}`,n),Object.defineProperty(o,t,{get(){return p(t),n.call(this)}}))}),"methods"in t&&t.methods.forEach(t=>{const n=o[t];s.set(`${e}#${t}`,n),o[t]=function(...e){return p(t),n.apply(this,e)}})}),i=new MutationObserver(e=>{"mutate"!==a&&e.forEach(({target:e,type:t,attributeName:n})=>{document.contains(e)&&(h.has(e)||"childList"===t&&e instanceof HTMLElement&&e.contentEditable||n?.startsWith("data-")||r(new Error(`Unexpected mutation detected: \`${"attributes"===t?n:t}\``)))}),h.clear()}),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function l(){c&&(i?.disconnect(),i=void 0,Object.entries(o).forEach(([e,t])=>{const n=window[e];if(!n)return;const o="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=s.get(`${e}#${t}`);n&&Object.defineProperty(o,t,{get:n})}),"methods"in t&&t.methods.forEach(t=>{o[t]=s.get(`${e}#${t}`)})}),s.clear(),c=!1)}function f(e){if("mutate"!==a)throw new Error("The current phase is 'measure'");a="measure";const t=e();return a="mutate",t}const h=new Set;function m(e,t){if("measure"!==a)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach(e=>{h.add(e)}):h.add(t)),e()}function p(e){"measure"!==a&&r(new Error(`Unexpected measurement detected: \`${e}\``))}},76023:(e,t,n)=>{n.d(t,{$:()=>c,$w:()=>S,AC:()=>h,Wd:()=>d,_e:()=>f,bu:()=>N,cf:()=>l,ck:()=>k,kn:()=>A,ky:()=>B,mr:()=>M,rO:()=>P,ri:()=>T,sk:()=>L,tP:()=>E,w4:()=>C,wy:()=>a});var o=n(31481),r=n(90709),s=n(96454),i=n(43503);const a="(max-height: 640px)",c=parseInt(getComputedStyle(document.documentElement).fontSize,10),d=240,u=300,l={width:640,height:640},f={width:800,height:800},h="4986041492570112461",m={width:100,height:100},p=4.5,g=7,y=29,b=30;let v,w,I;function C(e,t,n,o){const r=t?1.625:0,s=function(e,t,n){if(!n)return e?b:y;const{width:o}=i.A.get();return v||(v=Math.min(b,o/c-p)),w||(w=Math.min(y,o/c-g)),I||(I=Math.min(y,o/c-p)),e?v:t?I:w}(e,n,o)-r;return s*c}function A({width:e,height:t,fromOwnMessage:n,isWebPageMedia:o,isGif:r,noAvatars:s,isMobile:i}){const a=t/e,d=C(n,o,s,i),l=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*c:27*c}(r,a),f=r?Math.max(u,e):e;return B(d,l,f,r?t*(f/e):t)}function S(e,t){const n=window.matchMedia(a),{width:o,height:r}=i.A.get();let d=t&&n.matches?10:8.25;return e&&!s.TF&&(d=n.matches?10:12.5),{width:o,height:r-d*c}}function k(e,t,n,o,s,i){const{width:a,height:c}=(0,r.xi)(e)||m;return A({width:a,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:o,noAvatars:s,isMobile:i})}function P(e,t,n,o,s,i){const{width:a,height:c}=(0,r.NZ)(e)||m;return A({width:a,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:o,isGif:e.isGif,noAvatars:s,isMobile:i})}function T(e,t,n,o,r,s){const{width:i=m.width,height:a=m.height}=e;return A({width:i,height:a,fromOwnMessage:t,asForwarded:n,isWebPageMedia:o,noAvatars:r,isMobile:s})}function M(){return{width:2*c,height:2*c}}function E(e){return e?{width:3*c,height:3*c}:{width:3.375*c,height:3.375*c}}function N(e,t){const{width:n}=e;let{height:r}=e;e.id===h&&(r=n);const s=r&&n&&r/n,i=c*(t?o.naf:o.H4O),a=s?i*s:i;return s&&a>i?{width:Math.round(i/s),height:i}:{width:i,height:a}}function L({width:e,height:t},n,o=!1){const{width:r,height:s}=S(n,o);return B(r,s,e,t)}function B(e,t,n,o){const r=o/n,s=Math.min(n,e);return Math.round(s*r)>t?{width:Math.round(t/r),height:t}:{width:s,height:Math.round(s*r)}}},76471:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(84051),r=n(31481),s=n(87357),i=n(90603),a=n(14242),c=n(4961),d=n(18276);const u="A72KeAmh";var l=n(20021);const f=(0,o.ph)(({className:e,letterClassName:t,topicId:n,iconColor:o,title:f,onClick:h})=>{const m=(0,i.GR)(o);return n===r.HxB?(0,l.Y)(d.A,{name:"hashtag",className:(0,s.A)(u,e,"general-forum-icon"),onClick:h}):(0,l.FD)("div",{className:(0,s.A)(u,e),onClick:h,children:[(0,l.Y)("img",{className:"eLEPgwPj",src:m,alt:"",draggable:!1}),(0,l.Y)("div",{className:(0,s.A)("ZQJO2BKn",t,"topic-icon-letter"),children:(0,c.A)((0,a.Qh)(f,1))})]})})},77312:(e,t,n)=>{n.d(t,{$r:()=>ae,AB:()=>J,Ax:()=>v,Ct:()=>_,Cz:()=>q,D4:()=>de,EO:()=>ce,JU:()=>oe,KG:()=>Q,LK:()=>ne,Ml:()=>y,Mw:()=>Y,NO:()=>C,NZ:()=>te,Op:()=>L,Pg:()=>R,Qm:()=>w,T_:()=>S,VD:()=>B,VO:()=>G,Xn:()=>Z,ZV:()=>d,cs:()=>I,cy:()=>z,eY:()=>T,eh:()=>ue,fB:()=>A,fP:()=>p,gB:()=>m,hr:()=>b,iZ:()=>se,ih:()=>W,lH:()=>re,lk:()=>f,mR:()=>c,mU:()=>O,mr:()=>$,nd:()=>P,qG:()=>k,rI:()=>D,rU:()=>M,r_:()=>a,rj:()=>N,rt:()=>x,sC:()=>U,sd:()=>ie,si:()=>X,wp:()=>h,xi:()=>ee,y2:()=>F,y3:()=>E,yl:()=>u,zC:()=>g,zX:()=>l,zb:()=>K});var o=n(23174),r=n(96454),s=n(91525),i=n(86525);function a(e){return e.content}function c(e){return Boolean(u(e)||l(e)||g(e)||p(e)||w(e)||I(e)||function(e){return e.content.todo}(e)||function(e){return e.content.action}(e)||h(e)||m(e))}function d(e){const{photo:t,video:n,audio:o,document:r,text:s,webPage:i,...a}=e.content;return!n?.isRound&&!Object.keys(a).length}function u(e){return e.content.photo}function l(e){return e.content.video}function f(e){const{video:t}=e.content;return t?.isRound?t:void 0}function h(e){return e.content.audio}function m(e){return e.content.voice}function p(e){return e.content.sticker}function g(e){return e.content.document}function y(e){return"photo"===e.innerMediaType}function b(e){return"video"===e.innerMediaType}function v(e){const t=g(e);return t?"image/webp"===t.mimeType:void 0}function w(e){return e.content.contact}function I(e){return e.content.pollId}function C(e){return e.content.invoice}function A(e){return e.content.location}function S(e){return e.content.webPage}function k(e){return e.content.paidMedia}function P(e){const t=g(e);return t&&y(t)?t:void 0}function T(e){return"full"===e?.webpageType?e.photo:void 0}function M(e){return"full"===e?.webpageType?e.video:void 0}function E(e){return"full"===e?.webpageType?e.audio:void 0}function N(e){return"full"===e?.webpageType?e.document:void 0}function L(e){const t=g(e);return t&&b(t)?t:void 0}function B(e){return e.thumbnail?.dataUri}function F(e){const t=u(e)||l(e),n=C(e)?.extendedMedia;return Boolean(n||t?.isSpoiler)}function x(e,t,n,o,r){const{long:s,lat:i,accessHash:a,accuracyRadius:c}=e;return`staticMap:${a}?lat=${i}&long=${s}&w=${t}&h=${n}&zoom=${o}&scale=${r}&accuracyRadius=${c}`}function D(e,t,n){const o=`photo${e.id}`,r="photo"===e.mediaType&&e.isVideo;switch(t){case"micro":case"pictogram":return`${o}?size=${n?"a":"m"}`;case"inline":return Q(e)?void 0:`${o}?size=${n?"b":"x"}`;case"preview":return`${o}?size=${n?"b":"x"}`;case"download":return r?R(e):o;default:return o}}function O(e){return`photo${e.id}?size=c`}function R(e){if(e.isVideo)return`photo${e.id}?size=u`}function U(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return`${n}?size=m`;case"inline":return Q(e)?void 0:H(e,n);case"preview":return`${n}?size=x`;case"download":return`${n}?download`;default:return H(e,n)}}function _(e){return e.hasVideoPreview?`document${e.id}?size=v`:void 0}function $(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":case"inline":case"preview":if(!(0,s.ON)(e)||Q(e))return;return`${n}?size=m`;default:return n}}function j(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return J(e)?`${n}?size=m`:void 0;case"inline":return H(e,n);case"download":return`${n}?download`;default:return n}}function V(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return;case"download":return`${n}?download`;default:return n}}function z(e){if(e)return`webDocument:${e.url}`}function Y(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return e.previewPhotoSizes?.some(e=>"s"===e.type)?`${n}?size=s`:Y(e,"preview");case"preview":return`${n}?size=m`;case"download":return`${n}?download`;default:return n}}function G(e,t){switch(e.mediaType){case"photo":return D(e,t);case"video":return U(e,t);case"document":return $(e,t);case"audio":return j(e,t);case"voice":return V(e,t);case"sticker":return Y(e,t);case"webDocument":return z(e);default:return}}function K(e){const{photo:t}=e;if(t)return`photo${t.id}?size=x`}function W(e){const{document:t}=e;if(t)return`document${t.id}`}function H(e,t){if(r.Uz&&r.Yw){const n=new URL(t,window.location.href);return n.searchParams.append("fileSize",e.size.toString()),n.searchParams.append("mimeType",e.mimeType),n.toString()}return t}function J(e){return e.thumbnailSizes&&e.thumbnailSizes.length>0}function q(e,t){const n="document"===e.mediaType&&"video"===e.innerMediaType,s="video"===e.mediaType||n,i="audio"===e.mediaType,a="voice"===e.mediaType,c=X(e)||0;return"download"===t?r.Uz&&c>r.kn&&!r.l5?o.qZ.DownloadUrl:o.qZ.BlobUrl:s&&r.Uz&&("full"===t||"inline"===t)?o.qZ.Progressive:i||a?a&&!r.Oo?o.qZ.BlobUrl:o.qZ.Progressive:o.qZ.BlobUrl}function X(e){return"size"in e?e.size:void 0}function Q(e){return"blobUrl"in e?Boolean(e.blobUrl):"previewBlobUrl"in e&&Boolean(e.previewBlobUrl)}function Z(e){return e.sizes.find(e=>"w"===e.type)||e.sizes.find(e=>"y"===e.type)||ee(e)}function ee(e){return e.sizes.find(e=>"x"===e.type)||e.sizes.find(e=>"m"===e.type)||e.sizes.find(e=>"s"===e.type)||e.thumbnail}function te(e){if(e.width&&e.height)return e}function ne(e,t=!1,n=!1){return{isUploading:n,isTransferring:n||t,transferProgress:e||0}}function oe(e){return"video"===e.mediaType?e.isRound?"voice":e.isGif?"gif":"media":"audio"===e.mediaType?"audio":"voice"===e.mediaType?"voice":"document"===e.mediaType?"documents":"photo"===e.mediaType?"media":void 0}function re(e,t,n){let o;switch(n){case"media":o=e=>{const t=l(e);return u(e)||t&&!t.isRound&&!t.isGif};break;case"documents":o=g;break;case"gif":o=e=>{const t=l(e);return t?.isGif};break;case"links":o=e=>S(e)||(0,i.xH)(e);break;case"audio":o=h;break;case"voice":o=e=>{const t=l(e);return m(e)||t&&t.isRound};break;default:return[]}return t.reduce((t,n)=>(e[n]&&o(e[n])&&t.push(n),t),[])}function se(e){return!(!e.content||!e.content.photo&&(!e.content.video||e.content.video.isRound||e.content.video.isGif))}function ie(e){if("fileName"in e&&e.fileName)return e.fileName;if("sticker"===e.mediaType){const t=e.isLottie?"tgs":e.isVideo?"webm":"webp";return`${e.id}.${t}`}return"photo"===e.mediaType?`${e.id}.${e.isVideo?"mp4":"jpg"}`:"voice"===e.mediaType?`${e.id}.${r.Oo?"ogg":"wav"}`:"id"in e&&e.id?e.id:`${e.mediaType}-${Math.random().toString(36).slice(4)}`}function ae(e,t){const n=G(t,"download");return!!n&&Boolean(e[n])}function ce(e,t,n){const{video:o,sticker:r,audio:s,voice:i,document:a}=e.content,{webPage:c}=t,d=u(e)||T(c),l=function(e){return"suggestProfilePhoto"===e.content.action?.type?e.content.action.photo:void 0}(e),f=o||M(c),h=a||N(c),m=s||E(c);return f?U(f,n):d||l?D(d||l,n,Boolean(l)):h?$(h,n):r?Y(r,n):m?j(m,n):i?V(i,n):void 0}function de(e,t){const n=new Set;return["micro","pictogram","inline","preview","full","download"].forEach(o=>{const r=ce(e,t,o);r&&n.add(r)}),Array.from(n)}function ue(e,t){const n=Boolean(u(e)||l(e)),o=Boolean(h(e)||m(e)||g(e)),r=(0,i.ES)(t);return n&&("photo"===r||"video"===r)||o&&("audio"===r||"file"===r)}},78396:(e,t,n)=>{n.d(t,{T8:()=>s,aL:()=>r,m4:()=>i});var o=n(23174);function r(e,t){const n=`sticker${e}`;return t?`${n}?size=m`:n}function s(e){return e.entities?.some(e=>e.type===o.C7.CustomEmoji)}function i(e){if(!e.entities)return e;const t=e.entities.filter(e=>e.type!==o.C7.CustomEmoji);return{...e,entities:t}}},79089:(e,t,n)=>{n.d(t,{CD:()=>l,Gh:()=>p,Kl:()=>y,PF:()=>f,PL:()=>h,UB:()=>g,Yg:()=>u,kR:()=>b,tv:()=>m,u0:()=>d});var o=n(31481),r=n(17663),s=n(21309),i=n(87894),a=n(64713),c=n(80140);function d(e){if(e)switch(e.type){case"userTypeBot":return e.firstName;case"userTypeRegular":return e.firstName||e.lastName;case"userTypeDeleted":case"userTypeUnknown":return"Deleted";default:return}}function u(e){if(e){if(h(e))return"Deleted Account";switch(e.type){case"userTypeBot":case"userTypeRegular":if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.phoneNumber)return`+${(0,a.n4)(e.phoneNumber)}`}}}function l(e,t,n){if(t.id===o.zv8)return e("ServiceNotifications");if(t.isSupport)return e("SupportStatus");if(t.type&&"userTypeBot"===t.type)return t.botActiveUsers?e("BotUsers",t.botActiveUsers,"i"):e("Bot");if(!n)return"";switch(n.type){case"userStatusEmpty":return e("ALongTimeAgo");case"userStatusLastMonth":return e("WithinAMonth");case"userStatusLastWeek":return e("WithinAWeek");case"userStatusOffline":{const{wasOnline:t}=n;if(!t)return e("LastSeen.Offline");const o=(0,c.SF)(),s=new Date(Date.now()+1e3*o),i=new Date(1e3*t);if(i>=s)return e("LastSeen.JustNow");const a=new Date(s.getTime()-i.getTime());if(a.getTime()/1e3<60)return e("LastSeen.JustNow");if(a.getTime()/1e3<3600)return e("LastSeen.MinutesAgo",Math.floor(a.getTime()/1e3/60));const d=new Date;if(d.setHours(0,0,0,0),i>new Date(d.getTime()+1e3*o))return a.getTime()/1e3<21600?e("LastSeen.HoursAgo",Math.floor(a.getTime()/1e3/60/60)):e("LastSeen.TodayAt",(0,r.fU)(e,i));const u=new Date;return u.setDate(s.getDate()-1),u.setHours(0,0,0,0),i>new Date(u.getTime()+1e3*o)?e("LastSeen.YesterdayAt",(0,r.fU)(e,i)):e("LastSeen.AtDate",(0,r.Lu)(e,i))}case"userStatusOnline":return e("Online");case"userStatusRecently":return e("Lately");default:return}}function f(e,t,n=!1){const{id:r,type:s}=e;return!(!t||r===o.zv8||e.isSelf&&!n||"userStatusOnline"!==t.type||"userTypeBot"===s)}function h(e){return("userTypeDeleted"===e.type||"userTypeUnknown"===e.type)&&e.id!==o.zv8}function m(e){return"userTypeBot"===e.type}function p(e){return!e.isSelf&&!e.isContact&&!m(e)&&e.id!==o.Ckz}function g(e,t,n,o){return(0,i.My)(e,e=>{const r=(0,c.Fm)();if(o&&o.includes(e))return r+172800-(o.length-o.indexOf(e));const i=t[e],a=n[e];if(!i||!a)return 0;if("userStatusOnline"===a.type)return a.expires;if("userStatusOffline"===a.type&&a.wasOnline)return a.wasOnline;switch(a.type){case"userStatusRecently":return r-s.d_;case"userStatusLastWeek":return r-7*s.d_;case"userStatusLastMonth":return r-7*s.d_*30;default:return 0}},"desc")}function y(e){return e.usernames?.find(e=>e.isActive)?.username}function b(e){return`peer-story${e}`}},79824:(e,t,n)=>{n.d(t,{p:()=>o});const o=[]},80089:(e,t,n)=>{n.d(t,{If:()=>h,Vw:()=>l,ar:()=>s,gt:()=>f,po:()=>u});var o=n(31481),r=n(46536);let s=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Calls=3]="Calls",e[e.Stars=4]="Stars",e}({});const i={},a={},{addCallback:c,runCallbacks:d}=(0,r.h)();async function u(e){if(!i[e]){switch(e){case s.Auth:i[s.Auth]=Promise.all([n.e(4765),n.e(7405)]).then(n.bind(n,32794));break;case s.Main:o.Oig&&console.log(">>> START LOAD MAIN BUNDLE"),i[s.Main]=Promise.all([n.e(4765),n.e(3218),n.e(6249),n.e(7947),n.e(2859),n.e(7768)]).then(n.bind(n,61925));break;case s.Extra:i[s.Extra]=Promise.all([n.e(4765),n.e(3218),n.e(6249),n.e(7947),n.e(7513),n.e(9451)]).then(n.bind(n,98430));break;case s.Calls:i[s.Calls]=Promise.all([n.e(4765),n.e(3218),n.e(2859),n.e(2394)]).then(n.bind(n,83320));break;case s.Stars:i[s.Stars]=Promise.all([n.e(4765),n.e(3218),n.e(6249),n.e(7513),n.e(6930)]).then(n.bind(n,82138))}i[e].then(d)}const t=await i[e];return a[e]||(a[e]=t),t}async function l(e){await u(e)}function f(e,t){const n=a[e];if(n)return n[t]}const h=c},80140:(e,t,n)=>{n.d(t,{Fm:()=>i,SF:()=>s,SH:()=>r});let o=0;function r(e){o=e}function s(){return o}function i(){return Math.floor(Date.now()/1e3)+o}},80464:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(31481),s=n(80089),i=n(30857);const a=(e,t,n=!1,a=!1)=>{const c=(0,s.gt)(e,t),d=(0,i.A)();return(0,o.vJ)(()=>{if(a)return(0,s.If)(d)},[a,d]),(0,o.vJ)(()=>{n||c||(r.Oig&&console.log("Module load triggered",e,t),(0,s.Vw)(e).then(d))},[e,d,c,t,n]),c}},80853:(e,t,n)=>{function o(e){e.dataset.patchedForSafari||(e.addEventListener("play",()=>{const t=e.currentTime;e.dataset.patchForSafariInProgress="true",e.addEventListener("progress",function n(){e.buffered.length&&(e.currentTime=e.duration-1,e.addEventListener("progress",()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&!e.dataset.preventPlayAfterPatch&&e.play()},{once:!0}),e.removeEventListener("progress",n))})},{once:!0}),e.dataset.patchedForSafari="true")}function r(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,{C:()=>o,f:()=>r})},82117:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(84051);const r=(e,t,n)=>{const r=(0,o.li)();return(0,o.vJ)(()=>{const n=r.current;return r.current=t,e(n||[])},t,n)}},82150:(e,t,n)=>{n.d(t,{iR:()=>q,o4:()=>P,Kc:()=>S,fg:()=>O,Iw:()=>X,AH:()=>L,XA:()=>B,hj:()=>ee,v:()=>N,It:()=>G,l3:()=>K,T4:()=>H,qK:()=>x,n$:()=>v,tT:()=>k,n4:()=>C,ew:()=>A,o7:()=>ne,gz:()=>U,s3:()=>R,yr:()=>W,r3:()=>T,MN:()=>b,kV:()=>z,Cf:()=>te,d4:()=>F,E0:()=>D,J8:()=>oe,DL:()=>re,xA:()=>Z,QN:()=>E,tM:()=>V,Eg:()=>M,Ff:()=>j,EK:()=>Y,e4:()=>w,eA:()=>_,Ng:()=>$,Ww:()=>J,mR:()=>Q});var o=n(23174),r=n(31481),s=n(22986),i=n(70874),a=n(14487),c=n(87894),d=n(60343),u=n(58554),l=n(90709),f=n(17237);function h(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some(e=>e.type!==o.C7.CustomEmoji)&&(0,f.A)(e.text.text)||void 0}var m=n(91048),p=n(68344),g=n(32989),y=n(95753);function b(e,t,n=o.l3,s="thread",i,c,...[d=(0,a.g0)()]){const{messageLists:u}=(0,m.nTw)(e,d);let l=u;if(i||r.W75&&!r.fng)l=t?[{chatId:t,threadId:n,type:s}]:[];else if(t){const o=u[u.length-1];if(o?.chatId===t&&o.threadId===n&&o.type===s)return e;if(o&&(o.chatId===r.Xab||c))l=[...u.slice(0,-1),{chatId:t,threadId:n,type:s}];else{const e=u[u.length-2];l=e?.chatId===t&&e.threadId===n&&e.type===s?u.slice(0,-1):[...u,{chatId:t,threadId:n,type:s}]}}else l=u.slice(0,-1);return(0,g.w)(e,{messageLists:l},d)}function v(e,t,n){return I(e,t,{byId:n})}function w(e,t,n,o){if(!o)return I(e,t,{threadsById:(0,c.cJ)(e.messages.byChatId[t]?.threadsById,[n])});const r=e.messages.byChatId[t];return I(e,t,{threadsById:{...r?.threadsById,[n]:{...r?.threadsById[n],...o}}})}function I(e,t,n){const o=e.messages.byChatId[t]||{byId:{},threadsById:{},summaryById:{}};return{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...o,...n}}}}}function C(e,t,n,o,r,...[s=(0,a.g0)()]){return"viewportIds"===o&&(e=A(e,t,n,"lastViewportIds",r)),function(e,t,n,o,...[r=(0,a.g0)()]){const s=(0,m.nTw)(e,r),i=s.tabThreads[t]?.[n]||{};return(0,g.w)(e,{tabThreads:{...s.tabThreads,[t]:{...s.tabThreads[t],[n]:{...i,...o}}}},r)}(e,t,n,{[o]:r},s)}function A(e,t,n,o,r){return w(e,t,n,{[o]:r})}function S(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{e=P(e,t,n[t])}),e}function k(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{const o={...(0,m.zeq)(e,t)||{},...n[t]};e=v(e,t,o)}),e}function P(e,t,n){const o=(0,m.zeq)(e,t);return o&&Object.keys(n).every(e=>Boolean(o[Number(e)]))?e:v(e,t,{...n,...o})}function T(e,t,n,o,r=!1){const a=(0,m.zeq)(e,t)||{},d=a[n];if(r&&d){const t=Object.keys(o);if((0,s.T)((0,c.Up)(d,t),o))return e}d&&!1===o.isMediaUnread&&(0,l.G5)(d)&&(d.content.voice?o.content={action:{mediaType:"action",type:"expired",isVoice:!0}}:d.content.video?.isRound&&(o.content={action:{mediaType:"action",type:"expired",isRoundVideo:!0}}));let u=d?.content?.text;if(o.content){const e=h(o.content,d?.groupedId||o.groupedId);u=o.content.text?(0,i.j)(o.content.text):u,u&&(u.emojiOnlyCount=e)}const f=(0,c.Oy)({...d,...o,text:u});return f.id?v(e,t,{...a,[n]:f}):e}function M(e,t,n,o){const r=(0,m.Jl6)(e,t,n);let s=r?.content?.text;if(o.content){const e=h(o.content,r?.groupedId||o.groupedId);s=o.content.text?(0,i.j)(o.content.text):s,s&&(s.emojiOnlyCount=e)}const a={...r,...o,text:s};return a.id?j(e,t,{[n]:a}):e}function E(e,t,n){const o={...(0,m.N1i)(e,t),...n};return o.id?V(e,{[t]:o}):e}function N(e,t){const n=e.quickReplies.messagesById,o=(0,c.cJ)(n,t);return{...e,quickReplies:{...e.quickReplies,messagesById:o}}}function L(e,t,n){const r=(0,m.zeq)(e,t);if(!r)return e;(0,l.Ld)(n);const s=new Map;s.set(o.l3,n);const i=[];n.forEach(n=>{const a=r[n];if(!a)return;const c=(0,l.ni)(e,a);(0,l.D4)(a,c).forEach(e=>{(0,u.GP)(e)}),(0,l.iZ)(a)&&i.push(n);const d=(0,m.L_2)(e,a);if(!d||d===o.l3)return;const f=s.get(d)||[];f.push(n),s.set(d,f),e=(0,y.gt)(e,t,n),e=(0,y.Bx)(e,t,n)});const a=Object.values((0,c._E)(r,n)).filter(({forwardInfo:e})=>e?.isLinkedChannelPost);s.forEach((o,r)=>{const s=(0,m.Vw0)(e,t,r);let a=(0,m.gCU)(e,t,r),u=(0,m.fcC)(e,t,r),f=(0,m.JiE)(e,t,r),h=s?.messagesCount;a&&(a=(0,c.lK)(a,o)),f&&(f=f.map(e=>(0,c.lK)(e,o))),u&&(u=(0,c.lK)(u,(0,l.vp)(o)));const g=o.filter(e=>!(0,d.iL)(e)).length;void 0!==h&&(h-=g),Object.values(e.byTabId).forEach(({id:o})=>{const s=(0,m.nTw)(e,o);Object.entries(s.activeDownloads).filter(([,{originChatId:e,originMessageId:n}])=>e===t&&n).forEach(([t,r])=>{n.includes(r.originMessageId)&&(e=X(e,[t],o))}),i.forEach(n=>{e=(0,p.cs)(e,t,r,n,o)});const a=(0,m.rA3)(e,t,r,o);if(!a)return;const d=(0,c.lK)(a,n);e=C(e,t,r,"viewportIds",0===d.length?void 0:d,o)}),e=A(e,t,r,"listedIds",a),e=A(e,t,r,"outlyingLists",f),e=A(e,t,r,"pinnedIds",u),s&&void 0!==h&&(e=_(e,t,r,{messagesCount:h}))}),a.length&&Object.values(e.byTabId).forEach(({id:n})=>{const o=(0,m.Xf0)(e,n),r=o&&o.chatId===t&&"thread"===o.type,s=o?.threadId;a.forEach(o=>{const{fromChatId:i,fromMessageId:a}=o.forwardInfo,c=(0,m.O5q)(e,i,a);r&&s===o.id&&(e=b(e,t,void 0,void 0,void 0,void 0,n)),c&&(e=w(e,i,a,void 0))})});const f=(0,c.cJ)(r,n);return e=v(e,t,f)}function B(e,t,n){const r=(0,m.yFI)(e,t);if(!r)return e;const s=(0,c.cJ)(r,n);let i=(0,m.K3w)(e,t,o.l3);return i&&(n.forEach(e=>{i.includes(e)&&(i=i.filter(t=>t!==e))}),e=A(e,t,o.l3,"scheduledIds",i),Object.entries(e.messages.byChatId[t].threadsById).forEach(([o,r])=>{if(r.scheduledIds){const s=r.scheduledIds.filter(e=>!n.includes(e));e=A(e,t,Number(o),"scheduledIds",s)}})),e={...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{byId:s}}}}}function F(e,t,n,o){const r=(0,m.gCU)(e,t,n),s=r?.length?o.filter(e=>!r.includes(e)):o;return r&&!s.length?e:A(e,t,n,"listedIds",(0,l.Ld)([...r||[],...s]))}function x(e,t,n,o){const r=(0,m.JiE)(e,t,n);return r?A(e,t,n,"outlyingLists",r.filter(e=>e!==o)):e}function D(e,t,n,o){if(!o.length)return e;const r=(0,m.JiE)(e,t,n);return A(e,t,n,"outlyingLists",(0,l.cR)(r||[],o))}function O(e,t,n,o,...[s=(0,a.g0)()]){const i=(0,m.rA3)(e,t,n,s)||[];return i.includes(o)?e:C(e,t,n,"viewportIds",(0,l.Ld)([...i.length<r.IRc?i:i.slice(-r.yo2/2),o]),s)}function R(e,t,n,o,...[r=(0,a.g0)()]){const s=(0,m.rA3)(e,t,n,r)||[],i=(0,l.Ld)(o);return C(e,t,n,"viewportIds",(0,c.k)(s,i)?s:i,r)}function U(e,t,n,o){const r=(0,m.fcC)(e,t,n)||[],s=(0,l.vp)(o);return A(e,t,n,"pinnedIds",(0,c.k)(r,s)?r:s)}function _(e,t,n,o,r){const s={...(0,m.Vw0)(e,t,n),...o};if(!r&&!s.isCommentsInfo){const t=(0,c.Up)(s,["messagesCount","lastMessageId","lastReadInboxMessageId"]);s.fromChannelId&&s.fromMessageId&&(e=_(e,s.fromChannelId,s.fromMessageId,t,!0))}return A(e,t,n,"threadInfo",s)}function $(e,t){return t.forEach(t=>{e=_(e,t.isCommentsInfo?t.originChannelId:t.chatId,t.isCommentsInfo?t.originMessageId:t.threadId,t)}),e}function j(e,t,n){const o=e.scheduledMessages.byChatId[t]||{byId:{},hash:0};return{...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{...o,byId:{...o.byId,...n}}}}}}function V(e,t){return{...e,quickReplies:{...e.quickReplies,messagesById:{...e.quickReplies.messagesById,...t}}}}function z(e,t,...[n=(0,a.g0)()]){return t?(0,g.w)(e,{focusedMessage:{...(0,m.nTw)(e,n).focusedMessage,...t}},n):(0,g.w)(e,{focusedMessage:void 0},n)}function Y(e,t,n){return{...e,messages:{...e.messages,sponsoredByChatId:{...e.messages.sponsoredByChatId,[t]:n}}}}function G(e,t){const n=e.messages.sponsoredByChatId;return n[t]?{...e,messages:{...e.messages,sponsoredByChatId:(0,c.cJ)(n,[t])}}:e}function K(e,t,n,...[o=(0,a.g0)()]){const r=n?Array.prototype.concat([],n):[];return(0,g.w)(e,{selectedMessages:{chatId:t,messageIds:r}},o)}function W(e,t,n,o,r,s,i,d=!1,...[u=(0,a.g0)()]){const{selectedMessages:l}=(0,m.nTw)(e,u);s&&(i=(0,m.D_S)(e,t,s));const f=i||[r];if(!l)return K(e,t,f,u);const{messageIds:h}=l;let p;const y=f.filter(e=>!h.includes(e));if(y&&!y.length)p=h.filter(e=>!f.includes(e));else if(d&&h.length){const s=(0,m.vRX)(e,t,n,o,u),i=s.indexOf(h[h.length-1]),a=s.indexOf(r),d=Math.min(i,a),l=Math.max(i,a),f=s.slice(d,l+1);p=(0,c.Am)([...h,...f])}else p=[...h,...y];return p.length?(0,g.w)(e,{selectedMessages:{...l,messageIds:p}},u):H(e,u)}function H(e,...[t=(0,a.g0)()]){return(0,g.w)(e,{selectedMessages:void 0},t)}function J(e,t,n,o,r){const{channelPostId:s,fromChatId:i}=t.forwardInfo||{};if(s&&i){const t=(0,m.Vw0)(e,n,s);t&&(e=A(e,n,s,"threadInfo",{...t,lastMessageId:o,messagesCount:(t.messagesCount||0)+(r?-1:1)}))}return e}function q(e,t,n,...[o=(0,a.g0)()]){const r=(0,m.nTw)(e,o);return(0,g.w)(e,{activeDownloads:{...r.activeDownloads,[t]:n}},o)}function X(e,t,...[n=(0,a.g0)()]){const o=(0,m.nTw)(e,n),r=(0,c.cJ)(o.activeDownloads,t);return(0,g.w)(e,{activeDownloads:r},n)}function Q(e,t,n){return{...e,fileUploads:{byMessageKey:void 0!==n?{...e.fileUploads.byMessageKey,[t]:{progress:n}}:(0,c.cJ)(e.fileUploads.byMessageKey,[t])}}}function Z(e,t){return{...e,quickReplies:{...e.quickReplies,byId:{...e.quickReplies.byId,...t}}}}function ee(e,t){return{...e,quickReplies:{...e.quickReplies,byId:(0,c.cJ)(e.quickReplies.byId,[t])}}}function te(e,t,n){const o=(0,m.kgA)(e,t),r="full"===o?.webpageType?{...o,...n}:{webpageType:"full",mediaType:"webpage",...n};return r.id?ne(e,t,r):e}function ne(e,t,n){return{...e,messages:{...e.messages,webPageById:{...e.messages.webPageById,[t]:n}}}}function oe(e,t,n){const o=(0,m.KQQ)(e,t),r=o?.results;let s=r||n.results;o&&n.results?.results&&(o.results&&n.results.isMin?r.results&&(s={...n.results,results:n.results.results.map(e=>({...e,isChosen:r.results.find(t=>t.option===e.option)?.isChosen})),isMin:void 0}):s=n.results);const i={...o,...n,results:s};return i.id?{...e,messages:{...e.messages,pollById:{...e.messages.pollById,[t]:i}}}:e}function re(e,t,n,o){const r=(0,m.KQQ)(e,t);if(!r)return e;const{recentVoterIds:s,totalVoters:i,results:a}=r.results,c=s?[...s]:[],d=i?i+1:1,u=a?[...a]:[];return c.push(n),o.forEach(t=>{const o=u.findIndex(e=>e.option===t),r=u[o],s=r?{...r}:{option:t,votersCount:0};s.votersCount+=1,n===e.currentUserId&&(s.isChosen=!0),o?u[o]=s:u.push(s)}),oe(e,t,{results:{...r.results,recentVoterIds:c,totalVoters:d,results:u}})}},82855:(e,t,n)=>{n.d(t,{A:()=>P});var o=n(84051),r=n(13439),s=n(90709),i=n(91048),a=n(96454),c=n(87357),d=n(58554),u=n(2338),l=n(37479),f=n(94519),h=n(37661),m=n(5912),p=n(17712),g=n(62587),y=n(37960),b=n(19129),v=n(14745),w=n(38691),I=n(65843),C=n(18104);const A="AvU_FtMd",S="RrEzFxte";var k=n(20021);const P=(0,o.ph)(({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:P,fullMediaClassName:T,isSmall:M,size:E=24,customColor:N,loopLimit:L,shouldLoop:B=!1,shouldPreloadPreview:F,skipPreview:x,forceAlways:D,forceOnHeavyAnimation:O,observeIntersectionForLoading:R,observeIntersectionForPlaying:U,noLoad:_,noPlay:$,noVideoOnMobile:j,forceAnimatedStickerOnEnd:V,withSharedAnimation:z,withTranslucentThumb:Y,sharedCanvasRef:G,onVideoEnded:K,onAnimatedStickerLoop:W,onAnimatedStickerFrame:H,onAnimatedStickerLoad:J})=>{const{id:q,isLottie:X,stickerSetInfo:Q,emoji:Z}=t,[ee,te]=(0,h.A)(),ne=t.isVideo&&(!a.OF||j&&(a.pz||a.Ni)),oe=t.isVideo,re=!X&&!oe,se=(0,s.Mw)(t,"preview"),ie=(0,w.A)(),ae=(0,l.A)(N),ce=(0,m.Vz)(e,R),de=ce&&!_,ue=(0,m.Vz)(e,U)&&ce,le=ue&&!$,fe=(0,o.li)(ue);!fe.current&&ue&&(fe.current=!0);const he=d.Ih(se),me=function(e){const[t,n]=(0,o.Ul)(!1),r=o.OV;return(0,o.vJ)(()=>{r()||n(!0)},[r,n]),(0,b.A)(()=>t()&&e,[t,e])}(fe.current),pe=!x&&(ne||(re?M:$)),ge=!x&&!N&&!he&&(!me||pe),ye=(0,g.A)(se,!ge),be=!x&&(ge||he),ve=Boolean(pe||P===se&&(he||ye)),we=(0,g.A)(P||`sticker${q}`,!de||ve),Ie=me&&Boolean(we)&&!ee,[Ce,Ae]=(0,h.A)(),Se=Ie&&(re||Ce),ke=(0,u.A)(t.thumbnail),Pe=x?void 0:he||ye||ke,Te=G&&!Y,Me=Boolean(X&&be),{ref:Ee}=(0,y.A)({hasMediaData:Boolean(Pe&&!Se),noCloseTransition:Me}),{ref:Ne}=(0,y.A)({hasMediaData:Se,noOpenTransition:Me}),Le=(0,f.A)(e,G);(0,g.A)(se,!de||!F);const Be=(0,v.A)(),Fe=(0,o.Kr)(()=>[z?"shared":Be,q,E,z?N:void 0,ie].filter(Boolean).join("_"),[q,E,N,ie,z,Be]),xe=(0,p.A)(()=>{J?.(),Ae()});return(0,k.FD)(k.FK,{children:[(0,k.Y)("img",{ref:Ee,src:Pe,className:(0,c.A)("gYSfUe37",Me&&A,Te&&"vbcXDDxa",n,"sticker-media"),style:ae,alt:"",draggable:!1}),Ie&&(X?(0,k.Y)(C.A,{ref:Ne,renderId:Fe,size:E,className:(0,c.A)(S,(Me||Te)&&A,T),tgsUrl:we,play:le,seekToEnd:V,noLoop:!B,forceOnHeavyAnimation:D||O,forceAlways:D,isLowPriority:M&&!(0,i.CzR)((0,r.mS)(),Q),sharedCanvas:G?.current||void 0,sharedCanvasCoords:Le,onLoad:xe,onLoop:W,onEnded:W,onFrame:H,color:N},Fe):oe?(0,k.Y)(I.A,{ref:Ne,canPlay:le,className:(0,c.A)(S,T,"sticker-media"),src:we,playsInline:!0,muted:!0,loop:B&&!L,isPriority:D,disablePictureInPicture:!0,onReady:Ae,onBroken:te,onEnded:K,style:ae}):(0,k.Y)("img",{ref:Ne,className:(0,c.A)(S,T,"sticker-media"),src:we,alt:Z,style:ae,draggable:!1}))]})})},83057:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(50680);function r(e){const t=Boolean(e),{transitionClassNames:n}=(0,o.A)(t,void 0,t,"slow");return n}},83414:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(5718),s=n(41257),i=n(35297);const a=function(e,t,n=!1){const a=t?e:()=>e;t??=[e];const[c,d]=(0,o.Ul)(),u=(0,s.i)(a);function l(){const e=u.current;n?e(d):d(e())}return(0,i.A)(l,t),(0,r.R)(l,t),c}},83649:(e,t,n)=>{function o(e){return"object"==typeof e&&"isDeleted"in e}function r(e){return!function(e){return"string"==typeof e}(e)&&!o(e)}function s(e){return Boolean(e)&&"object"==typeof e&&"key"in e&&!("type"in e)}function i(e){return"withNodes"in e&&Boolean(e.withNodes)}n.d(t,{JR:()=>o,Qw:()=>r,Yw:()=>s,Zh:()=>i})},83868:(e,t,n)=>{n.d(t,{A:()=>o});const o=e=>{e.stopPropagation(),e.preventDefault()}},84051:(e,t,n)=>{n.d(t,{$Z:()=>re,pT:()=>y,wr:()=>g,VK:()=>p.VK,ek:()=>j,Ay:()=>se,OV:()=>p.OV,rO:()=>Y,jo:()=>S,ph:()=>oe,bF:()=>G,qF:()=>p.qF,Cc:()=>z,s4:()=>K,hb:()=>ee,vJ:()=>q,Nf:()=>X,Kr:()=>Z,li:()=>te,Ul:()=>ne,J0:()=>H,_W:()=>Q});var o=n(31481),r=n(5930),s=n(37836);const i=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let a={};const c=(0,s.nF)(function(){d||function(){d=document.createElement("div"),d.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(d);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="ðŸ”„",e.addEventListener("click",()=>{a={},c()}),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(a).reduce((e,[t,{value:n}])=>(i.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e),[0,0]);d.innerHTML=Object.entries(a).filter(([e,{value:t}])=>!i.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2)).sort((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt).map(([o,{value:r,lastUpdateAt:s}])=>{return[`<div style="background: #ff0000${i=r/(o.includes("renders")?t:n),Math.round(255*i).toString(16).padStart(2,"0")}">`,`  <span${s>e?' style="background: lightgreen"':""}>${o}: ${Math.round(r)}</span>`,"</div>"].join("\n");var i}).join("\n")},500,!1);let d;function u(e,t=1){const n=Date.now();a[e]?(a[e].value+=t,a[e].lastUpdateAt=n):a[e]={value:t,lastUpdateAt:n},c()}var l=n(87894),f=n(50110),h=n(22237),m=n(66644),p=n(8718);let g=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),y=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const b=Symbol("Fragment"),v=7,w=7,I=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let C,A=0;function S(e){return e.type===g.Tag||e.type===g.Component||e.type===g.Fragment}function k(e,t,...n){return e===b?function(e){return{type:g.Fragment,children:T(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const o={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:y.Unmounted};return o.$element=P(o),o.$element}(e,t||{},n):function(e,t,n){return{type:g.Tag,tag:e,props:t,children:T(n)}}(e,t||{},n)}function P(e,t){return{type:g.Component,componentInstance:e,props:e.props,children:t?T(t,!0):[]}}function T(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&M(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];Array.isArray(r)?o.push(...T(r,t)):o.push(E(r))}return o}function M(e){return!e&&0!==e}function E(e){return M(e)?{type:g.Empty}:S(e)?e:{type:g.Text,value:String(e)}}const N={TOTAL:{name:"TOTAL",renders:0}},L={},B=20;o.Oig&&document.addEventListener("dblclick",()=>{console.warn("COMPONENTS",(0,l.My)(Object.values(N).map(({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}})),"renders","desc")),console.warn("MEMOS",(0,l.My)(Object.values(L).filter(({calls:e})=>e>=B).map(e=>({...e,hitRate:Number(e.hitRate.toFixed(2))})),"hitRate","asc"))});let F=new Set,x=new Set,D=new Map,O=new Map,R=new Map,U=new Map,_=!1;const $=(0,s.nb)(m.YS,()=>{if((0,p.Mb)())return void p.Mb.once($);const e=j();x=new Set;const t=Array.from(F).sort((e,t)=>e.id-t.id);F=new Set;const n=O;O=new Map,n.forEach(e=>e());const o=D;D=new Map,o.forEach(e=>e()),(0,m.RK)(()=>{t.forEach(W),t.forEach(e=>{x.has(e.id)||function(e){if(e.mountState===y.Unmounted||!e.onUpdate)return;const t=e.$element;z(e),e.$element!==t&&e.onUpdate()}(e)}),e?.()})});function j(){if(!_)return _=!0,V}function V(){const e=U;U=new Map,e.forEach(e=>e());const t=R;R=new Map,t.forEach(e=>e()),_=!1}function z(e){x.add(e.id);const{Component:t,props:n}=e;let r;if((0,f.A)(()=>{let s;if(C=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),o.Oig){const e=re(t);N[e]||(N[e]={name:e,renders:0,avgRenderTime:0}),o.MVx&&(I.has(e)||console.log(`[Teact] Render ${e}`)),s=performance.now()}if(r=t(n),o.Oig){const e=performance.now()-s,n=re(t);e>v&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:r,avgRenderTime:i}=N[n];N[n].avgRenderTime=(i*r+e)/(r+1),N[n].renders++,N.TOTAL.renders++,o.MVx&&(u(`${n} renders`),u(`${n} duration`,e))}},{rescue:()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),r=e.renderedValue}}),e.mountState===y.Mounted&&r===e.renderedValue)return e.$element;e.renderedValue=r;const s=Array.isArray(r)?r:[r];return e.$element=P(e,s),e.$element}function Y(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===g.Text&&t.type===g.Text?e.value!==t.value:e.type===g.Tag&&t.type===g.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===g.Component&&t.type===g.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function G(e){return e.id=++A,e.mountState=y.Mounting,z(e),e.mountState=y.Mounted,e.$element}function K(e){if(e.mountState!==y.Unmounted){if(x.add(e.id),e.hooks?.effects)for(const t of e.hooks.effects.byCursor)t.cleanup&&(0,f.A)(t.cleanup),t.cleanup=void 0,t.releaseSignals?.();e.mountState=y.Unmounted,function(e){const{effects:t,state:n,memos:o,refs:r}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(o)for(const e of o.byCursor)e.value=void 0,e.dependencies=void 0;if(r)for(const e of r.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function W(e){if(e.mountState!==y.Unmounted&&e.hooks?.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function H(e,t){C.hooks||(C.hooks={}),C.hooks.state||(C.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:r}=C.hooks.state,s=C;if(void 0===r[n]){const i="function"==typeof e?e():e;r[n]={value:i,nextValue:i,setter:e=>{s.mountState!==y.Unmounted&&("function"==typeof e&&(e=e(r[n].nextValue)),r[n].nextValue!==e&&(r[n].nextValue=e,F.add(s),$(),o.MVx&&console.log("[Teact.useState]",re(s.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,r[n].nextValue)))}}}return C.hooks.state.cursor++,[r[n].value,r[n].setter]}function J(e,t,n,r){C.hooks||(C.hooks={}),C.hooks.effects||(C.hooks.effects={cursor:0,byCursor:[]});const{cursor:s,byCursor:i}=C.hooks.effects,a=i[s],c=C;function d(){!function(e,t,n,r){const{byCursor:s}=e.hooks.effects,i=s[t]?.cleanup,a=r?U:O,c=r?R:D,d=`${e.id}_${t}`;if(i){const n=()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let n;if(o.Oig&&(n=performance.now()),i(),o.Oig){const o=performance.now()-n,r=re(e.Component);o>w&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${r}, ${Math.round(o)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)},always:()=>{s[t].cleanup=void 0}});a.set(d,n)}c.set(d,()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let r;o.Oig&&(r=performance.now());const i=n();if("function"==typeof i&&(s[t].cleanup=i),o.Oig){const n=performance.now()-r,o=re(e.Component);n>w&&console.warn(`[Teact] Slow effect at cursor #${t}: ${o}, ${Math.round(n)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)}})),$()}(c,s,t,e)}if(n&&a?.dependencies){if(n.some((e,t)=>e!==a.dependencies[t])){if(o.Oig&&r){const e=n.reduce((e,t,n)=>{const o=a.dependencies[n];return t!==o&&e.push(`${n}: ${String(o)} => ${String(t)}`),e},[]);console.log(`[Teact] Effect "${r}" caused by dependencies.`,e.join(", "))}d()}}else r&&console.log(`[Teact] Effect "${r}" caused by missing dependencies.`),d();a&&(a.schedule=void 0),i[s]={...a,dependencies:n,schedule:d},a||(i[s].releaseSignals=function(){const e=n?.filter(h.Hp).map((e,t)=>e.subscribe(()=>{r&&console.log(`[Teact] Effect "${r}" caused by signal #${t} new value:`,e()),i[s].schedule()}));if(e?.length)return()=>{for(const t of e)t()}}()),C.hooks.effects.cursor++}function q(e,t,n){return J(!1,e,t,n)}function X(e,t,n){return J(!0,e,t,n)}function Q(e){C.hooks||(C.hooks={}),C.hooks.effects||(C.hooks.effects={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=C.hooks.effects;n[t]||(n[t]={cleanup:e}),C.hooks.effects.cursor++}function Z(e,t,n,s){C.hooks||(C.hooks={}),C.hooks.memos||(C.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:a}=C.hooks.memos;let c,{value:d}=a[i]||{};if(o.Oig&&s){const e=`${s}#${C.id}`;c=L[e],c||(c={key:e,calls:0,misses:0,hitRate:0},L[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===a[i]||t.length!==a[i].dependencies.length||t.some((e,t)=>e!==a[i].dependencies[t])){if(o.Oig){if(n){const e=`[Teact.useMemo] ${C.name} (${n}): Update is caused by:`;a[i]?(0,r.q)(a[i].dependencies,t,e,n):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=B&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}d=e()}return a[i]={value:d,dependencies:t},C.hooks.memos.cursor++,d}function ee(e,t,n){return Z(()=>e,t,n)}function te(e){C.hooks||(C.hooks={}),C.hooks.refs||(C.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=C.hooks.refs;return n[t]||(n[t]={current:e}),C.hooks.refs.cursor++,n[t]}function ne(e){const t=te();return t.current??=(0,h.n5)(e),t.current}function oe(e,t){function n(n){return Z(()=>k(e,n),Object.values(n),t,o.MVx?re(C.Component):void 0)}return n.DEBUG_contentComponentName=re(e),n}function re(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const se={createElement:k,Fragment:b}},84080:(e,t,n)=>{n.d(t,{Ay:()=>c,KE:()=>d});var o=n(84051),r=n(46536),s=n(17712);const i=(0,r.h)(),a=(0,r.h)();function c(e,t,n=!1){const r=(0,s.A)(e),c=(0,s.A)(t);(0,o.vJ)(()=>{if(!n)return(0,o.OV)()&&r(),i.addCallback(r),a.addCallback(c),()=>{a.removeCallback(c),i.removeCallback(r)}},[n,c,r])}function d(e,t){const n=(0,o.hb)(e,t),r=(0,o.li)();return(0,o.vJ)(()=>()=>{r.current&&(a.removeCallback(r.current),r.current=void 0)},[n]),(0,o.hb)((...e)=>{r.current&&a.removeCallback(r.current);const t=()=>{r.current=void 0,n(...e)};(0,o.OV)()?(r.current=t,a.addCallback(t)):t()},[n])}o.OV.subscribe(()=>{(0,o.OV)()?i.runCallbacks():a.runCallbacks()})},84382:(e,t,n)=>{n.d(t,{S:()=>i,V:()=>s});let o,r=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function s(){return r}function i(e){o=e}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){r=e.matches?"dark":"light",o?.(r)})},84448:(e,t,n)=>{n.d(t,{C7:()=>o,K1:()=>s,l3:()=>r});let o=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Timestamp="MessageEntityTimestamp",e.QuoteFocus="MessageEntityQuoteFocus",e.Unknown="MessageEntityUnknown",e}({});const r=-1,s="MESSAGE_DELETED"},84553:(e,t,n)=>{n.d(t,{KX:()=>m,VH:()=>g,ii:()=>p,nv:()=>h});var o=n(13439),r=n(31481),s=n(63495),i=n(57751);const a=["t.me","telegram.me"].map(e=>`https://${e}/_websync_?`),c=`12.0.17 ${r.cK8}`,d="tgme_sync",u=86400,l=()=>Math.floor(Number(new Date)/1e3);let f;const h=e=>{if(r.fng||s.Vq)return;const t=l(),{canRedirect:n,ts:o}=JSON.parse(localStorage.getItem(d)||"{}");return n!==e||o+u<=t?Promise.all(a.map(t=>new Promise((n,o)=>{const r=document.createElement("script"),s=()=>Boolean(document.body.removeChild(r));r.src=t+new URLSearchParams({authed:Number(e).toString(),version:c}).toString(),document.body.appendChild(r),r.onload=()=>{(e=>{const t=l();localStorage.setItem(d,JSON.stringify({canRedirect:e,ts:t}))})(e),s(),f&&(clearTimeout(f),f=void 0),p(),n()},r.onerror=()=>{s(),o()}}))):Promise.resolve()};function m(){r.Oig||s.Vq||f&&clearTimeout(f)}function p(){if(r.Oig||s.Vq)return;if(void 0!==f)return;const e=l(),{ts:t}=JSON.parse(localStorage.getItem(d)||"{}"),n=u-(e-t);f=setTimeout(()=>{const{auth:e}=(0,o.mS)(),t="authorizationStateReady"===e.state||(0,i.wr)();h(t)},Math.max(0,1e3*n))}function g(){localStorage.removeItem(d)}},84685:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(13439),r=n(23174),s=n(63495),i=n(24585),a=n(87357),c=n(17712),d=n(20021);const u=({url:e,text:t,className:n,children:u,isRtl:l,shouldSkipModal:f,chatId:h,messageId:m,threadId:p,entityType:g=r.C7.Url})=>{const{openUrl:y}=(0,o.ko)(),b=u||t,v=e===t,w=(0,c.A)(t=>{if(!e)return!0;t.preventDefault();const n=v&&!(0,i._G)(e);return y({url:e,shouldSkipModal:f||n,...h&&m&&{linkContext:{type:"message",chatId:h,threadId:p,messageId:m}}}),!1});if(!e)return;const I=(0,a.A)(n||"text-entity-link",v&&"word-break-all");return(0,d.Y)("a",{href:(0,i.Tc)(e),title:(0,i.Dc)(e),target:s.Vq?"_self":"_blank",rel:"noopener noreferrer",className:I,onClick:w,dir:l?"rtl":"auto","data-entity-type":g,children:b})}},84947:(e,t,n)=>{n.d(t,{A:()=>o});class o{constructor(e){this.limit=e,this.map=new Map,this.insertionQueue=new Set}get(e){return this.map.get(e)}set(e,t){if(this.map.size===this.limit){const e=Array.from(this.insertionQueue).shift();e&&(this.map.delete(e),this.insertionQueue.delete(e))}return this.map.set(e,t),this.insertionQueue.add(e),this}has(e){return this.map.has(e)}delete(e){const t=this.map.delete(e);return t&&this.insertionQueue.delete(e),t}clear(){this.map.clear(),this.insertionQueue.clear()}forEach(e,t){this.map.forEach(e,t)}get size(){return this.map.size}get[Symbol.toStringTag](){return this.map[Symbol.toStringTag]}[Symbol.iterator](){return this.map[Symbol.iterator]()}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}}},85118:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(84051),r=n(87357),s=n(95807);const i="fWE9Tkfe",a="wapdILU7";var c=n(20021);const d=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],u=function(){const e=[];for(let t=0;t<100;t++)e.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return e}(),l=(0,o.ph)(({className:e,style:t,noAnimation:n,...l})=>{const f=(0,o.li)();return"button"===l.preset?(0,c.Y)("div",{ref:f,className:(0,r.A)(i,"B94KQ3c0",e,n&&"caUR_u_a"),style:t,children:d.map(e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),n=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return(0,c.Y)("div",{className:a,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${n}%`,`scale: ${e.size}%`),"aria-hidden":"true",children:"âœ¦"})})}):"progress"===l.preset?(0,c.Y)("div",{ref:f,className:(0,r.A)(i,"F0JPgXgb",e),style:t,children:u.map(e=>(0,c.Y)("div",{className:a,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`),"aria-hidden":"true",children:"âœ¦"}))}):void 0})},85982:(e,t,n)=>{n.d(t,{A:()=>a,LD:()=>d,WO:()=>r,eM:()=>i,qp:()=>c});var o=n(31481);const r=window.navigator.clipboard&&window.ClipboardItem,s=document.createElement("textarea");s.setAttribute("readonly",""),s.tabIndex=-1,s.className="visually-hidden";const i=e=>{s.value=e,document.body.appendChild(s);const t=document.getSelection();if(t){const e=t.rangeCount>0&&t.getRangeAt(0);s.select(),document.execCommand("copy"),e&&(t.removeAllRanges(),t.addRange(e))}document.body.removeChild(s)},a=(e,t)=>{window.navigator.clipboard?.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"})})]):i(t)},c=e=>{if(!e)return;const t=document.createElement("canvas"),n=t.getContext("2d"),o=new Image;o.onload=e=>{if(n&&e.currentTarget){const o=e.currentTarget;t.width=o.width,t.height=o.height,n.drawImage(o,0,0,o.width,o.height),t.toBlob(u,"image/png",1)}},o.src=e},d=async(e,t,n)=>{const o=async()=>{try{const t=await e;return t?i(t):n(),Boolean(t)}catch{return n(),!1}};if(r&&navigator.clipboard.write){try{let t=!1;const o=()=>Promise.reject(new Error("GET_DATA_ERROR")),r=new ClipboardItem({"text/plain":e.then(e=>e||o()).catch(()=>(t=!0,""))});if(await navigator.clipboard.write([r]),t)return void n()}catch{if(!await o())return}t()}else await o()&&t()};async function u(e){if(e&&r)try{await(window.navigator.clipboard.write?.([new ClipboardItem({[e.type]:e})]))}catch(e){o.Oig&&console.error(e)}}},86070:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(84051),r=n(91048),s=n(87357),i=n(76023),a=n(63527),c=n(39996),d=n(87412),u=n(39877);var l=n(20021);const f=1.25*i.$,h=(0,o.ph)(function({ref:e,peer:t,peerColor:n,isReply:o,noBar:i,noUserColors:h,shouldReset:m,className:p,emojiIconClassName:g,children:y,...b}){const v=n||t?.color,w=(0,a.A)(r.SJA),{style:I,className:C,backgroundEmojiId:A,giftEmojiId:S}=(0,c.Ay)({peer:t,color:v,noUserColors:h,shouldReset:m,theme:w}),k=o&&Boolean(S);return(0,l.FD)("div",{ref:e,className:(0,s.A)("nRjVJOQv",C,k&&"nsd0qT3V",!i&&"_9jsufX2y",p),style:I,...b,children:[A&&(0,l.Y)(u.A,{className:g,emojiDocumentId:A,withEmojiSpace:k}),k&&(0,l.Y)(d.A,{className:"UAOeEYzU",documentId:S,size:f,noPlay:!0}),y]})})},86525:(e,t,n)=>{n.d(t,{Ak:()=>N,BN:()=>C,Do:()=>X,EQ:()=>Q,ES:()=>W,FE:()=>w,G5:()=>K,GZ:()=>p,HN:()=>O,Ie:()=>M,Jw:()=>k,Ld:()=>j,NK:()=>H,Nb:()=>D,P5:()=>I,Sb:()=>Y,Tv:()=>E,WD:()=>y,XR:()=>b,X_:()=>R,Yh:()=>Z,ZD:()=>P,ZR:()=>_,_I:()=>x,_P:()=>L,aN:()=>A,cR:()=>z,ni:()=>v,r$:()=>G,rK:()=>$,sj:()=>g,u7:()=>B,v$:()=>q,vp:()=>V,vz:()=>U,wb:()=>S,xH:()=>T,yt:()=>J,zP:()=>F});var o=n(23174),r=n(31481),s=n(22986),i=n(48899),a=n(87894),c=n(60343),d=n(80140),u=n(13439),l=n(91048),f=n(79089);const h=new RegExp(r.kNZ,"i");let m=0;function p(e,t){return["message",e.toString().replace(".","-"),t].filter(Boolean).join("-")}function g(e){return e.previousLocalId||e.id}function y(e){const{transcriptionId:t}=e,n=(0,u.mS)();return t&&n.transcriptions[t]?.text}function b(e){const{action:t,text:n,sticker:o,photo:r,video:s,audio:i,voice:a,document:c,pollId:d,todo:u,dice:l,webPage:f,contact:h,invoice:m,location:p,game:g,storyData:y,giveaway:b,giveawayResults:v,paidMedia:w}=e.content;return Boolean(n)||!(o||r||s||i||a||c||h||d||u||f||m||p||g||y||b||v||l||w||"phoneCall"===t?.type)}function v(e,t){const n=(0,l.zcZ)(e,t),o=(0,l.Pn$)(e,t),{peerId:r,id:s}=t.content.storyData||{};return w({poll:n,story:s&&r?e.stories.byPeerId[r]?.byId[s]:void 0,webPage:o})}function w({poll:e,story:t,webPage:n}){return{poll:e,story:t&&"content"in t?t:void 0,webPage:n}}function I(e){return b(e)?e.content.text:void 0}function C(e,t){return b(t)?t.content.text||{text:e("MessageUnsupported")}:void 0}function A(e){const{text:t,sticker:n,photo:r,video:s,audio:i,voice:a,document:c,pollId:d,webPage:u,contact:l,action:f,game:h,invoice:m,location:p,storyData:g,dice:y}=e.content;if(n||s?.isRound||y)return!0;if(!t||r||s||i||a||c||d||u||l||f||h||m||p||g)return!1;const b=t?.entities?.some(e=>e.type!==o.C7.CustomEmoji);return Boolean(t.emojiOnlyCount&&!b)}function S(e){const{text:t}=e.content;if(t&&!t.entities?.length&&1===t.emojiOnlyCount)return t.text}function k(e){const{text:t}=e.content,n=t?.entities?.[0];if(1===t?.entities?.length&&n?.type===o.C7.CustomEmoji&&0===n.offset&&n.length===t.text.length)return n.documentId}function P(e){const{text:t}=e.content;let n;if(t?.entities){const e=t.entities.find(e=>e.type===o.C7.TextUrl);if(e&&(n=e.url.match(h)),!n){const e=t.entities.find(e=>e.type===o.C7.Url);if(e){const{offset:o,length:r}=e;n=t.text.substring(o,o+r).match(h)}}}if(!n&&t&&(n=t.text.match(h)),n)return{url:n[0],domain:n[3]}}function T(e){const{text:t}=e.content,n=t&&t.text.match(h);if(n)return{url:n[0],domain:n[3]}}function M(e){return e.isOutgoing}function E(e){return Boolean("message"===e.replyInfo?.type)}function N(e){return Boolean(e.forwardInfo||e.content.storyData)}function L(e){return Boolean(e.content.action)}function B(e){return e.chatId===r.zv8&&Math.round(e.id)!==e.id}function F(e){return Boolean(e.senderId)&&!(0,i.L8)(e.senderId)&&M(e)}function x(e){return e.sendingState?"messageSendingStateFailed"===e.sendingState?"failed":"pending":"succeeded"}function D(e){return(0,c.iL)(e.id)}function O(e){return"messageSendingStateFailed"===e.sendingState}function R(e){return e.content.action&&"historyClear"===e.content.action.type}function U(e){const{location:t}=e.content;return"geoLive"===t?.mediaType&&(0,d.Fm)()-(e.date||0)>=t.period}function _(e,t){const{text:n,game:o}=e.content,r=D(e),s=B(e),i=L(e);return Boolean(n?.text.length&&!n.emojiOnlyCount&&!o&&(t||!e.isOutgoing)&&!r&&!s&&!i&&!e.isScheduled)}function $(e){return 1===e.inlineButtons?.length&&1===e.inlineButtons[0].length&&e.inlineButtons[0][0]}function j(e){return e.sort((e,t)=>e-t)}function V(e){return e.sort((e,t)=>t-e)}function z(e,t){let n=!1,o=e.length?e.map(e=>(0,a.h8)(e,t)&&!n?(n=!0,j((0,a.Am)(e.concat(t)))):e):[t];n||(o=o.concat([t])),o.sort((e,t)=>e[0]-t[0]);let r=o.length;for(let e=0;e<r;e++){const t=o[e],n=o[e-1];n&&(n.includes(t[0])||n.includes(t[0]-1))&&(o[e-1]=j((0,a.Am)(t.concat(n))),o.splice(e,1),r--,e--)}return o}function Y(e,t=!1){const n=e.content.text;if(!n)return;const{text:s}=n;let{entities:i}=n;if(s&&"chatId"in e){if(e.chatId===r.zv8){const e=s.match(/^\D*([\d-]{5,7})\D/)?.[1];e&&(i=[...i||[],{type:t?o.C7.Spoiler:o.C7.Code,offset:s.indexOf(e),length:e.length}],i.sort((e,t)=>e.offset>t.offset?1:-1))}if(t&&e.chatId===r.b5_&&i&&i.some(e=>e.type===o.C7.Code)){const e=i;i=[];for(let t=0;t<e.length;t++){const n=e[t];n.type===o.C7.Code&&i.push({type:o.C7.Spoiler,offset:n.offset,length:n.length}),i.push(n)}}}return{text:s,entities:i}}function G(e){return"expired"===e.content.action?.type}function K(e){return void 0!==e.content?.ttlSeconds}function W(e){return r.IH3.has(e.mimeType)?"audio":e.shouldSendAsFile?"file":r.gex.has(e.mimeType)?"photo":r.fNs.has(e.mimeType)?"video":"file"}function H(e){return e?"image/webp"===e.mimeType||e.mimeType===r.ikg||e.mimeType===r.Msx:void 0}function J(e,t,n){const s=(0,f.Kl)(e),a=(0,i.A2)(e.id).toString(),c=s||`c/${a}`,d=t&&t!==o.l3?`/${t}`:"",u=n?`/${n}`:"";return`${r.jsp}${c}${d}${u}`}function q(e,t){const n=[];let o=[];return e.reduce((e,t)=>{const n=e[e.length-1];return t.groupedId&&n?.[0]?.groupedId===t.groupedId?(n.push(t),e):(e.push([t]),e)},[]).forEach(e=>{o.length+e.length>t&&(n.push(o),o=[]),o.push(...e)}),o.length&&n.push(o),n}function X(e,t){if(!e.suggestedPostInfo||"message"!==e.replyInfo?.type||!e.replyInfo?.replyToMsgId||!t)return;if(!t.suggestedPostInfo)return;const n=t.suggestedPostInfo,o=e.suggestedPostInfo,r=t.content,i=e.content,{text:a,...c}=r,{text:d,...u}=i,l=!(0,s.T)(a,d),f=!(0,s.T)(c,u),h=n.price?.amount,m=o.price?.amount,p=h!==m,g=n.scheduleDate!==o.scheduleDate;return l||p||g||f?{isNewText:l,isNewPrice:p,isNewTime:g,isNewMedia:f}:void 0}function Q(e,t,n,o,r){const s=X(t,n);if(!s)return;const i=[];s.isNewPrice&&i.push(e("ActionSuggestedChangesPrice")),s.isNewTime&&i.push(e("ActionSuggestedChangesTime")),s.isNewText&&i.push(e("ActionSuggestedChangesText")),s.isNewMedia&&i.push(e("ActionSuggestedChangesMedia"));const a=e.conjunction(i);return e(o?"ActionSuggestedChangesOutgoing":"ActionSuggestedChangesIncoming",{changes:a,user:r},{withNodes:!0,withMarkdown:!0})}function Z({lastMessageId:e,chatId:t,threadId:n,text:s}){const i=function(e=0){return e+ ++m/r.VCe}(e);return{id:i,chatId:t,replyInfo:"number"==typeof n&&n!==o.l3?{type:"message",replyToMsgId:n,replyToTopId:n,isForumTopic:!0}:void 0,isOutgoing:!1,date:(0,d.Fm)(),content:{text:s},isSilent:!0,isTypingDraft:!0,editDate:(0,d.Fm)()}}},87094:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(84051),r=n(59852),s=n(17712),i=n(93545);const a=50,c=50;function d(e,t="color",n){const d=function(e,t,n=a,r){const[c,d]=(0,o.J0)(),u=(0,s.A)(()=>{if(!e.current||r)return void d(void 0);const n=getComputedStyle(e.current).getPropertyValue(t).trim();d(n)});return(0,i.A)(e,u,r),(0,o.Nf)(()=>{const o=e.current;if(o&&!r)return o.style.setProperty("transition",`${n}ms ${t} linear`,"important"),()=>{o.style.removeProperty("transition")}},[n,r,t,e]),(0,o.vJ)(()=>{const n=e.current;if(n&&(u(),!r))return n.addEventListener("transitionend",o),()=>{n.removeEventListener("transitionend",o)};function o(e){e.propertyName===t&&u()}},[r,t,e,u]),c}(e,t,c,n);return(0,o.Kr)(()=>d?(0,r.yY)(d):void 0,[d])}},87357:(e,t,n)=>{function o(...e){return e.filter(Boolean).join(" ")}function r(e){return(t,...n)=>{const o="&"===t?e:`${e}__${t}`;return n.reduce((e,t)=>(t&&(Array.isArray(t)?e.push(...t):e.push(`${o}--${t}`)),e),[o]).join(" ")}}n.d(t,{A:()=>o,x:()=>r})},87412:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(84051),r=n(13439),s=n(23174),i=n(91048),a=n(87357),c=n(41733),d=n(87094),u=n(17712),l=n(45294),f=n(82855);var h=n(61911),m=n(20021);const p=(0,o.ph)(({ref:e,documentId:t,className:n,style:p,size:g=20,isBig:y,noPlay:b,noVideoOnMobile:v,loopLimit:w,shouldNotLoop:I,isSelectable:C,withSharedAnimation:A,sharedCanvasRef:S,sharedCanvasHqRef:k,withTranslucentThumb:P,shouldPreloadPreview:T,forceAlways:M,forceOnHeavyAnimation:E,observeIntersectionForLoading:N,observeIntersectionForPlaying:L,onClick:B,onAnimationEnd:F})=>{let x=(0,o.li)();e&&(x=e);const{customEmoji:D,canPlay:O}=(0,l.A)(t),R=(0,o.li)(0),[U,_]=(0,o.J0)(!0),$=D?.shouldUseTextColor,j=(0,d.A)(x,void 0,!$),V=(0,u.A)(e=>{w&&(R.current+=1,R.current>=w?(_(!1),e.currentTarget.currentTime=0):(0,c.A)(e.currentTarget))}),z=(0,u.A)(()=>{w&&(R.current+=1,R.current>=w&&_(!1))}),Y=D?.stickerSetInfo&&(0,i.CzR)((0,r.mS)(),D.stickerSetInfo);return(0,m.FD)("div",{ref:x,className:(0,a.A)("CEFe1FhH",n,"custom-emoji","emoji"),onClick:B,onAnimationEnd:F,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,"data-alt":D?.emoji,style:p,children:[C&&(0,m.Y)("img",{className:"a8dMNkh3",src:h,alt:D?.emoji,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,draggable:!1}),D?(0,m.Y)(f.A,{containerRef:x,sticker:D,isSmall:!y,size:g,noPlay:b||!(U&&O),noVideoOnMobile:v,thumbClassName:"O_TaDxWg",fullMediaClassName:"wqju02hR",shouldLoop:!I,loopLimit:w,shouldPreloadPreview:T||b||!O,forceOnHeavyAnimation:E,forceAlways:M,observeIntersectionForLoading:N,observeIntersectionForPlaying:L,withSharedAnimation:A,sharedCanvasRef:Y?k:S,withTranslucentThumb:P,onVideoEnded:V,onAnimatedStickerLoop:z,customColor:j}):(0,m.Y)("div",{className:(0,a.A)("DKi1177s"),draggable:!1})]})})},87679:(e,t,n)=>{n.d(t,{FW:()=>i,NN:()=>s,PR:()=>d,eT:()=>a,kc:()=>u,sZ:()=>c,ti:()=>r}),n(31481);var o=n(37836);function r(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}function s(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=e})}function i(e){return new Promise((t,n)=>{const o=document.createElement("video");o.volume=0,o.onloadedmetadata=()=>t(o),o.onerror=n,o.src=e})}async function a(e){try{const t=await i(e);return await Promise.race([(0,o.v7)(2e3),new Promise((e,n)=>{t.onseeked=()=>{t.videoWidth&&t.videoHeight||e(void 0);const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toBlob(t=>{e(t?URL.createObjectURL(t):void 0)})},t.onerror=n,t.currentTime=Math.min(t.duration,1)})])}catch(e){return}}async function c(e){return(await fetch(e)).blob()}function d(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function u(e){if(e?.length)return Array.from(e).map(l).filter(e=>e.size)}function l(e){const t=e.name.split(".").pop();return e.type||"mov"!==t.toLowerCase()?e:new File([e],e.name,{type:"video/quicktime"})}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...o}=n;super(e,{type:t}),Object.assign(this,o)}else super(e);this.name=t}})},87894:(e,t,n)=>{function o(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function r(e,t){return e.reduce((e,n)=>{const[o,r]=t(n);return e[o]=r,e},{})}function s(e,t){return Object.keys(e).reduce((n,o,r)=>(n[o]=t(e[o],o,r,e),n),{})}function i(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function a(e,t){return t.reduce((t,n)=>(e[n]&&(t[n]=e[n]),t),{})}function c(e,t){const n=new Set(t.map(String));return i(e,Object.keys(e).filter(e=>!n.has(e)))}function d(e){return Object.keys(e).reduce((t,n)=>{const o=n;return void 0!==e[o]&&(t[o]=e[o]),t},{})}function u(e,t,n="asc"){function o(e,t,n,o){const r=("function"==typeof n?n(e):e[n])||0,s=("function"==typeof n?n(t):t[n])||0;return o?r-s:s-r}if(Array.isArray(t)){const[r,s]=Array.isArray(n)?n:[n,n],[i,a]=t,c="asc"===r,d="asc"===s;return e.sort((e,t)=>o(e,t,i,c)||o(e,t,a,d))}const r="asc"===n;return e.sort((e,n)=>o(e,n,t,r))}function l(e){return Array.from(new Set(e))}function f(e,t){return[...new Map(e.map(e=>[e[t],e])).values()]}function h(e){return e.filter(Boolean)}function m(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}function p(e,t){return e[0]<=t[t.length-1]&&e[e.length-1]>=t[0]}function g(e,t){return t[0]<=e&&e<=t[t.length-1]}function y(e,t){return e.filter(e=>t.has(e))}function b(e,t){if(!e?.length)return e;const n=[];let o=0;for(let r=0;r<e.length;r++)t[o]===e[r]?o+=1:n.push(e[r]);return n}function v(e,t){const n=[];for(let o=0;o<e.length;o+=t)n.push(e.slice(o,o+t));return n}function w(e,t){const n=[],o=[];return e.forEach((e,r,s)=>(t(e,r,s)?n:o).push(e)),[n,o]}function I(e){return A(e)?Array.isArray(e)?e.map(I):Object.keys(e).reduce((t,n)=>(t[n]=I(e[n]),t),{}):e}function C(e){return A(e)&&!Array.isArray(e)}function A(e){return"object"==typeof e&&null!==e}function S(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function k(e,t){return Number(t)-Number(e)}n.d(t,{$h:()=>y,Am:()=>l,LG:()=>s,My:()=>u,OX:()=>g,Oy:()=>d,Uk:()=>S,Up:()=>i,Vh:()=>C,Xd:()=>f,_E:()=>a,cJ:()=>c,dU:()=>o,h8:()=>p,jB:()=>w,k:()=>m,lD:()=>v,lK:()=>b,mg:()=>I,oE:()=>h,pA:()=>r,zV:()=>k})},88368:(e,t,n)=>{function o(e,t){return e.chats.topicsInfoById[t]}function r(e,t){return o(e,t)?.topicsById}function s(e,t,n){return o(e,t)?.topicsById?.[n]}n.d(t,{S0:()=>s,pS:()=>r,xy:()=>o})},88458:(e,t,n)=>{let o,r;async function s(){return o||(o=n.e(6708).then(n.bind(n,66708)).then(e=>e.default),r=await o),o}function i(){return r}n.d(t,{Y:()=>s,o:()=>i}),setTimeout(s,3e3)},88554:(e,t,n)=>{n.d(t,{$:()=>C,A:()=>I});var o=n(84051),r=n(13439),s=n(91048),i=n(87357),a=n(76023),c=n(38691),d=n(20021);const u=["#34C578","#3CA3F3"],l=["#C9EB38","#09C167"],f=.125*a.$,h=.25*a.$,m=2,p=45,g=4*a.$,y=Math.PI/4,b=2*Math.PI*.1,v=y-b/2,w=y+b/2,I=(0,o.ph)((0,r.EK)((e,{peerId:t})=>{const n=(0,s._bp)(e,t),o=(0,s.SJA)(e);return{peerStories:n?.byId,storyIds:n?.orderedIds,lastReadId:n?.lastReadId,appTheme:o}})(function({size:e,className:t,peerStories:n,storyIds:r,lastReadId:s,withExtraGap:m,appTheme:p,colors:y}){const b=(0,o.li)(),v=(0,c.A)(),w=e>g,I=w?h:f,A=e+I+(w?.25*a.$:0),S=(0,o.Kr)(()=>(r||[]).reduce((e,t)=>(e.total+=1,s&&t<=s&&(e.read+=1),e),{total:0,read:0}),[s,r]),k=(0,o.Kr)(()=>!(!n||!r?.length)&&r.some(e=>{const t=n[e];if(!t||!("isForCloseFriends"in t))return!1;const o=s&&t.id<=s;return t.isForCloseFriends&&!o}),[s,n,r]);if((0,o.Nf)(()=>{b.current&&C({canvas:b.current,size:A,strokeWidth:I,segmentsCount:S.total,colorStops:y||(k?l:u),readSegmentsCount:S.read,withExtraGap:m,readSegmentColor:"dark"===p?"#737373":"#C4C9CC",dpr:v})},[p,k,A,S.read,S.total,m,v,y,e,I]),S.total)return(0,d.Y)("canvas",{ref:b,className:(0,i.A)("story-circle",t),style:`max-width: ${A}px; max-height: ${A}px;`})}));function C({canvas:e,size:t,strokeWidth:n=f,colorStops:o,segmentsCount:r,readSegmentsCount:s=0,withExtraGap:i=!1,readSegmentColor:a,dpr:c}){r>p&&(s=Math.round(s*(p/r)),r=p);const d=c,u=c,l=e.getContext("2d");if(!l)return;const h=t*d,g=n*u;e.width=h,e.height=h;const y=h/2,b=(h-g)/2,I=2*Math.PI/r,C=m/100*(2*Math.PI),A=l.createLinearGradient(0,0,Math.ceil(h*Math.cos(Math.PI/2)),Math.ceil(h*Math.sin(Math.PI/2)));1===o.length?(A.addColorStop(0,o[0]),A.addColorStop(1,o[0])):o.forEach((e,t)=>{A.addColorStop(t/(o.length-1),e)}),l.lineCap="round",l.clearRect(0,0,h,h),Array.from({length:r}).forEach((e,t)=>{const n=t<s;let o=t*I-Math.PI/2+C/2,c=o+I-(r>1?C:0);if(l.strokeStyle=n?a:A,l.lineWidth=g*(n?.5:1),i){if(o>=v&&c<=w)return;o<v&&c>w?(l.beginPath(),l.arc(y,y,b,w,c),l.stroke(),c=v):o<v&&c>v?c=v:o<w&&c>w&&(o=w)}l.beginPath(),l.arc(y,y,b,o,c),l.stroke()})}},88742:(e,t,n)=>{var o=n(37932),r=n(66644),s=n(63495),i=n(96454),a=n(14487),c=n(14235),d=n(5560),u=n(6e4),l=n(70934),f=n(21687),h=n(57751),m=n(71322),p=n(84382),g=n(84553),y=n(4875),b=n(42385),v=n(13439),w=n(17872),I=n(17567),C=n(32989),A=n(91048),S=n(30708),k=n(55232);(0,p.S)(e=>{let t=(0,v.mS)();t.isInited&&(0,S.lS)(t).shouldUseSystemTheme&&(t=(0,w.qoo)(t,{theme:e}),(0,v.UF)(t))}),(0,v.aJ)("switchMultitabRole",async(e,t,n)=>{const{isMasterTab:o,tabId:r=(0,a.g0)()}=n;if(o!==(0,A.nTw)(e,r).isMasterTab)if(e=(0,C.w)(e,{isMasterTab:o},r),(0,v.UF)(e,{forceSyncOnIOs:!0}),o){if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,l.ug)(),t=JSON.parse(e);(0,h.AA)(t)}(0,h.wr)()&&(0,b.ZJ)(),(e=(0,v.mS)()).passcode.hasPasscode&&e.passcode.isScreenLocked||("connectionStateReady"===e.connectionState&&(e={...e,connectionState:"connectionStateConnecting"},(0,v.UF)(e)),t.initApi()),(0,g.ii)(),s.vM&&(0,k.X)(e.sharedState)}else(0,d.al)(),t.destroyConnection(),(0,g.KX)(),(0,k.m)(),(0,b.z0)(),t.onSomeTabSwitchedMultitabRole();else(0,y.px)("broadcastLocalDbUpdateFull")}),(0,v.aJ)("onSomeTabSwitchedMultitabRole",async e=>{if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,l.ug)(),t=JSON.parse(e);(0,h.AA)(t)}(0,y.px)("broadcastLocalDbUpdateFull")}),(0,v.aJ)("initShared",()=>{(0,g.ii)()}),(0,v.aJ)("initMain",e=>{const{hasWebNotifications:t,hasPushNotifications:n}=(0,A.eCL)(e);if(t&&n){const e=["click","keypress"],t=()=>{(0,d.B1)(),e.forEach(e=>{document.removeEventListener(e,t)})};e.forEach(e=>{document.addEventListener(e,t,{once:!0})})}}),(0,o.DW)(e=>{let t=!1;const n=(0,A.nTw)(e,(0,a.g0)());if(!n?.shouldInit)return;e=(0,v.mS)(),e=(0,C.w)(e,{shouldInit:!1},n.id);const{messageTextSize:o,language:c,shouldUseSystemTheme:d}=(0,S.lS)(e),l=(0,A.SJA)(e),h=(0,p.V)(),y=d?h:l,b=(0,A.Cw0)(e);(0,u.wT)(c,void 0),(0,r.RK)(()=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(o,i.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*o)}px`),document.documentElement.style.setProperty("--message-text-size",`${o}px`),document.documentElement.setAttribute("data-message-text-size",o.toString()),document.body.classList.add("initial"),document.body.classList.add(i.TF?"is-touch-env":"is-pointer-env"),(0,f.u)(b),i.pz?document.body.classList.add("is-ios"):i.Ni?document.body.classList.add("is-android"):i.MP?document.body.classList.add("is-macos"):i.H8?document.body.classList.add("is-windows"):i.ig&&document.body.classList.add("is-linux"),i.Yw&&document.body.classList.add("is-safari"),s.Vq&&document.body.classList.add("is-tauri"),s.cp&&document.body.classList.add("is-tauri")});const I=(0,A.PKK)(e);(0,m.A)(y,I),e=(0,w.qoo)(e,{theme:y}),(0,g.ii)(),t=!0,(0,v.UF)(e)}),(0,v.aJ)("setInstallPrompt",(e,t,n)=>{const{canInstall:o,tabId:r=(0,a.g0)()}=n;return(0,C.w)(e,{canInstall:o},r)}),(0,v.aJ)("setIsUiReady",(e,t,n)=>{const{uiReadyState:o,tabId:s=(0,a.g0)()}=n;return 2===o&&(0,r.RK)(()=>{document.body.classList.remove("initial")}),(0,C.w)(e,{uiReadyState:o},s)}),(0,v.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:o}=n;return(0,I.K)(e,{phoneNumber:o})}),(0,v.aJ)("setAuthRememberMe",(e,t,n)=>(0,I.K)(e,{rememberMe:Boolean(n.value)})),(0,v.aJ)("clearAuthErrorKey",e=>(0,I.K)(e,{errorKey:void 0})),(0,v.aJ)("disableHistoryAnimations",(e,t,n)=>{const{tabId:o=(0,a.g0)()}=n||{};setTimeout(()=>{e=(0,v.mS)(),e=(0,C.w)(e,{shouldSkipHistoryAnimations:!1},o),(0,v.UF)(e),(0,r.RK)(()=>{document.body.classList.remove("no-animate")})},450),e=(0,C.w)(e,{shouldSkipHistoryAnimations:!0},o),(0,v.UF)(e,{forceSyncOnIOs:!0})}),(0,v.aJ)("showNotification",(e,t,n)=>{const{tabId:o=(0,a.g0)(),...r}=n,s=r.localId;r.localId||=(0,c.A)();const i=[...(0,A.nTw)(e,o).notifications],d=i.findIndex(e=>s?e.localId===r.localId:e.message===r.message);return-1!==d&&i.splice(d,1),i.push(r),(0,C.w)(e,{notifications:i},o)}),(0,v.aJ)("dismissNotification",(e,t,n)=>{const{tabId:o=(0,a.g0)()}=n,r=(0,A.nTw)(e,o).notifications.filter(({localId:e})=>e!==n.localId);return(0,C.w)(e,{notifications:r},o)})},89704:(e,t,n)=>{e.exports=n.p+"lock.f11661905df47960fa3e.png"},89925:(e,t,n)=>{n.d(t,{$C:()=>a,Bn:()=>i,CC:()=>r,D7:()=>p,DV:()=>h,G9:()=>u,TD:()=>m,TN:()=>o,TQ:()=>d,Ul:()=>c,VS:()=>s,Vw:()=>b,d9:()=>l,je:()=>v,n7:()=>f,tn:()=>y,zW:()=>g});let o=function(e){return e[e.Backwards=0]="Backwards",e[e.Forwards=1]="Forwards",e[e.Around=2]="Around",e}({}),r=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e}({}),s=function(e){return e[e.Main=0]="Main",e[e.EditProfile=1]="EditProfile",e[e.Notifications=2]="Notifications",e[e.DataStorage=3]="DataStorage",e[e.Language=4]="Language",e[e.ActiveSessions=5]="ActiveSessions",e[e.General=6]="General",e[e.GeneralChatBackground=7]="GeneralChatBackground",e[e.GeneralChatBackgroundColor=8]="GeneralChatBackgroundColor",e[e.Privacy=9]="Privacy",e[e.PrivacyPhoneNumber=10]="PrivacyPhoneNumber",e[e.PrivacyAddByPhone=11]="PrivacyAddByPhone",e[e.PrivacyLastSeen=12]="PrivacyLastSeen",e[e.PrivacyProfilePhoto=13]="PrivacyProfilePhoto",e[e.PrivacyBio=14]="PrivacyBio",e[e.PrivacyBirthday=15]="PrivacyBirthday",e[e.PrivacyGifts=16]="PrivacyGifts",e[e.PrivacyPhoneCall=17]="PrivacyPhoneCall",e[e.PrivacyPhoneP2P=18]="PrivacyPhoneP2P",e[e.PrivacyForwarding=19]="PrivacyForwarding",e[e.PrivacyVoiceMessages=20]="PrivacyVoiceMessages",e[e.PrivacyMessages=21]="PrivacyMessages",e[e.PrivacyGroupChats=22]="PrivacyGroupChats",e[e.PrivacyPhoneNumberAllowedContacts=23]="PrivacyPhoneNumberAllowedContacts",e[e.PrivacyPhoneNumberDeniedContacts=24]="PrivacyPhoneNumberDeniedContacts",e[e.PrivacyLastSeenAllowedContacts=25]="PrivacyLastSeenAllowedContacts",e[e.PrivacyLastSeenDeniedContacts=26]="PrivacyLastSeenDeniedContacts",e[e.PrivacyProfilePhotoAllowedContacts=27]="PrivacyProfilePhotoAllowedContacts",e[e.PrivacyProfilePhotoDeniedContacts=28]="PrivacyProfilePhotoDeniedContacts",e[e.PrivacyBioAllowedContacts=29]="PrivacyBioAllowedContacts",e[e.PrivacyBioDeniedContacts=30]="PrivacyBioDeniedContacts",e[e.PrivacyBirthdayAllowedContacts=31]="PrivacyBirthdayAllowedContacts",e[e.PrivacyBirthdayDeniedContacts=32]="PrivacyBirthdayDeniedContacts",e[e.PrivacyGiftsAllowedContacts=33]="PrivacyGiftsAllowedContacts",e[e.PrivacyGiftsDeniedContacts=34]="PrivacyGiftsDeniedContacts",e[e.PrivacyPhoneCallAllowedContacts=35]="PrivacyPhoneCallAllowedContacts",e[e.PrivacyPhoneCallDeniedContacts=36]="PrivacyPhoneCallDeniedContacts",e[e.PrivacyPhoneP2PAllowedContacts=37]="PrivacyPhoneP2PAllowedContacts",e[e.PrivacyPhoneP2PDeniedContacts=38]="PrivacyPhoneP2PDeniedContacts",e[e.PrivacyForwardingAllowedContacts=39]="PrivacyForwardingAllowedContacts",e[e.PrivacyForwardingDeniedContacts=40]="PrivacyForwardingDeniedContacts",e[e.PrivacyVoiceMessagesAllowedContacts=41]="PrivacyVoiceMessagesAllowedContacts",e[e.PrivacyVoiceMessagesDeniedContacts=42]="PrivacyVoiceMessagesDeniedContacts",e[e.PrivacyGroupChatsAllowedContacts=43]="PrivacyGroupChatsAllowedContacts",e[e.PrivacyGroupChatsDeniedContacts=44]="PrivacyGroupChatsDeniedContacts",e[e.PrivacyBlockedUsers=45]="PrivacyBlockedUsers",e[e.PrivacyNoPaidMessages=46]="PrivacyNoPaidMessages",e[e.Performance=47]="Performance",e[e.Folders=48]="Folders",e[e.FoldersCreateFolder=49]="FoldersCreateFolder",e[e.FoldersEditFolder=50]="FoldersEditFolder",e[e.FoldersEditFolderFromChatList=51]="FoldersEditFolderFromChatList",e[e.FoldersEditFolderInvites=52]="FoldersEditFolderInvites",e[e.FoldersIncludedChats=53]="FoldersIncludedChats",e[e.FoldersIncludedChatsFromChatList=54]="FoldersIncludedChatsFromChatList",e[e.FoldersExcludedChats=55]="FoldersExcludedChats",e[e.FoldersExcludedChatsFromChatList=56]="FoldersExcludedChatsFromChatList",e[e.TwoFaDisabled=57]="TwoFaDisabled",e[e.TwoFaNewPassword=58]="TwoFaNewPassword",e[e.TwoFaNewPasswordConfirm=59]="TwoFaNewPasswordConfirm",e[e.TwoFaNewPasswordHint=60]="TwoFaNewPasswordHint",e[e.TwoFaNewPasswordEmail=61]="TwoFaNewPasswordEmail",e[e.TwoFaNewPasswordEmailCode=62]="TwoFaNewPasswordEmailCode",e[e.TwoFaEnabled=63]="TwoFaEnabled",e[e.TwoFaChangePasswordCurrent=64]="TwoFaChangePasswordCurrent",e[e.TwoFaChangePasswordNew=65]="TwoFaChangePasswordNew",e[e.TwoFaChangePasswordConfirm=66]="TwoFaChangePasswordConfirm",e[e.TwoFaChangePasswordHint=67]="TwoFaChangePasswordHint",e[e.TwoFaTurnOff=68]="TwoFaTurnOff",e[e.TwoFaRecoveryEmailCurrentPassword=69]="TwoFaRecoveryEmailCurrentPassword",e[e.TwoFaRecoveryEmail=70]="TwoFaRecoveryEmail",e[e.TwoFaRecoveryEmailCode=71]="TwoFaRecoveryEmailCode",e[e.TwoFaCongratulations=72]="TwoFaCongratulations",e[e.ActiveWebsites=73]="ActiveWebsites",e[e.PasscodeDisabled=74]="PasscodeDisabled",e[e.PasscodeNewPasscode=75]="PasscodeNewPasscode",e[e.PasscodeNewPasscodeConfirm=76]="PasscodeNewPasscodeConfirm",e[e.PasscodeEnabled=77]="PasscodeEnabled",e[e.PasscodeChangePasscodeCurrent=78]="PasscodeChangePasscodeCurrent",e[e.PasscodeChangePasscodeNew=79]="PasscodeChangePasscodeNew",e[e.PasscodeChangePasscodeConfirm=80]="PasscodeChangePasscodeConfirm",e[e.PasscodeTurnOff=81]="PasscodeTurnOff",e[e.PasscodeCongratulations=82]="PasscodeCongratulations",e[e.Experimental=83]="Experimental",e[e.Stickers=84]="Stickers",e[e.QuickReaction=85]="QuickReaction",e[e.CustomEmoji=86]="CustomEmoji",e[e.DoNotTranslate=87]="DoNotTranslate",e[e.FoldersShare=88]="FoldersShare",e[e.Passkeys=89]="Passkeys",e}({}),i=function(e){return e[e.ChatList=0]="ChatList",e[e.GlobalSearch=1]="GlobalSearch",e[e.Settings=2]="Settings",e[e.Contacts=3]="Contacts",e[e.Archived=4]="Archived",e[e.NewChannelStep1=5]="NewChannelStep1",e[e.NewChannelStep2=6]="NewChannelStep2",e[e.NewGroupStep1=7]="NewGroupStep1",e[e.NewGroupStep2=8]="NewGroupStep2",e}({}),a=function(e){return e[e.ChatList=0]="ChatList",e[e.ChannelList=1]="ChannelList",e[e.BotApps=2]="BotApps",e[e.PublicPosts=3]="PublicPosts",e[e.Media=4]="Media",e[e.Links=5]="Links",e[e.Files=6]="Files",e[e.Music=7]="Music",e[e.Voice=8]="Voice",e}({}),c=function(e){return e[e.ChatInfo=0]="ChatInfo",e[e.Management=1]="Management",e[e.Statistics=2]="Statistics",e[e.BoostStatistics=3]="BoostStatistics",e[e.MessageStatistics=4]="MessageStatistics",e[e.StoryStatistics=5]="StoryStatistics",e[e.StickerSearch=6]="StickerSearch",e[e.GifSearch=7]="GifSearch",e[e.PollResults=8]="PollResults",e[e.AddingMembers=9]="AddingMembers",e[e.CreateTopic=10]="CreateTopic",e[e.EditTopic=11]="EditTopic",e[e.MonetizationStatistics=12]="MonetizationStatistics",e[e.NewGroup=13]="NewGroup",e}({}),d=function(e){return e[e.Inline=0]="Inline",e[e.ScheduledInline=1]="ScheduledInline",e[e.SharedMedia=2]="SharedMedia",e[e.ProfileAvatar=3]="ProfileAvatar",e[e.SettingsAvatar=4]="SettingsAvatar",e[e.MiddleHeaderAvatar=5]="MiddleHeaderAvatar",e[e.Album=6]="Album",e[e.ScheduledAlbum=7]="ScheduledAlbum",e[e.SearchResult=8]="SearchResult",e[e.ChannelAvatar=9]="ChannelAvatar",e[e.SuggestedAvatar=10]="SuggestedAvatar",e[e.StarsTransaction=11]="StarsTransaction",e[e.PreviewMedia=12]="PreviewMedia",e[e.SponsoredMessage=13]="SponsoredMessage",e}({}),u=function(e){return e[e.StoryRibbon=0]="StoryRibbon",e[e.MiddleHeaderAvatar=1]="MiddleHeaderAvatar",e[e.ChatList=2]="ChatList",e[e.SearchResult=3]="SearchResult",e}({}),l=function(e){return e[e.Inline=0]="Inline",e[e.SharedMedia=1]="SharedMedia",e[e.Search=2]="Search",e[e.OneTimeModal=3]="OneTimeModal",e}({}),f=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),h=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),m=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),p=function(e){return e[e.Closed=0]="Closed",e[e.InProgress=1]="InProgress",e[e.Loading=2]="Loading",e}({}),g=function(e){return e[e.Profile=0]="Profile",e[e.SharedMedia=1]="SharedMedia",e[e.MemberList=2]="MemberList",e[e.GiftList=3]="GiftList",e[e.StoryList=4]="StoryList",e[e.SavedDialogs=5]="SavedDialogs",e}({}),y=function(e){return e[e.Checkout=0]="Checkout",e[e.SavedPayments=1]="SavedPayments",e[e.ConfirmPassword=2]="ConfirmPassword",e[e.PaymentInfo=3]="PaymentInfo",e[e.ShippingInfo=4]="ShippingInfo",e[e.Shipping=5]="Shipping",e[e.ConfirmPayment=6]="ConfirmPayment",e}({});const b="UPLOADING_WALLPAPER_SLUG";let v=function(e){return e[e.Initial=0]="Initial",e[e.ChatPrivacyType=1]="ChatPrivacyType",e[e.Discussion=2]="Discussion",e[e.ChannelSubscribers=3]="ChannelSubscribers",e[e.GroupType=4]="GroupType",e[e.GroupPermissions=5]="GroupPermissions",e[e.GroupRemovedUsers=6]="GroupRemovedUsers",e[e.ChannelRemovedUsers=7]="ChannelRemovedUsers",e[e.GroupUserPermissionsCreate=8]="GroupUserPermissionsCreate",e[e.GroupUserPermissions=9]="GroupUserPermissions",e[e.ChatAdministrators=10]="ChatAdministrators",e[e.GroupRecentActions=11]="GroupRecentActions",e[e.ChatAdminRights=12]="ChatAdminRights",e[e.ChatNewAdminRights=13]="ChatNewAdminRights",e[e.GroupMembers=14]="GroupMembers",e[e.GroupAddAdmins=15]="GroupAddAdmins",e[e.Invites=16]="Invites",e[e.EditInvite=17]="EditInvite",e[e.Reactions=18]="Reactions",e[e.InviteInfo=19]="InviteInfo",e[e.JoinRequests=20]="JoinRequests",e[e.NewDiscussionGroup=21]="NewDiscussionGroup",e}({})},90603:(e,t,n)=>{n.d(t,{Mt:()=>f,e$:()=>u,GR:()=>l});const o=n.p+"blue.7addb55a171bbda244ac.svg",r=n.p+"green.19008e11c98b08550285.svg";var s=n(38027);const i=n.p+"red.1ab26ec752237fc45355.svg",a=n.p+"rose.6dd2db47d5e1fb9bdb9d.svg",c=n.p+"violet.7c7f825ebb51cf3084e3.svg",d={7322096:[o,"blue"],16766590:[n.p+"yellow.40f6b4865f20f3e6a1ab.svg","yellow"],13338331:[c,"violet"],9367192:[r,"green"],16749490:[a,"rose"],16478047:[i,"red"]};function u(){return Object.keys(d).map(e=>parseInt(e,10))}function l(e){return e&&d[e][0]||s}function f(e){return`--color-topic-${e&&d[e][1]||"grey"}`}},90709:(e,t,n)=>{n.d(t,{Ny:()=>b,G:()=>u,wT:()=>N,Wi:()=>a.W,rt:()=>i.rt,ZV:()=>i.ZV,eh:()=>i.eh,A3:()=>h,pU:()=>d,Xj:()=>v.Xj,Yh:()=>s.Yh,Sb:()=>s.Sb,D4:()=>i.D4,Q_:()=>r.Q_,ES:()=>s.ES,AB:()=>i.AB,Fi:()=>v.Fi,Gh:()=>o.Gh,IC:()=>r.IC,l1:()=>r.l1,__:()=>r.__,cP:()=>r.cP,L7:()=>r.L7,Js:()=>r.Js,yS:()=>r.yS,SM:()=>L,Em:()=>B,nr:()=>r.nr,mr:()=>i.mr,ZD:()=>s.ZD,A5:()=>r.A5,zc:()=>r.zc,zb:()=>i.zb,ih:()=>i.ih,sT:()=>r.sT,ub:()=>r.ub,$r:()=>i.$r,cG:()=>r.cG,Kl:()=>o.Kl,si:()=>i.si,sd:()=>i.sd,Cz:()=>i.Cz,VO:()=>i.VO,JU:()=>i.JU,VD:()=>i.VD,LK:()=>i.LK,wp:()=>i.wp,Qm:()=>i.Qm,r_:()=>i.r_,lH:()=>i.lH,aN:()=>s.aN,zC:()=>i.zC,nd:()=>i.nd,Op:()=>i.Op,GZ:()=>s.GZ,NO:()=>i.NO,y2:()=>i.y2,yt:()=>s.yt,fB:()=>i.fB,sj:()=>s.sj,qG:()=>i.qG,yl:()=>i.yl,cs:()=>i.cs,cU:()=>c,lk:()=>i.lk,gU:()=>r.gU,Jw:()=>s.Jw,rK:()=>s.rK,wb:()=>s.wb,ni:()=>s.ni,fP:()=>i.fP,P5:()=>s.P5,BN:()=>s.BN,zX:()=>i.zX,gB:()=>i.gB,T_:()=>i.T_,i7:()=>r.i7,CO:()=>r.CO,_n:()=>r._n,PX:()=>r.PX,Zg:()=>r.Zg,kR:()=>o.kR,Xn:()=>i.Xn,xi:()=>i.xi,rI:()=>i.rI,e7:()=>r.e7,mU:()=>i.mU,Jj:()=>l,_I:()=>s._I,aL:()=>A.aL,Mw:()=>i.Mw,$_:()=>C,EN:()=>I,EQ:()=>s.EQ,Do:()=>s.Do,u0:()=>o.u0,Yg:()=>o.Yg,uC:()=>p,CD:()=>o.CD,NZ:()=>i.NZ,sC:()=>i.sC,Ct:()=>i.Ct,Pg:()=>i.Pg,rp:()=>v.rp,cy:()=>i.cy,y3:()=>i.y3,rj:()=>i.rj,eY:()=>i.eY,rU:()=>i.rU,FE:()=>s.FE,KG:()=>i.KG,mR:()=>i.mR,XR:()=>s.XR,G5:()=>s.G5,_P:()=>s._P,Qe:()=>r.Qe,zP:()=>s.zP,SJ:()=>r.SJ,TJ:()=>r.TJ,yn:()=>r.yn,WX:()=>r.WX,YE:()=>r.YE,Ve:()=>r.Ve,gA:()=>r.gA,Vs:()=>r.Vs,kE:()=>r.kE,Rl:()=>r.Rl,VN:()=>r.VN,PL:()=>o.PL,Ml:()=>i.Ml,hr:()=>i.hr,r$:()=>s.r$,Ak:()=>s.Ak,vz:()=>s.vz,X_:()=>s.X_,iZ:()=>i.iZ,Ax:()=>i.Ax,HN:()=>s.HN,Nb:()=>s.Nb,ZR:()=>s.ZR,Ie:()=>s.Ie,eu:()=>g,Tv:()=>s.Tv,a0:()=>f,u7:()=>s.u7,DX:()=>v.DX,NK:()=>s.NK,tv:()=>o.tv,PF:()=>o.PF,Sq:()=>r.Sq,cR:()=>s.cR,Ld:()=>s.Ld,vp:()=>s.vp,fu:()=>m,UB:()=>o.UB,v$:()=>s.v$,m4:()=>A.m4,AK:()=>y});var o=n(79089),r=n(62214),s=n(86525),i=n(77312),a=n(24896);function c(e){return e.isOutgoing?e.reactions?.recentReactions?.[0]:void 0}function d(e,t){const{currentUserId:n}=e;return t?.recentReactions?.some(({isUnread:e,isOwn:t,peerId:o})=>e&&!t&&n!==o)}function u(e){return!e.results.some(({count:e,localAmount:t})=>e||t)}function l(e){switch(e.type){case"emoji":return`emoji-${e.emoticon}`;case"custom":return`document-${e.documentId}`;case"paid":return"paid";default:return`unsupported-${e.emoticon||e.documentId}`}}function f(e,t){return e===t||!(!e||!t)&&l(e)===l(t)}function h(e,t){return"all"===t.type?"emoji"===e.type||t.areCustomAllowed:"some"===t.type&&t.allowed.some(t=>f(t,e))}function m(e,t){return e.slice().sort((e,n)=>{const o=e?"reaction"in e?e.reaction:e:void 0,r=n?"reaction"in n?n.reaction:n:void 0;if("paid"===o?.type)return-1;if("paid"===r?.type)return 1;const s=t?.findIndex(e=>f(e,o))||0,i=t?.findIndex(e=>f(e,r))||0;return(s>-1?s:1/0)-(i>-1?i:1/0)})}function p(e){return e.reactions?.results?.filter(e=>g(e)).sort((e,t)=>e.chosenOrder-t.chosenOrder).map(e=>e.reaction)||[]}function g(e){return void 0!==e.chosenOrder}function y(e,t){const n=e.map(e=>g(e)?{...e,chosenOrder:void 0,count:e.count-1}:e).filter(({count:e})=>e>0);return t.forEach((e,t)=>{const o=n.findIndex(t=>f(t.reaction,e));o>-1?n[o]={...n[o],chosenOrder:t,count:n[o].count+1}:n.push({reaction:e,chosenOrder:t,count:1})}),n}function b(e,t,n,o){const r=[];return e.some(e=>"paid"===e.reaction.type)?(e.forEach(e=>{"paid"!==e.reaction.type?r.push(e):r.push({...e,localAmount:(e.localAmount||0)+t,chosenOrder:-1,localIsPrivate:void 0!==n?n:e.localIsPrivate,localPeerId:o||e.localPeerId,localPreviousChosenOrder:e.chosenOrder})}),r):[{reaction:{type:"paid"},count:0,chosenOrder:-1,localAmount:t,localIsPrivate:n,localPeerId:o},...e]}var v=n(20179);const w=480;function I(e,t="preview",n){const o=e.content.video,r=e.content.photo;if(o){if(n&&!o.altVideos)return;const e=n?o.altVideos.reduce((e,t)=>Math.abs((t.width||0)-w)<Math.abs((e.width||0)-w)?t:e):o;return(0,i.sC)(e,t)}if(r)return(0,i.rI)(r,t)}function C(e,t){return`story${e}-${t}`}var A=n(78396),S=n(48899),k=n(87894),P=n(43336),T=n(4350),M=n(13235),E=n(13439);function N(e,{visibility:t,isUnspecified:n,allowedIds:o,blockedIds:r,shouldAllowPremium:s,botsPrivacy:i}){const{users:{byId:a},chats:{byId:c}}=e,[d,u]=(0,k.jB)(o,S.L8),[l,f]=(0,k.jB)(r,S.L8);return{visibility:t,isUnspecified:n,allowedUsers:d.map(e=>a[e]).filter(Boolean),allowedChats:u.map(e=>c[e]).filter(Boolean),blockedUsers:l.map(e=>a[e]).filter(Boolean),blockedChats:f.map(e=>c[e]).filter(Boolean),shouldAllowPremium:s,botsPrivacy:i}}function L(){const e=(0,E.mS)(),t=e.appConfig.limits?.moreAccounts||M.dR.moreAccounts,n=(0,T.zk)(),o=Object.values(n).filter(e=>e.isPremium).length,r=t[0]+o;return(0,P.qE)(r,t[0],t[1])}function B(){return Object.values((0,T.zk)()).filter(e=>!e.isTest).length}},91048:(e,t,n)=>{n.d(t,{yMZ:()=>d.yM,SpN:()=>u.Sp,bdt:()=>A,yuw:()=>u.yu,B59:()=>K.B5,ES7:()=>U,WAX:()=>u.WA,oei:()=>G.oe,Nr8:()=>G.Nr,tKM:()=>G.tK,bE$:()=>d.bE,XD6:()=>d.XD,yps:()=>f.yp,XOs:()=>f.XO,PKK:()=>B,MBp:()=>F,Rwe:()=>x,wwb:()=>u.ww,OEt:()=>E,jyG:()=>u.jy,DBV:()=>u.DB,ori:()=>u.or,R4s:()=>u.R4,Y8y:()=>u.Y8,X2D:()=>J.X2,hXb:()=>d.hX,e5V:()=>p,BWX:()=>L,tOf:()=>u.tO,mDG:()=>u.mD,RBq:()=>u.RB,Ntz:()=>W.Nt,w5O:()=>d.w5,jGY:()=>d.jG,S86:()=>u.S8,ySL:()=>J.yS,ERc:()=>K.ER,rtZ:()=>K.rt,hds:()=>d.hd,qn$:()=>d.qn,$aQ:()=>d.$,AWZ:()=>d.AW,yHC:()=>d.yH,ZZX:()=>d.ZZ,$TA:()=>d.$T,P4G:()=>d.P4,O5q:()=>u.O5,zeq:()=>u.ze,ToO:()=>d.To,yFI:()=>u.yF,RnX:()=>u.Rn,dfQ:()=>d.df,Egn:()=>u.Eg,meB:()=>u.me,CuV:()=>Y.Cu,Wy7:()=>G.Wy,xT4:()=>z,vn8:()=>m,vRX:()=>u.vR,Xf0:()=>u.Xf,TCk:()=>Y.TC,BU_:()=>Y.BU,BmE:()=>G.Bm,V9I:()=>H.V9,O8F:()=>G.O8,r8w:()=>G.r8,oZ0:()=>G.oZ,nTJ:()=>u.nT,GA4:()=>u.GA,U0A:()=>u.U0,Ys6:()=>u.Ys,KLw:()=>u.KL,dkp:()=>u.dk,VlN:()=>u.Vl,dU3:()=>u.dU,RjD:()=>u.Rj,kdX:()=>u.kd,VC8:()=>u.VC,Szq:()=>u.Sz,DI:()=>u.DI,lC:()=>u.lC,k9R:()=>u.k9,w0X:()=>K.w0,t0O:()=>G.t0,WLj:()=>G.WL,OD9:()=>G.OD,h5w:()=>u.h5,o45:()=>u.o4,CzR:()=>G.Cz,I_m:()=>d.I_,mJZ:()=>d.mJ,D3D:()=>d.D3,ryq:()=>u.ry,_ls:()=>d._l,ALW:()=>d.AL,nZ4:()=>d.nZ,cwE:()=>D,trm:()=>f.tr,g29:()=>f.g2,SLS:()=>u.SL,sRo:()=>k,clw:()=>S,p5z:()=>u.p5,hc:()=>f.hc,rTV:()=>u.rT,F4N:()=>b,nJv:()=>u.nJ,fo$:()=>u.fo,ynf:()=>u.yn,H1_:()=>u.H1,Jbz:()=>u.Jb,ODG:()=>d.OD,n_C:()=>f.n_,Ani:()=>P,gjV:()=>w,dqr:()=>d.dq,Q31:()=>G.Q3,gd2:()=>H.gd,nIz:()=>O,nTL:()=>d.nT,apd:()=>f.ap,haw:()=>u.h,wmb:()=>W.wm,rKQ:()=>u.rK,xzS:()=>u.xz,gCU:()=>u.gC,YK:()=>h,cO5:()=>u.cO,S1W:()=>u.S1,D_S:()=>u.D_,OEv:()=>u.OE,g5w:()=>u.g5,a_$:()=>u.a_,k2W:()=>d.k2,BSN:()=>W.BS,tVS:()=>u.tV,rQx:()=>u.rQ,Iv$:()=>W.Iv,K52:()=>W.K5,P5N:()=>W.P5,Tl2:()=>u.Tl,Lzh:()=>u.Lz,JiE:()=>u.Ji,aF2:()=>K.aF,PGw:()=>K.PG,PVB:()=>J.PV,HS0:()=>J.HS,dNJ:()=>H.dN,_$$:()=>H._$,kBv:()=>d.kB,c7s:()=>J.c7,WA9:()=>J.WA,IVq:()=>J.IV,Vi6:()=>_,FDg:()=>J.FD,_bp:()=>H._b,Msb:()=>H.Ms,Cw0:()=>T,xYJ:()=>M,fcC:()=>u.fc,gVx:()=>H.gV,KQQ:()=>u.KQ,zcZ:()=>u.zc,Kt9:()=>K.Kt,EGt:()=>K.EG,N1i:()=>u.N1,EHH:()=>u.EH,Vz3:()=>u.Vz,gMr:()=>u.gM,jp_:()=>u.jp,qZq:()=>d.qZ,sam:()=>d.s,p6T:()=>d.p6,Rny:()=>u.iL,GHK:()=>G.GH,t75:()=>v,QP5:()=>u.QP,K3w:()=>u.K3,Jl6:()=>u.Jl,j_4:()=>u.j_,ZZ2:()=>u.ZZ,VF$:()=>d.VF,Y7C:()=>u.Y7,HdA:()=>u.Hd,LM$:()=>u.LM,eCL:()=>W.eC,LRV:()=>d.LR,KIM:()=>W.KI,ML4:()=>N,N_N:()=>V,PIP:()=>u.PI,AOG:()=>d.AO,dg4:()=>d.dg,G4m:()=>K.G4,v8U:()=>u.v8,h9Q:()=>K.h9,Osl:()=>K.Os,gqw:()=>y,ycM:()=>G.yc,wg6:()=>G.wg,R3Q:()=>H.R3,e7$:()=>K.e7,ke9:()=>d.ke,C0i:()=>j,nTw:()=>l.n,SJA:()=>I,Gyz:()=>C,$jd:()=>u.$j,Tac:()=>u.T,L_2:()=>u.L_,Vw0:()=>u.Vw,QbG:()=>u.Qb,C5H:()=>u.C5,Bde:()=>K.Bd,S0q:()=>q.S0,nkm:()=>u.nk,sZk:()=>u.sZ,pSx:()=>q.pS,xyP:()=>q.xy,Qq_:()=>W.Qq,ldX:()=>u.ld,mBe:()=>f.mB,gTO:()=>f.gT,Ua4:()=>f.U,vGo:()=>f.vG,K0y:()=>f.K0,rA3:()=>u.rA,NHc:()=>u.NH,wtp:()=>R,kgA:()=>u.kg,Pn$:()=>u.Pn});var o=n(89925),r=n(96454),s=n(14487),i=n(77312),a=n(48899),c=n(90709),d=n(21133),u=n(19408),l=n(5056),f=n(19926);function h(e,t,...[n=(0,s.g0)()]){return(0,l.n)(e,n).management.byChatId[t]}function m(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:o}=(0,u.Xf)(e,t)||{};if(!n||!o)return;if((0,f.yp)(e,n))return"bot";if((0,a.L8)(n))return"user";const r=(0,d.hd)(e,n);return r?(0,c.YE)(r)?"group":"channel":void 0}function p(e,t){const n=(0,d.hd)(e,t),o=(0,d._l)(e,t);if(!n||o||n.isMonoforum)return!1;const r=(0,a.L8)(n.id)?(0,f.mB)(e,t):void 0,s=r&&(0,c.Gh)(r),i=r&&(0,c.tv)(r);return Boolean(!s&&n&&!(0,d.nZ)(e,n.id)&&!(0,c.Qe)(n.id)&&((0,a.L8)(n.id)||((0,c.SJ)(n)||n.isCreator)&&!n.isNotJoined)&&!i)}var g=n(30708);function y(e,t,...[n=(0,s.g0)()]){return(0,l.n)(e,n).statistics.byChatId[t]}function b(e,...[t=(0,s.g0)()]){const{mediaViewer:{chatId:n,messageId:o,isAvatarView:r,standaloneMedia:i,isSponsoredMessage:a}}=(0,l.n)(e,t);return Boolean(i||n&&(r||o||a))}function v(e,t,...[n=(0,s.g0)()]){const r=(0,l.n)(e,n);return r.editTopicPanel?o.Ul.EditTopic:r.createTopicPanel?o.Ul.CreateTopic:r.pollResults.messageId?o.Ul.PollResults:function(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:o}=(0,u.Xf)(e,t)||{};if(!n||!o)return;const r=(0,l.n)(e,t).management.byChatId[n];return r?.isActive?r:void 0}(e,n)?o.Ul.Management:r.isStatisticsShown&&r.statistics.currentMessageId?o.Ul.MessageStatistics:r.isStatisticsShown&&r.statistics.currentStoryId?o.Ul.StoryStatistics:function(e,...[t=(0,s.g0)()]){if(!(0,l.n)(e,t).isStatisticsShown)return!1;const{chatId:n}=(0,u.Xf)(e,t)||{};return n?(0,d.AW)(e,n)?.canViewStatistics:void 0}(e,n)?o.Ul.Statistics:r.boostStatistics?o.Ul.BoostStatistics:r.monetizationStatistics?o.Ul.MonetizationStatistics:void 0!==r.stickerSearch.query?o.Ul.StickerSearch:void 0!==r.gifSearch.query?o.Ul.GifSearch:r.newChatMembersProgress!==o.D7.Closed?o.Ul.AddingMembers:r.chatInfo.isOpen&&r.messageLists.length?o.Ul.ChatInfo:void 0}function w(e,t,...[n=(0,s.g0)()]){return void 0!==v(e,0,n)}function I(e){return(0,g.lS)(e).theme}function C(e,t){return e.settings.themes[t]}function A(e){const t=I(e);return e.settings.themes[t]?.patternColor}function S(e,...[t=(0,s.g0)()]){const n=(0,l.n)(e,t);return Boolean(n.forumPanelChatId)&&(void 0===n.globalSearch.query||Boolean(n.globalSearch.isClosing))}function k(e,...[t=(0,s.g0)()]){return!S(e,t)}function P(e,...[t=(0,s.g0)()]){const{reactionPicker:n}=(0,l.n)(e,t);return Boolean(n?.position)}function T(e){return(0,g.lS)(e).performance}function M(e,t){return T(e)[t]}function E(e,t){const n=(0,u.Pn)(e,t),o=(0,i.zX)(t)||(0,i.rU)(n);if(!o)return;const r=M(e,"autoplayVideos"),s=M(e,"autoplayGifs"),a=o.isGif||o.isRound;return r&&!a||s&&a}function N(e){return M(e,"loopAnimatedStickers")}function L(e){return M(e,"animatedEmoji")}function B(e){return M(e,"pageTransitions")}function F(e){return M(e,"rightColumnAnimations")}function x(e){return r.bW&&M(e,"snapEffect")}function D(e){return M(e,"contextMenuBlur")}function O(e){return e.isSynced}function R(e,t,...[n=(0,s.g0)()]){return(0,l.n)(e,n).webApps.openedWebApps[t]}function U(e,...[t=(0,s.g0)()]){const n=(0,l.n)(e,t).webApps.activeWebAppKey;if(n)return R(e,n,t)}function _(e,t){const n="isCustomPeer"in t,o=n?t.peerColorId:void 0,r=n?void 0:t.profileColor;if("collectible"===r?.type)return;const s=r?.color??o;return void 0!==s?e.peerColors?.profile?.[s]:void 0}function $(e,...[t=(0,s.g0)()]){const n=(0,l.n)(e,t),o=n.giftModal?.selectedGift,r=o&&"id"in o&&"starGift"===o.type&&o.isAuction?o.id:void 0;return n.giftAuctionModal?.auctionGiftId||n.giftAuctionBidModal?.auctionGiftId||n.giftAuctionInfoModal?.auctionGiftId||r}function j(e,...[t=(0,s.g0)()]){const n=$(e,t);return n?e.giftAuctionByGiftId?.[n]:void 0}function V(e,t){return!function(e,t){return Object.keys(e.byTabId).some(n=>$(e,Number(n))===t)}(e,t)}function z(e,...[t=(0,s.g0)()]){return(0,l.n)(e,t).globalSearch.query}var Y=n(94137),G=n(30163),K=n(55475),W=n(30757),H=n(1903),J=n(46211),q=n(88368)},91525:(e,t,n)=>{function o(e){const{fileName:t,mimeType:n}=e;return r(t,n)}function r(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function s(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function i(e){return Boolean(e.previewBlobUrl||e.thumbnail)}n.d(t,{ON:()=>i,QC:()=>r,fE:()=>s,rK:()=>o})},91800:(e,t,n)=>{function o(e){const t=parseInt(getComputedStyle(e).lineHeight,10);return{totalLines:e.scrollHeight/t,lineHeight:t}}n.d(t,{A:()=>o})},93545:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(84051),r=n(46536),s=n(41257);const i=new Map;function a(e,t,n=!1){const a=(0,s.i)(t);(0,o.vJ)(()=>{const t=e?.current;if(!t||n)return;const o=([e])=>{0===e.contentRect.width&&0===e.contentRect.height||a.current(e)};let[s,c]=i.get(t)||[void 0,void 0];return s||(c=(0,r.h)(),s=new ResizeObserver(c.runCallbacks),i.set(t,[s,c]),s.observe(t)),c.addCallback(o),()=>{c.removeCallback(o),c.hasCallbacks()||(s.unobserve(t),s.disconnect(),i.delete(t))}},[n,a,e])}},93855:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(84051),r=n(13439),s=n(31481),i=n(90709),a=n(91048),c=n(87679),d=n(24909),u=n(4350),l=n(63527),f=n(32625),h=n(17712),m=n(62587),p=n(672);const g=1e3,y=6e4,b=72;function v(e){const t=Boolean(e)&&(0,r.mS)().auth.rememberMe,n=(0,l.A)(a.nIz),[v,w]=(0,o.J0)(()=>(0,u.zk)()),I=e&&(0,i.cP)(e),C=(0,m.A)(I,!t),A=(0,p.A)(()=>{w((0,u.zk)())},[],g);(0,o.vJ)(()=>{if(!t||!n)return;const o="regular"===e.color?.type?e.color.color:void 0;(0,u.Ph)(u.Xz,{userId:e.id,firstName:e.firstName,lastName:e.lastName,emojiStatusId:e.emojiStatus?.documentId,color:o,isPremium:e.isPremium,phone:e.phoneNumber}),A()},[t,e?.emojiStatus?.documentId,e?.firstName,e?.id,e?.lastName,e?.color,e?.isPremium,e?.phoneNumber,A,n]);const S=(0,h.A)(async(e,t)=>{const n=await(0,d.y)(e,b,b),o=await(0,c.NN)(n);if(t?.aborted)return;const r=document.createElement("canvas"),s=r.getContext("2d");r.width=o.width,r.height=o.height,s.drawImage(o,0,0);const i=r.toDataURL("image/png");(0,u.Ph)(u.Xz,{avatarUri:i}),A()});return(0,o.vJ)(()=>{if(!C||!t||!n)return;const e=new AbortController;return S(C,e.signal),()=>{e.abort()}},[C,n,t]),(0,f.A)(A,y),(0,o.vJ)(()=>{function e(e){e.key?.startsWith(s.um6)&&A()}return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[A]),v}},94137:(e,t,n)=>{n.d(t,{BU:()=>c,Cu:()=>d,TC:()=>a,f5:()=>u});var o=n(14487),r=n(24896),s=n(19408),i=n(5056);function a(e,...[t=(0,o.g0)()]){const{chatId:n,threadId:a}=(0,s.Xf)(e,t)||{};if(!n||!a)return;const c=(0,r.W)(n,a);return(0,i.n)(e,t).middleSearch.byChatThreadKey[c]}function c(e,...[t=(0,o.g0)()]){const{chatId:n,threadId:a}=(0,s.Xf)(e,t)||{};if(!n||!a)return;const c=(0,r.W)(n,a);return(0,i.n)(e,t).sharedMediaSearch.byChatThreadKey[c]}function d(e,...[t=(0,o.g0)()]){const{chatId:n,threadId:a}=(0,s.Xf)(e,t)||{};if(!n||!a)return;const c=(0,r.W)(n,a);return(0,i.n)(e,t).chatMediaSearch.byChatThreadKey[c]}function u(e,t,n,...[s=(0,o.g0)()]){if(!t||!n)return;const a=(0,r.W)(t,n);return(0,i.n)(e,s).chatMediaSearch.byChatThreadKey[a]}},94519:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(84051),r=n(43336),s=n(16460),i=n(17712),a=n(93545),c=n(46637),d=n(672);const u=150;function l(e,t){const[n,l]=(0,o.J0)(),[f,h]=(0,o.J0)(),m=(0,i.A)(()=>{const n=e.current,o=t?.current;if(!n||!o)return;if(!o.offsetWidth||!o.offsetHeight)return;const i=n.classList.contains("sticker-set-cover")||n.classList.contains("sticker-reaction")?n:n.querySelector("img");if(!i)return;const{left:a,top:c}=(0,s.A)(i,o.parentElement),{left:d,top:u}=(0,s.A)(o,o.parentElement),f=a-d,m=c-u;l((0,r.LI)(f/o.clientWidth,4)||0),h((0,r.LI)(m/o.clientHeight,4)||0)});(0,o.vJ)(m,[m]);const p=(0,d.A)(m,[m],u);return(0,a.A)(t,p),(0,c.A)(t,p),(0,o.Kr)(()=>void 0!==n&&void 0!==f?{x:n,y:f}:void 0,[n,f])}},95175:(e,t,n)=>{n.d(t,{K:()=>a});var o=n(87894);const r=Symbol("EQUAL"),s={__delete:!0},i={__deleteAllChildren:!0};function a(e,t){if(e===t)return r;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(c=t,(n=e).length===c.length&&n.every((e,t)=>a(e,c[t])===r)))return r;var n,c;if(!(0,o.Vh)(e)||!(0,o.Vh)(t))return t;const d=e,u=t,l=Object.keys(d),f=Object.keys(u);if(!f.length)return l.length?i:r;const h=(0,o.Am)(l.concat(f)).reduce((e,t)=>{const n=d[t],o=u[t];if(!u.hasOwnProperty(t))return e[t]=s,e;if(!d.hasOwnProperty(t))return e[t]=o,e;const i=a(n,o);return i!==r&&(e[t]=i),e},{});return 0===Object.keys(h).length?r:h}},95753:(e,t,n)=>{n.d(t,{Bx:()=>m,FC:()=>h,_B:()=>l,gt:()=>c,lc:()=>u,oe:()=>a,rm:()=>d,xG:()=>f});var o=n(14487),r=n(87894),s=n(91048),i=n(32989);function a(e,t,n,o,r){const i=(0,s.a_$)(e,t,o);return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...e.translations.byChatId[t],byLangCode:{...e.translations.byChatId[t]?.byLangCode,[o]:{...i,[n]:{...i[n],...r}}}}}}}}function c(e,t,n){const o=e.translations.byChatId[t];if(!o)return e;const{byLangCode:s}=o,i=Object.keys(s).reduce((e,t)=>{const o=(0,r.cJ)(s[t],[n]);return Object.keys(o).length&&(e[t]=o),e},{});return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...o,byLangCode:i}}}}}function d(e,t,n,o,r){return n.forEach((n,s)=>{e=a(e,t,n,o,{text:r[s],isPending:!1})}),e}function u(e,t,n,...[r=(0,o.g0)()]){const a=(0,s.nTw)(e,r);return(0,i.w)(e,{requestedTranslations:{...a.requestedTranslations,byChatId:{...a.requestedTranslations.byChatId,[t]:{toLanguage:n}}}},r)}function l(e,t,n,r,...[a=(0,o.g0)()]){const c=(0,s.nTw)(e,a);return(0,i.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:{...c.requestedTranslations.byChatId[t]?.manualMessages,[n]:r}}}}},a)}function f(e,t,n,...[a=(0,o.g0)()]){const c=(0,s.nTw)(e,a),d=c.requestedTranslations.byChatId[t]?.manualMessages;if(!d)return e;const u=(0,r.cJ)(d,[n]);return(0,i.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:u}}}},a)}function h(e,t,n,o,r){if(r)return a(e,t,n,r,{summary:o});const s=e.messages.byChatId[t]?.summaryById;return p(e,t,{...s,[n]:o})}function m(e,t,n){const o=e.messages.byChatId[t]?.summaryById;return o?p(e,t,(0,r.cJ)(o,[n])):e}function p(e,t,n){return e.messages.byChatId[t]?{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...e.messages.byChatId[t],summaryById:n}}}}:e}},95807:(e,t,n)=>{function o(...e){return e.filter(Boolean).join(";")}n.d(t,{A:()=>o})},96454:(e,t,n)=>{n.d(t,{$M:()=>m,Aw:()=>s,Bu:()=>W,CM:()=>$,DL:()=>z,Fy:()=>R,H$:()=>K,H8:()=>a,J6:()=>E,MP:()=>i,Nd:()=>h,Ni:()=>u,OF:()=>F,OL:()=>M,OS:()=>_,Oo:()=>k,QH:()=>P,SC:()=>T,So:()=>x,TF:()=>b,TL:()=>w,Tz:()=>I,Uz:()=>S,Yw:()=>f,_7:()=>g,bW:()=>N,et:()=>Y,ig:()=>c,ir:()=>V,kn:()=>G,l5:()=>D,lE:()=>y,nB:()=>U,ol:()=>O,pW:()=>v,pz:()=>d,uH:()=>L,w3:()=>p,yS:()=>l,zf:()=>j});var o=n(31481),r=n(63495);window.location.host,o.mFn;const s=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),i="macOS"===s,a="Windows"===s,c="Linux"===s,d="iOS"===s,u="Android"===s,l=d||u,f=!(navigator.userAgentData?.brands.some(e=>"Chromium"===e.brand)||/Chrom(e|ium)\//.test(navigator.userAgent))&&/applewebkit/i.test(navigator.userAgent),h=navigator.userAgent.includes("YaBrowser"),m=navigator.userAgent.toLowerCase().includes("firefox")||navigator.userAgent.toLowerCase().includes("iceweasel")||navigator.userAgent.toLowerCase().includes("icecat"),p={Main:0,Auxiliary:1,Secondary:2,Fourth:3,Fifth:4},g=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),y=g||r.Vq,b=window.matchMedia("(pointer: coarse)").matches,v=Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext)),w=s&&(i||d)&&function(){const e=document.createElement("span");e.classList.add("emoji-test-element"),document.body.appendChild(e),e.innerText="ðŸ‡¨ðŸ‡¶";const t=e.offsetWidth;e.innerText="â¤ï¸";const n=e.offsetWidth;return document.body.removeChild(e),Math.abs(t-n)<5}(),I="serviceWorker"in navigator,C=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2],A=C&&132===Number(C),S=I&&!A,k=Boolean((new Audio).canPlayType("audio/ogg; codecs=opus")),P=!o.W75&&"filter"in(document.createElement("canvas").getContext("2d")||{}),T="requestFullscreen"in document.createElement("div"),M=!0,E=!l&&!m&&!f,N=!l&&!m&&!f,L=!m,B=document.createElement("video"),F=Boolean(B.canPlayType('video/webm; codecs="vp9"').replace("no","")),x=!0,D=Boolean(navigator.storage?.getDirectory);D&&(async()=>{try{const e=await navigator.storage.getDirectory();await e.removeEntry("downloads",{recursive:!0})}catch{}})();const O=CSS.supports("offset-rotate: 0deg"),R=CSS.supports("backdrop-filter: blur()")||CSS.supports("-webkit-backdrop-filter: blur()"),U="onbeforeinstallprompt"in window,_=!(g&&l),$=!o.W75,j="LanguageDetector"in window,V=CSS.supports("view-transition-class: test")&&!m,z=navigator.credentials&&window.PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential,Y=750,G=((()=>{const e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`)})(),1048576*(l?512:2e3)),K="geolocation"in navigator,W=async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});if("granted"===e.state||"prompt"===e.state)return{accessRequested:!0,accessGranted:!0,geolocation:await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})};if("denied"===e.state)return{accessRequested:!0,accessGranted:!1}}catch(e){return{accessRequested:!1,accessGranted:!1}}return{accessRequested:!1,accessGranted:!1}}},96530:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(87357),r=n(17712);var s=n(20021);const i=({children:e,isPrimary:t,className:n,isRtl:i,withMultilineFix:a,onClick:c})=>{const d=(0,r.A)(e=>{e.preventDefault(),c(e)});return(0,s.Y)("a",{href:"#",className:(0,o.A)("Link","swBnOk1h",n,t&&"Jz1SC8nz"),dir:a?void 0:i?"rtl":"auto",onClick:c?d:void 0,children:e})}},96773:(e,t,n)=>{n.d(t,{A:()=>M});var o=n(84051),r=n(13439),s=n(31481),i=n(90709),a=n(70636),c=n(26129),d=n(91048),u=n(24585),l=n(17663),f=n(17142),h=n(48775);function m(e,t){const n=t.map((e,t)=>`$PLACEHOLDER-${t}`),o=e.internalFormatters.conjunction.formatToParts(n),r=[];return o.forEach(e=>{if("literal"===e.type)return void r.push(e.value);const n=Number(e.value.slice(13));r.push(t[n])}),r}var p=n(80140),g=n(4961),y=n(18501),b=n(4262),v=n(39351),w=n(17712),I=n(59030),C=n(87412),A=n(76471),S=n(96530),k=n(50805),P=n(20021);const T="ActionUnsupported",M=(0,o.ph)((0,r.EK)((e,{message:t})=>{const n=(0,d.hds)(e,t.chatId),o=(0,d.Y7C)(e,t),{replyToMsgId:r,replyToPeerId:s}=(0,c.Q)(t)||{},i=r?(0,d.O5q)(e,s||t.chatId,r):void 0;return{currentUserId:e.currentUserId,replyMessage:i,chat:n,sender:o}})(({message:e,currentUserId:t,sender:n,chat:o,replyMessage:c,isInsideTopic:M,asPreview:E})=>{const{openTelegramLink:N,openUrl:L}=(0,r.ko)(),{chatId:B,isOutgoing:F}=e,x=e.content.action,D=(0,v.A)(),O=(0,I.A)();function R(e){return E?e:(0,P.Y)("span",{className:k.A.strong,children:e})}return(0,w.A)(()=>{const v=(0,r.mS)(),w=B===s.zv8,I=B===t,k=o&&(0,i.WX)(o),U=n&&(0,a.F9)(D,n),_=o&&(0,a.F9)(D,o),$=D("ActionFallbackUser"),j=D("ActionFallbackChat"),V=D("ActionFallbackChannel"),z=(0,b.Nm)(n?.id,U||$,E),Y=(0,b.Nm)(o?.id,_||j,E);switch(x.type){case"pinMessage":if(c){const e=(0,i.BN)(D,c);if(e){const t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(D,"ActionPinnedText",F,{text:t,from:z})}const t=(0,b.I$)(D,c);if(t){const e=(0,b.sB)(c,t,E);return(0,b.AD)(D,"ActionPinnedMedia",F,{from:z,media:e})}}return(0,b.AD)(D,"ActionPinnedNotFound",F,{from:z});case"gameScore":{const{score:e}=x,t=c?.content.game?.title,n=t&&(0,b.sB)(c,(0,g.A)(t),E);return n?(0,b.AD)(D,"ActionGameScore",F,{from:z,count:e,game:n},{pluralValue:e}):(0,b.AD)(D,"ActionGameScoreNoGame",F,{from:z,count:e},{pluralValue:e})}case"chatJoinedByLink":return D("ActionUserJoinedByLink",{from:z},{withNodes:!0});case"chatJoinedByRequest":return(0,b.AD)(D,"ActionJoinedByRequest",F,{from:z});case"channelJoined":{const{isViaRequest:e,inviterId:n}=x,o=n?(0,d.PVB)(v,n):void 0;if(o&&n!==t){const e=(0,b.Nm)(n,(0,a.F9)(D,o)||$,E);return D("ActionAddYou",{from:e},{withNodes:!0})}return D(e?"ActionChannelJoinedByRequestChannelYou":"ActionChannelJoinedYou")}case"chatEditTitle":{const{title:e}=x;return k?D("ActionChangedTitleChannel",{title:e}):(0,b.AD)(D,"ActionChangedTitle",F,{title:e,from:z})}case"chatDeletePhoto":return k?D("ActionRemovedPhotoChannel"):(0,b.AD)(D,"ActionRemovedPhoto",F,{from:z});case"chatEditPhoto":return k?D("ActionChangedPhotoChannel"):(0,b.AD)(D,"ActionChangedPhoto",F,{from:z});case"chatCreate":{const{title:e}=x;return D("ActionCreatedChat",{title:e,from:z},{withNodes:!0})}case"channelCreate":{const{title:e}=x;return k?D("ActionCreatedChannel"):(0,b.AD)(D,"ActionCreatedChat",F,{title:e,from:z})}case"chatMigrateTo":{const{channelId:e}=x,t=(0,d.hds)(v,e),n=(0,b.Nm)(e,(0,a.F9)(D,t),E);return D("ActionMigratedTo",{chat:n},{withNodes:!0})}case"channelMigrateFrom":{const{chatId:e,title:t}=x,n=(0,b.Nm)(e,t||j,E);return D("ActionMigratedFrom",{chat:n},{withNodes:!0})}case"topicCreate":{const{title:t,iconColor:n,iconEmojiId:o}=x,r=(0,d.L_2)(v,e),s=(0,P.FD)(P.FK,{children:[o?(0,P.Y)(C.A,{documentId:o,isSelectable:!0}):(0,P.Y)(A.A,{topicId:r,title:t,iconColor:n}),"Â ",(0,g.A)(t)]}),i=(0,b.U5)(B,Number(r),s,E);return D("ActionTopicCreated",{topic:i},{withNodes:!0})}case"topicEdit":{const{iconEmojiId:t,isClosed:n,isHidden:o,title:r}=x,i=(0,d.L_2)(v,e),a=(0,d.S0q)(v,B,i),c=(0,P.FD)(P.FK,{children:[t&&"0"!==t?(0,P.Y)(C.A,{documentId:t,isSelectable:!0}):(0,P.Y)(A.A,{topicId:i,title:r||a?.title||D("ActionTopicPlaceholder"),iconColor:a?.iconColor}),i!==s.HxB&&"Â ",(0,g.A)(r||a?.title||D("ActionTopicPlaceholder"))]}),u=(0,b.U5)(B,Number(i),c,E),l=(0,b.U5)(B,Number(i),D("ActionTopicPlaceholder"),E);return void 0!==n?M?D(n?"ActionTopicClosedInside":"ActionTopicReopenedInside"):D(n?"ActionTopicClosed":"ActionTopicReopened",{from:z,topic:u},{withNodes:!0}):void 0!==o?M?D(o?"ActionTopicHiddenInside":"ActionTopicUnhiddenInside"):D(o?"ActionTopicHidden":"ActionTopicUnhidden",{topic:u},{withNodes:!0}):r&&t?D("ActionTopicIconAndRenamed",{from:z,link:l,topic:u},{withNodes:!0}):void 0===r?t&&"0"!==t?D("ActionTopicIconChanged",{from:z,link:l,emoji:(0,P.Y)(C.A,{documentId:t,loopLimit:2})},{withNodes:!0}):D("ActionTopicIconRemoved",{from:z,link:l},{withNodes:!0}):D("ActionTopicRenamed",{from:z,link:l,title:r},{withNodes:!0})}case"boostApply":return(0,b.AD)(D,"ActionBoostApply",F,{from:z,count:x.boosts},{pluralValue:x.boosts});case"chatAddUser":{const{userIds:e}=x;if(n?.id===e[0])return(0,b.AD)(D,"ActionUserJoined",F,{from:z});if(1===e.length){const t=(0,d.PVB)(v,e[0]),n=t&&(0,a.F9)(D,t)||$,o=(0,b.Nm)(t?.id,n,E);return(0,b.AD)(D,"ActionAddUser",F,{from:z,user:o})}const t=e.map(e=>(0,d.PVB)(v,e)).filter(Boolean);if(!t.length)return(0,b.AD)(D,"ActionAddUser",F,{from:z,user:$});const o=t.map(e=>(0,b.Nm)(e.id,(0,a.F9)(D,e)||$,E));return(0,b.AD)(D,"ActionAddUsersMany",F,{from:z,users:m(D,o)})}case"chatDeleteUser":{const{userId:e}=x;if(n?.id===e)return(0,b.AD)(D,"ActionUserLeft",F,{from:z});const t=(0,d.PVB)(v,e),o=t&&(0,a.F9)(D,t)||$,r=(0,b.Nm)(t?.id,o,E);return(0,b.AD)(D,"ActionKickUser",F,{from:z,user:r})}case"botAllowed":{const{app:e,domain:t,isAttachMenu:o,isFromRequest:r}=x;if(o)return D("ActionAttachMenuBotAllowed");if(r)return D("ActionWebappBotAllowed");if(e){const t=n&&(0,i.Kl)(n),o=t&&`${s.jsp+t}/${e.shortName}`,r=o?(0,P.Y)(S.A,{onClick:()=>N({url:o}),children:e.title}):D("ActionBotAppPlaceholder");return D("ActionBotAllowedFromApp",{app:r},{withNodes:!0})}if(!t)return D(T);const a=(0,u.Tc)(t),c=(0,P.Y)(S.A,{onClick:()=>L({url:a}),children:t});return D("ActionBotAllowedFromDomain",{domain:c},{withNodes:!0})}case"giveawayLaunch":{const{stars:e}=x;return e?D(k?"ActionGiveawayStarsStarted":"ActionGiveawayStarsStartedGroup",{from:z,amount:R((0,h.Kk)(D,e))},{withNodes:!0}):D(k?"ActionGiveawayStarted":"ActionGiveawayStartedGroup",{from:z},{withNodes:!0})}case"giveawayResults":{const{winnersCount:e,isStars:t,unclaimedCount:n}=x;return e?n?D(t?"ActionGiveawayResultsStarsSome":"ActionGiveawayResultsSome"):D(t?"ActionGiveawayResultsStars":"ActionGiveawayResults",{count:e},{pluralValue:e}):D("ActionGiveawayResultsNone")}case"giftStars":case"giftPremium":case"giftTon":{const{amount:e,currency:t,cryptoAmount:n,cryptoCurrency:o,type:r}=x,s=(0,f.vv)(D,e,t,{asFontIcon:!0}),i=n&&"giftTon"!==r?(0,f.vv)(D,n,o):void 0,a=i?D("ActionGiftCostCrypto",{price:s,cryptoPrice:i},{withNodes:!0}):s;return w?D("ActionGiftTextCostAnonymous",{cost:a},{withNodes:!0}):(0,b.AD)(D,"ActionGiftTextCost",F,{from:z,cost:R(a)})}case"prizeStars":case"giftCode":return(0,b.AD)(D,"ActionGiftTextUnknown",F,void 0);case"groupCall":{const{duration:e}=x,t=e?(0,l.A$)(D,e):void 0;return t?k?D("ActionGroupCallFinishedChannel",{duration:t}):D("ActionGroupCallFinishedGroup",{from:z,duration:t},{withNodes:!0}):k?D("ActionGroupCallStartedChannel"):D("ActionGroupCallStartedGroup",{from:z},{withNodes:!0})}case"groupCallScheduled":{const{scheduleDate:e}=x,t=(0,l.L2)(1e3*e,D.code,!0);return k?D("ActionGroupCallScheduledChannel",{date:t}):D("ActionGroupCallScheduledGroup",{from:z,date:t},{withNodes:!0})}case"inviteToGroupCall":{const{userIds:e}=x;if(1===e.length){const t=(0,d.PVB)(v,e[0]),n=t&&(0,a.F9)(D,t)||$,o=(0,b.Nm)(t?.id,n,E);return(0,b.AD)(D,"ActionVideoInvited",F,{from:z,user:o})}const t=e.map(e=>(0,d.PVB)(v,e)).filter(Boolean);if(!t.length)return(0,b.AD)(D,"ActionVideoInvited",F,{from:z,user:$});const n=t.map(e=>(0,b.Nm)(e.id,(0,a.F9)(D,e)||$,E));return(0,b.AD)(D,"ActionVideoInvitedMany",F,{from:z,users:m(D,n)})}case"paymentSent":{const{currency:e,totalAmount:t,isRecurringInit:n,isRecurringUsed:o}=x,r=R((0,f.vv)(D,t,e,{asFontIcon:!0})),s=c&&(0,i.NO)(c),a=s?.title;return o?D("ActionPaymentUsedRecurring",{amount:r},{withNodes:!0}):a?D(n?"ActionPaymentInitRecurringFor":"ActionPaymentDoneFor",{amount:r,user:Y,invoice:(0,b.sB)(c,a,E)},{withNodes:!0}):D(n?"ActionPaymentInitRecurring":"ActionPaymentDone",{amount:r,user:Y},{withNodes:!0})}case"paymentRefunded":{const{currency:e,totalAmount:t,peerId:n}=x,o=(0,d.PVB)(v,n),r=o&&(0,a.F9)(D,o)||$,s=(0,b.Nm)(o?.id,r,E),i=(0,f.vv)(D,t,e,{asFontIcon:!0});return D("ActionPaymentRefunded",{peer:s,amount:i},{withNodes:!0})}case"starGift":{const{gift:e,alreadyPaidUpgradeStars:o,peerId:r,savedId:s,fromId:i,isPrepaidUpgrade:c,isAuctionAcquired:u}=x,l=Boolean(r&&s),f=i?(0,d.PVB)(v,i):n,m=f&&(0,a.F9)(D,f)||$,p=(0,b.Nm)(f?.id,m,E),g=r?(0,d.PVB)(v,r):void 0,y=g&&(0,a.F9)(D,g)||(l?V:$),C=(0,b.Nm)(g?.id,y,E),A=e.stars+(o||0),S=R((0,h.Kk)(D,A));if(u)return D("ActionStarGiftAuctionWon",{cost:S},{withNodes:!0});if(c&&e.upgradeStars){const t=R((0,h.Kk)(D,e.upgradeStars));return(0,b.AD)(D,"ActionStarGiftPrepaidUpgrade",F,{peer:F?C:z,cost:t})}if(l){const e=(0,d.PVB)(v,r),n=f?.id===t,o=e&&(0,a.F9)(D,e)||V,s=(0,b.Nm)(r,o,E);return(0,b.AD)(D,"ActionStarGiftSentChannel",n,{user:p,channel:s,cost:S})}return w?D("ActionStarGiftReceivedAnonymous",{cost:S},{withNodes:!0}):I?D("ActionStarGiftSelfBought",{cost:S},{withNodes:!0}):F?D("ActionStarGiftSent",{cost:S},{withNodes:!0}):D("ActionStarGiftReceived",{user:z,cost:S},{withNodes:!0})}case"starGiftUnique":{const{isTransferred:e,isUpgrade:o,savedId:r,peerId:i,fromId:c,resaleAmount:u,gift:l,transferStars:f,isPrepaidUpgrade:m,isFromOffer:p}=x,g=Boolean(i&&r),y=c?(0,d.PVB)(v,c):n,w=y&&(0,a.F9)(D,y)||$,C=(0,b.Nm)(y?.id,w,E),A=i?(0,d.PVB)(v,i):void 0,S=A&&(0,a.F9)(D,A)||(g?V:$),k=(0,b.Nm)(A?.id,S,E);if(p&&u){const e=D("GiftUnique",{title:l.title,number:l.number}),t=(0,h.Qi)(D,u),n=E?t:R(t),o=E?e:R(e);return F?D("ActionStarGiftSoldFromOffer",{user:Y,gift:o,cost:n},{withNodes:!0}):D("ActionStarGiftBoughtFromOffer",{user:z,gift:o,cost:n},{withNodes:!0})}if(m)return F?D("ActionStarGiftPrepaidUpgradedYou"):D("ActionStarGiftPrepaidUpgraded",{user:k},{withNodes:!0});if(u&&!f){const e=(0,h.Qi)(D,u);return D(F?"ApiMessageMessageActionResaleStarGiftUniqueOutgoing":"ApiMessageMessageActionResaleStarGiftUniqueIncoming",{gift:D("GiftUnique",{title:l.title,number:l.number}),stars:R(e)},{withNodes:!0})}if(g){const n=(0,d.PVB)(v,i),r=y?.id===t,c=y?.id===s.zv8,u=n&&(0,a.F9)(D,n)||V,l=(0,b.Nm)(i,u,E);if(o)return(0,b.AD)(D,"ActionStarGiftUpgradedChannel",r,{user:C,channel:l});if(e)return c?D("ActionStarGiftTransferredUnknownChannel",{channel:l},{withNodes:!0}):(0,b.AD)(D,"ActionStarGiftTransferredChannel",r,{user:C,channel:l})}if(I){if(o)return D("ActionStarGiftUpgradedSelf");if(e)return D("ActionStarGiftTransferredSelf")}return o?F?D("ActionStarGiftUpgradedMine",{user:Y},{withNodes:!0}):I?D("ActionStarGiftUpgradedSelf"):D("ActionStarGiftUpgradedUser",{user:z},{withNodes:!0}):!e&&!f||u?F?D("ActionGiftUniqueSent"):D("ActionGiftUniqueReceived",{user:z},{withNodes:!0}):n?.id===s.zv8?D("ActionStarGiftTransferredUnknown"):I?D("ActionStarGiftTransferredSelf"):F?D("ActionStarGiftTransferredMine",{user:Y},{withNodes:!0}):D("ActionStarGiftTransferred",{user:z},{withNodes:!0})}case"suggestProfilePhoto":{const e=F?o:n,t=(0,b.Nm)(e.id,(0,a.F9)(D,e)||$,E);return(0,b.AD)(D,"ActionSuggestedPhoto",F,{user:t})}case"webViewDataSent":return D("ActionWebviewDataDone",{text:x.text});case"expired":{const{isRoundVideo:e,isVoice:t}=x;return D(t?"ActionExpiredVoice":e?"ActionExpiredVideo":T)}case"historyClear":return D("ActionHistoryCleared");case"screenshotTaken":return(0,b.AD)(D,"ActionScreenshotTaken",F,{from:z});case"contactSignUp":return D("ActionUserRegistered",{from:z},{withNodes:!0});case"customAction":return x.message;case"paidMessagesPrice":{const{stars:e,isAllowedInChannel:t}=x;return 0===e?k?D(t?"ActionMessageChannelFree":"ActionMessageChannelDisabled",{peer:Y},{withNodes:!0}):(0,b.AD)(D,"ActionPaidMessagePriceFree",F,{peer:z}):(0,b.AD)(D,"ActionPaidMessagePrice",F,{peer:z,amount:(0,h.Kk)(D,e)},{withMarkdown:!0})}case"paidMessagesRefunded":{const{stars:e}=x,t=(0,d.PVB)(v,B),n=t&&(0,a.F9)(D,t)||$;return D(F?"ApiMessageActionPaidMessagesRefundedOutgoing":"ApiMessageActionPaidMessagesRefundedIncoming",{stars:(0,h.Kk)(D,e),user:(0,b.Nm)(t?.id,n)},{withNodes:!0,withMarkdown:!0})}case"suggestedPostSuccess":{const{amount:e}=x,t=e?.currency||s.OUy,n=e?.amount||0,r=o?.isMonoforum?(0,d.k2W)(v,B):o,i=r&&(0,a.F9)(D,r),c=(0,b.Nm)(r?.id,i||V,E),u=t===s.ykW?(0,h.QH)(D,(0,f.wD)(n)):(0,h.Kk)(D,n);return D("ActionSuggestedPostSuccess",{channel:c,amount:u},{withNodes:!0})}case"suggestedPostRefund":{const{payerInitiated:e}=x,t=c?(0,d.Y7C)(v,c):n,r=t&&(0,a.F9)(D,t),i=(0,b.Nm)(t?.id,r||$,E),u=c?.suggestedPostInfo?.price,l=u?.currency||s.OUy,m=u?.amount||0,p=o?.isMonoforum?(0,d.k2W)(v,B):o,g=p&&(0,a.F9)(D,p),y=(0,b.Nm)(p?.id,g||V,E),w=l===s.ykW?(0,h.QH)(D,(0,f.wD)(m)):(0,h.Kk)(D,m);return e?D("SuggestedPostRefundedByUser",{amount:w,user:i,channel:y},{withNodes:!0,withMarkdown:!0}):D("SuggestedPostRefundedByChannel",{amount:w,peer:i,channel:y},{withNodes:!0,withMarkdown:!0})}case"suggestedPostApproval":{const{isRejected:e,isBalanceTooLow:t,rejectComment:r}=x;if(e)return(0,b.AD)(D,r?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",F,{peer:z},{withMarkdown:!0});if(t){const e=c?(0,d.Y7C)(v,c):n,t=e&&(0,a.F9)(D,e),o=(0,b.Nm)(e?.id,t||$,E),r=(c?.suggestedPostInfo?.price?.currency||s.OUy)===s.ykW?D("CurrencyTon"):D("CurrencyStars");return D("SuggestedPostBalanceTooLow",{peer:o,currency:r},{withNodes:!0,withMarkdown:!0})}const i=o?.isMonoforum?(0,d.k2W)(v,B):o,u=i&&(0,a.F9)(D,i),f=(0,b.Nm)(i?.id,u||V,E),{scheduleDate:h}=x;if(h){const e=(0,l.e0)(h,D,O),t=h<=(0,p.Fm)();return(0,b.AD)(D,t?"SuggestedPostPublished":"SuggestedPostPublishSchedule",F,{peer:f,date:e},{withMarkdown:!0})}return D(T)}case"todoCompletions":{const{completedIds:e,incompletedIds:t}=x;let n,o;const{todo:r}=c?(0,i.r_)(c):{};if(r){const s=r.todo.items;n=s.find(t=>e.includes(t.id)),o=s.find(e=>t.includes(e.id))}if(o){const e=o.title,t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(D,"MessageActionTodoCompletionsAsNotDone",F,{peer:z,task:t})}if(n){const e=n.title,t=(0,b.sB)(c,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),E);return(0,b.AD)(D,"MessageActionTodoCompletionsAsDone",F,{peer:z,task:t})}if(e){const t=D("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),n=(0,b.sB)(c,(0,y.fd)({text:t,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(D,"MessageActionTodoCompletionsAsDone",F,{peer:z,task:n})}const s=D("MessageActionTodoTaskCount",{count:t.length},{pluralValue:t.length}),a=(0,b.sB)(c,(0,y.fd)({text:s,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(D,"MessageActionTodoCompletionsAsNotDone",F,{peer:z,task:a})}case"todoAppendTasks":{const{items:e}=x,{todo:t}=c?(0,i.r_)(c):{},n=t?.todo.title.text||"",o=(0,b.sB)(c,(0,y.fd)({text:n,asPreview:!0}),E);if(1===e.length){const t=e[0].title,n=(0,b.sB)(c,(0,y.fd)({text:t.text,entities:t.entities,asPreview:!0}),E);return(0,b.AD)(D,"MessageActionAppendTodo",F,{peer:z,task:n,list:o})}const r=D("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),s=(0,b.sB)(c,(0,y.fd)({text:r,asPreview:!0}),E,{noEllipsis:!0});return(0,b.AD)(D,"MessageActionAppendTodoMultiple",F,{peer:z,tasks:s,list:o})}case"phoneCall":return D((0,b.fB)(x,F));case"starGiftPurchaseOffer":{const{gift:e,price:t}=x,r=F?o:n,s=r&&(0,a.F9)(D,r)||$,i=(0,b.Nm)(r?.id,s,E),c=D("GiftUnique",{title:e.title,number:e.number}),d=(0,h.Qi)(D,t),u=E?c:R(c),l=E?d:R(d);return D(F?"ActionStarGiftOfferOutgoing":"ActionStarGiftOfferIncoming",{peer:i,cost:l,gift:u},{withNodes:!0})}case"starGiftPurchaseOfferDeclined":{const{gift:e,price:t}=x,r=F?o:n,s=r&&(0,a.F9)(D,r)||$,i=(0,b.Nm)(r?.id,s,E),c=D("GiftUnique",{title:e.title,number:e.number}),d=(0,h.Qi)(D,t),u=E?c:R(c),l=E?d:R(d);return D(F?"ActionStarGiftOfferDeclinedOutgoing":"ActionStarGiftOfferDeclinedIncoming",{peer:i,gift:u,cost:l},{withNodes:!0})}default:return D(T)}})()}))},98255:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(37932),r=n(13439),s=n(22237),i=n(35297);const a=new Map;(0,o.DW)(e=>{for(const[t,{setter:n}]of a)n(t(e))});const c=function(e){let t=a.get(e);if(!t){const[n,o]=(0,s.n5)(e((0,r.mS)()));t={clientsCount:0,getter:n,setter:o},a.set(e,t)}return(0,i.A)(()=>{const t=a.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||a.delete(e)}},[e]),t.getter}},98607:(e,t,n)=>{function o(e,t,n){const o=e.split(t),[r,...s]=o;return s.reduce((e,t)=>e.concat(n,t),[r]).filter(Boolean)}function r(e,t,n){return"string"==typeof e?o(e,t,n):e&&Array.isArray(e)?e.flatMap(e=>"string"==typeof e?o(e,t,n):Array.isArray(e)?r(e,t,n):e):e}n.d(t,{i:()=>o,t:()=>r})},99375:(e,t,n)=>{n.d(t,{Ay:()=>a,Dd:()=>d,zr:()=>c});var o=n(31481);const r={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_GROUPED_INVALID:"Failed to replace album media",MEDIA_NEW_INVALID:"Failed to replace new media",MESSAGE_NOT_MODIFIED:"Message not modified. The new content is identical to the current one.",MEDIA_INVALID:"Media invalid",PASSWORD_HASH_INVALID:"Incorrect password",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",MESSAGE_TOO_LONG:"Message is too long",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Streaming media may not be supported. Try reloading the page without holding <Shift> key",MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided message is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You canâ€™t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group",SCHEDULE_DATE_INVALID:"Invalid schedule date provided",WALLPAPER_DIMENSIONS_INVALID:"The wallpaper dimensions are invalid, please select another file",ADMINS_TOO_MUCH:"There are too many admins",ADMIN_RANK_EMOJI_NOT_ALLOWED:"An admin rank cannot contain emojis",ADMIN_RANK_INVALID:"The specified admin rank is invalid",FRESH_CHANGE_ADMINS_FORBIDDEN:"You were just elected admin, you can't add or modify other admins yet",INPUT_USER_DEACTIVATED:"Can't do this action to a deleted account",BOT_PRECHECKOUT_TIMEOUT:"The request for payment has expired",PROVIDER_ACCOUNT_TIMEOUT:"Request to the payment provider has expired",STARGIFT_CONVERT_TOO_OLD:"This gift no longer can be converted to Stars",SUBSCRIPTION_ALREADY_ACTIVE:"You are already subscribed",PEERS_LIST_EMPTY:"No chats are added to the list",PAID_MEDIA_FORBIDDEN:"You can't send paid media in this chat",USER_DISALLOWED_STARGIFTS:"User is not accepting gifts"};o.Oig&&(r.CHAT_WRITE_FORBIDDEN="You can't write in this chat",r.CHAT_ADMIN_REQUIRED="You must be an admin in this chat to do this");const s={ADDRESS_STREET_LINE1_INVALID:{field:"streetLine1",message:"Incorrect street address"},ADDRESS_STREET_LINE2_INVALID:{field:"streetLine2",message:"Incorrect street address"},ADDRESS_CITY_INVALID:{field:"city",message:"Incorrect city"},ADDRESS_COUNTRY_INVALID:{field:"countryIso2",message:"Incorrect country"},ADDRESS_POSTCODE_INVALID:{field:"postCode",message:"Incorrect post code"},ADDRESS_STATE_INVALID:{field:"state",message:"Incorrect state"},REQ_INFO_NAME_INVALID:{field:"fullName",message:"Incorrect name"},REQ_INFO_PHONE_INVALID:{field:"phone",message:"Incorrect phone"},REQ_INFO_EMAIL_INVALID:{field:"email",message:"Incorrect email"}},i=new Set(["BOT_PRECHECKOUT_FAILED","PAYMENT_FAILED"]);function a(e){const{message:t,isSlowMode:n,textParams:o}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let s=r[t];return s&&o&&(s=Object.keys(o).reduce((e,t)=>e.replace(t,o[t]),s)),s}function c(e){return s[e.message]}function d(e){return i.has(e.message)}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,i.d(r,s),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((t,n)=>(i.f[n](e,t),t),[])),i.u=e=>e+"."+{21:"5bd8914f621ec63e450a",26:"76f2361f13e80829f3e6",46:"52a68cf61348fe4d78d5",59:"82b11f85080e3ddf5b44",61:"cea75de4f047f56d8eed",69:"8a3067612b45708a98b5",81:"126e8b82c436e2fa8999",90:"3aa5477fdca891669e95",103:"136c7239ed19bf28d20a",131:"c0c8d3a959551a5b26e5",194:"a4b8f06c0efa40b6d7fe",234:"07bd666887c6be00d0fc",304:"44ed9aefa26518155fa9",313:"3e34b0fbce2834d9a8c6",356:"049aa487ed19fe25dc03",373:"f254a8cf6ecd2a7087eb",387:"e6bc969f0e4934fba1b5",400:"3f1f6ab7d7f0b48a8a2b",405:"23323b779793d0fa336d",409:"1583dec73e15dfec0cb7",433:"5e860a82742ff2f49f6d",453:"cc90f026ad5ebd84a24f",482:"a3e28bb8966c71d3ad21",562:"4a60791be7885145d73c",564:"db6b7f155f613369b571",633:"d525342a2cb956f6e06d",676:"5208c83daaf7fbbacf7b",683:"3d334c3890f0f031e922",695:"b512017cd71c264a6cca",748:"ab78f0bbee302463b5de",768:"1c550f37040320384682",835:"6a48d5862d6cd39fab3a",947:"a5130f57ca0509f7578a",970:"b7bb26b278ff0adacc89",984:"633cbaae93fad10b0bbe",996:"529e17e673f250f457dd",1022:"4b283a7b87979a5d7fb7",1095:"23260e5ef59478a77312",1105:"bfa2ae181e9f7fd3db23",1164:"b5c2f1327dcb5933e6c6",1168:"976adc054e8a6d793f55",1215:"626763c9b9710d466edf",1348:"08ec26103276f3651b37",1387:"3d8710a87099ca8e41e9",1401:"0ee3811d896aa8ea1396",1465:"15f8819642c87b8a14ca",1516:"37a94fc864f008175d9a",1567:"e3562a0743f50e9ce94f",1575:"e650aa86604e413d0f4c",1586:"fb0fe4a07607c607dc80",1620:"c28856ded7f125a5e84e",1692:"647922194ef5957f4c0c",1700:"983781ccf447d0bab856",1775:"c0f91fd1f9d6312cecd9",1780:"3a628d8ac14ff3291da7",1877:"e8fbcff178ed55561388",1930:"54ddd27658b901de36fc",2057:"9a81bb76988c30809637",2158:"ab9ae7392d49f55ec03d",2164:"bd8c4ba51eba9cd908a1",2225:"0632b235f56391c3284a",2230:"b095ab584cf70564be8b",2263:"af36b683c22016f203bd",2394:"6428afac50505701e978",2448:"785ef0adc5fb10df4d42",2465:"eb298acd2db61d83bce1",2498:"87f1c36a730a25e0bd5c",2626:"aeed33c8d20eb8ed9db6",2651:"cb770253673d6937300a",2670:"cdaae7120c265beb8b63",2729:"f529ada2c3fc1d3b6745",2800:"d3a14f43b16bdcbb6eed",2801:"2aeac3bf23c88a8e3b81",2856:"c5c075612a310ec472fb",2857:"36632a5cbfc0a763048a",2859:"1e5edc4f00cf78dd1ad3",2916:"d4717b9ac028348123b8",2990:"004ad74ad9dcb6feb554",3080:"399d3137cec9a1784b7f",3218:"4f8687c36eb5b2595783",3272:"e8ffc766b3ba598eb82b",3325:"05864300a869b7a03982",3363:"1a9f702699fc56ef97e7",3405:"03167005adcd922a1e9e",3499:"2bcef935e8d0e514cc86",3524:"77362281024e722788d0",3564:"1adb2a59c941ffab4caf",3715:"057c8b4828d4b728b771",3731:"d145e36d5928da3118b3",3745:"a662141e4515161016f3",3747:"12fb6cf74f6dc0b7b7a8",3787:"ad2712582033fb3562d4",3813:"0cbe901f5bad54e775ce",3906:"d42c04aa60e2c652c1fa",3981:"b352302ee69bd22c0914",4008:"ac752ccf4758c77eace9",4019:"df2e018a66b14c9d5478",4020:"2d3d96d2da113b242add",4102:"ef9d61f5a8c507f49e98",4128:"ee6e6e69308a5782b59b",4134:"287b92df471b684bb5cf",4180:"02452023efcccff42ff2",4204:"9d1ef6755e4bbd4e8d35",4230:"2d19b9baed996ac32c91",4326:"4893cd81b71b13b61816",4336:"eb56eecadb17dd61974a",4383:"625e9f169b4c58f74edb",4435:"f4081bb859e83647ff64",4448:"b412349c2782872ed715",4484:"3b11edf315d5d2b8b586",4550:"f4cea7d2256a4828c124",4765:"f59d3d0265450f38df58",4785:"d82f96cbbfacd6e5e327",4810:"36d6af349596c0934f2e",4917:"438772b805a50ac0a553",4940:"f42c77cc91f584a9ec1e",5032:"50b05235a39fb0363fa0",5046:"d26df61eb73e8e3e72f9",5060:"3f1a177a457c32d32dd6",5073:"9e8ca1d72f8975cc2a56",5116:"cf5e995d95d3b68321ed",5148:"0a5abb3f174b8c07ce0a",5246:"c59250bb6c086f37af83",5260:"b07a9fb8a10fab441819",5269:"7ec34c1ae85b1f96fe14",5336:"b7d7e8e0b2e1defaf77f",5345:"c9f3084c9d663af5c4a5",5361:"3c8baf8a3d35a29ba9b0",5420:"f604d33e1310635e6aa1",5429:"2f0f43f349c4b0199b51",5434:"6806ba15a14e69247104",5438:"9072c830460f40410926",5499:"643d3256d62377e0508b",5525:"d31fa3686935a06bb2e5",5628:"496624ad337f801118ce",5719:"3bfa2d859ee15ef9096c",5735:"25e1ff541a6a516037f0",5819:"930fa13d1b3a61f1a99a",5962:"9943911376ea3fc5f230",6005:"40fd27b9cd3002474657",6047:"bf23ecaa0474b76e2d62",6058:"c8f3de0941ca714cc387",6167:"1a98cf1b9abbd4a15bd0",6168:"0171670f5ff3a82ea084",6197:"f0a34b45306200ef28bb",6241:"955bca41fcd9b9deb0ea",6249:"6cd079c94791b6969f27",6265:"a93c6b48328bf7e8a596",6272:"49831ee0809ba01f24b4",6308:"03d7e1f5259235d22e22",6314:"4168d77fba7e40e7334e",6338:"5061a7955675fa0556dc",6438:"5dcbaf93754ec5c391f0",6441:"3407846acc86ce5fc78b",6442:"dd91ed5a77af95bb8cc9",6473:"07ee9907ea2ab2075323",6685:"d5fa1009ff52f814a1b1",6686:"704f930d1743dc51f416",6708:"c6a3daf9dd10d19220e9",6726:"40a3226bed5ab8f8f13f",6802:"bea4817df4a955115b94",6805:"20e07b81ad525efcb177",6827:"8460d588988161155a40",6860:"285056ed6e602e243a3e",6869:"8b56ca0ea768acbe8442",6911:"83ee8983ca5153290a0b",6930:"04675138f937ad079724",6947:"2a5f9e52f23f99761b26",7001:"8baa33c45fbf58cd99f3",7120:"5a99d6036262d1b648e5",7244:"a3b1ccb550147284bc3d",7276:"3537f956fd7dd4240344",7357:"74fe2f60bd9f62362dae",7405:"4ced78b0a9b523a5f8fc",7408:"2627ff5c24fc94aa7855",7424:"2552395bc0a1380affd6",7487:"6128ebaf4fc0d8d54ab5",7499:"b12e357cca547fb18332",7513:"82b293df93d59d5913d5",7561:"ebd5a276db79adeb4f2d",7586:"b565421fe491d47fbfbd",7594:"8123052162d95278bf55",7612:"b2510b690b3f5dc512de",7617:"40752f1f812177936809",7688:"5a76f76cfd5d7818072e",7738:"436be2046c66e1ddeab8",7768:"7c3bcb57da37a19a3adb",7854:"5f9a98d3b9094f6f55df",7880:"5f8eed02813415883065",7901:"b6e5ffc028549e29f650",7939:"e9f38ea310e9a9268e07",7947:"8215b9eacf50cbaf00cd",7972:"7a970957ca8f643d4c4b",7978:"11f35f27fb0589819f1f",8043:"d251ca2a71910aff4601",8062:"5de8078a91011d2879a5",8100:"338143cc4eddd36b618e",8114:"df593f007f66201c2b88",8142:"8ce131a5603f6d647775",8150:"f9ce845c4c17d486f46e",8169:"3960af6afa1ee1dd4579",8201:"ceedad82f449d1dfc56d",8213:"88f00bd0dac19e0d806a",8214:"f0b6d7681d6be2b0e19b",8233:"bbac1519df4885c584a1",8287:"38774feb9b38c8492fa7",8308:"bf804df4f201bc6b70c1",8349:"ce02f9277abe2a60fc2e",8393:"428400c50fbe5c9606f4",8409:"f97515219eef987b74b1",8602:"d877f334c2758cc6a213",8621:"c9b9f0325b42da2e7cdf",8764:"0b688a5237b9b37330d6",8790:"e0e99b645aab3c3c61bf",8804:"e8709ea848a922498051",8843:"2b38bfd5944ac0ba593e",8924:"73e35a3410435cfcadc9",8925:"c75f3a784843605ee89b",8967:"49adac8a336528173f7d",8980:"6604f4fa9805e9bdf59f",9004:"e9ed6729707f6b99fbac",9030:"71fb3db3ce74663c96f2",9072:"bd5e7bcc60214fc96937",9141:"524d93490687ce19ae79",9183:"aa44d9c7d4d6fe3c4725",9238:"d2f4c8211a0e0b09d7fb",9250:"34c6559108be0d82c564",9287:"e0655a9984a8eced7e53",9295:"ef1573f19b0cea24ed51",9359:"db92fb551aed00a3ef9f",9375:"57374b84715c65158803",9451:"925d4a065666a4f29029",9549:"7a6bae2ee0e718b51b69",9623:"8294bb6fed2eda499fcf",9677:"18fa77b9691b3b639e17",9710:"b25c3992ed48bfe6b5d3",9753:"a8c86f37af3bc6ee8e50",9761:"89caa7e6bb8fbc9553f5",9849:"e98496547e3a19c33850",9869:"2f73178ee9c8e12b4dd9",9998:"56ba6aead039dda9d36c"}[e]+".js",i.miniCssF=e=>(({2394:"BundleCalls",4765:"shared-components",6930:"BundleStars",7405:"BundleAuth",7768:"BundleMain",9451:"BundleExtra"}[e]||e)+"."+{2394:"6428afac50505701e978",4765:"f59d3d0265450f38df58",4810:"36d6af349596c0934f2e",6249:"6cd079c94791b6969f27",6930:"04675138f937ad079724",7405:"4ced78b0a9b523a5f8fc",7768:"7c3bcb57da37a19a3adb",7947:"8215b9eacf50cbaf00cd",9451:"925d4a065666a4f29029"}[e]+".css"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="telegram-t:",i.l=(e,t,r,s)=>{if(n[e])n[e].push(t);else{var a,c;if(void 0!==r)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==o+r){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",o+r),a.src=e),n[e]=[t];var f=(t,o)=>{a.onerror=a.onload=null,clearTimeout(h);var r=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(e=>e(o)),t)return t(o)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{if("undefined"!=typeof document){var e={8792:0};i.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{2394:1,4765:1,4810:1,6249:1,6930:1,7405:1,7768:1,7947:1,9451:1}[t]&&n.push(e[t]=(e=>new Promise((t,n)=>{var o=i.miniCssF(e),r=i.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(i=n[o]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){var i;if((r=(i=s[o]).getAttribute("data-href"))===e||r===t)return i}})(o,r))return t();((e,t,n,o,r)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",i.nc&&(s.nonce=i.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)o();else{var i=n&&n.type,a=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+a+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=a,s.parentNode&&s.parentNode.removeChild(s),r(c)}},s.href=t,document.head.appendChild(s)})(e,r,0,t,n)}))(t).then(()=>{e[t]=0},n=>{throw delete e[t],n}))}}})(),(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={8792:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((n,r)=>o=e[t]=[n,r]);n.push(o[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[s,a,c]=n,d=0;if(s.some(t=>0!==e[t])){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);c&&c(i)}for(t&&t(n);d<s.length;d++)r=s[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunktelegram_t=self.webpackChunktelegram_t||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i(2188);var a=i(13439),c=i(31481),d=i(96454),u=i(55148),l=i(87679),f=i(5560);function h(e){const t=e.data;if(c.MVx&&console.log("[SW] Message from worker",t),!t.type)return;const n=(0,a.ko)(),o=t.payload;switch(t.type){case"focusMessage":n.focusMessage?.(o);break;case"playNotificationSound":(0,f.wC)(t.payload.id);break;case"share":n.openChatWithDraft({text:(0,u.E)(o.url,o.text,o.title),files:(0,l.kc)(o.files)})}}function m(){navigator.serviceWorker.removeEventListener("message",h),navigator.serviceWorker.addEventListener("message",h),(0,f.Mi)()}d.Tz&&(window.addEventListener("load",async()=>{try{const e=navigator.serviceWorker.controller;if(!e||e.scriptURL.includes("/k/")){const e=(await navigator.serviceWorker.getRegistrations()).filter(e=>!e.scope.includes("/k/"));e.length&&(c.Oig&&console.log("[SW] Hard reload detected, re-enabling Service Worker"),await Promise.all(e.map(e=>e.unregister())))}await navigator.serviceWorker.register(new URL(i.p+i.u(234),i.b)),c.Oig&&console.log("[SW] ServiceWorker registered"),await navigator.serviceWorker.ready,await navigator.serviceWorker.getRegistration(),navigator.serviceWorker.controller?(c.Oig&&console.log("[SW] ServiceWorker ready"),m()):(c.Oig&&console.error("[SW] ServiceWorker not available"),d.pz||d.Ni||c.W75||(0,a.ko)().showDialog?.({data:{message:"SERVICE_WORKER_DISABLED",hasErrorKey:!0}}))}catch(e){c.Oig&&console.error("[SW] ServiceWorker registration failed: ",e)}}),window.addEventListener("focus",async()=>{await navigator.serviceWorker.ready,m()}));var p=i(37932),g=i(80140),y=i(17872),b=i(91048);let v,w=[];function I(){let e=(0,a.mS)();if(!e.isInited)return;const t=(0,g.Fm)();Object.values(e.stories.byPeerId).forEach(n=>{Object.values(n.byId).forEach(n=>{"story"===n["@type"]&&(n.expireDate>t||n.isInProfile||(e=(0,y.ONz)(e,n.peerId,n.id)))})}),(0,a.UF)(e)}(0,p.DW)(e=>{const t=v;v=e;const n=(0,b.nTw)(e)?.isMasterTab,o=t&&(0,b.nTw)(t)?.isMasterTab;n!==o&&(n&&!o?w.length||w.push(window.setInterval(I,12e4)):(w.forEach(e=>clearInterval(e)),w=[]))});var C=i(63495),A=i(74824),S=i(14487),k=i(42385),P=i(20714),T=i(87894),M=i(57751);async function E(e=!1,t){if(t=t||(0,a.mS)(),!e&&"byTabId"in t)return;const n=(0,T.mg)(P.HB),o=await(0,k.Lj)(n);let r=o||n;c.fng&&(r.auth.state="authorizationStateReady");const{hasPasscode:s,isScreenLocked:i}=r.passcode;if(s&&!i&&(r=(0,y.Vg3)(r,{isScreenLocked:!0}),(0,M.rE)()),e&&(r.byTabId=t.byTabId),!o){const e=await(0,k.Jr)();e&&(r.sharedState=e)}(0,a.UF)(r)}var N=i(60343),L=i(80089),B=i(66414),F=i(74065),x=i(68344),D=i(32989),O=i(55232);(0,k.r2)(),(0,a.aJ)("initShared",async(e,t,n)=>{const{force:o}=n||{};await E(o,e)}),(0,a.aJ)("init",(e,t,n)=>{const{tabId:o=(0,S.g0)(),isMasterTab:r}=n||{},s=(0,T.mg)(P.Je);s.id=o,s.audioPlayer.playbackRate=e.audioPlayer.lastPlaybackRate,s.audioPlayer.isPlaybackRateActive=e.audioPlayer.isLastPlaybackRateActive,s.mediaViewer.playbackRate=e.mediaViewer.lastPlaybackRate,e.lastIsChatInfoShown&&(s.chatInfo={isOpen:!0}),e={...e,byTabId:{...e.byTabId,[o]:s}},r&&(s.isMasterTab=!0),C.vM&&s.isMasterTab&&(0,O.X)(e.sharedState),Object.keys(e.messages.byChatId).forEach(t=>{const n=e.messages.byChatId[t].threadsById;Object.keys(n).forEach(n=>{const r=Number(n),s=(0,b.C5H)(e,t,r,"lastViewportIds");s?.every(n=>(0,N.iL)(n)||e.messages.byChatId[t]?.byId[n])?(e=(0,x.tX)(e,t,r,o),e=(0,y.n4t)(e,t,r,"viewportIds",s,o)):e=(0,y.eww)(e,t,r,"lastViewportIds",void 0)})}),Object.keys(e.messages.byChatId).forEach(t=>{const n=e.messages.byChatId[t].threadsById,o=Object.keys(n).reduce((e,t)=>{const o=n[Number(t)];return e[Number(t)]={...o,listedIds:o.lastViewportIds},e},{});e={...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...e.messages.byChatId[t],threadsById:o}}}}});const i=(0,B.xV)(e.currentUserId);return"authorizationStateReady"===e.auth.state||e.passcode.hasPasscode||e.passcode.isScreenLocked||Object.values(e.byTabId).forEach(({id:t})=>{t!==o&&(e=(0,D.w)(e,{inactiveReason:"auth"},t))}),(0,A.isCacheApiSupported)().then(t=>{(e=(0,a.mS)()).isCacheApiSupported=t,(0,a.UF)(e)}),e.peerColors&&(0,F.En)(e.peerColors.general),(0,D.w)(e,{messageLists:i?[i]:s.messageLists},o)}),(0,a.aJ)("requestMasterAndCallAction",async(e,t,n)=>{const{tabId:o=(0,S.g0)()}=n;if((0,b.nTw)(e,o).isMasterTab){const{action:e,payload:o}=n;return void t[e](o)}e.phoneCall||e.groupCalls.activeGroupCallId?(await(0,L.po)(L.ar.Calls),"hangUp"in t&&t.hangUp({tabId:o}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:o})):(0,S.I)(),e=(0,a.mS)(),e=(0,D.w)(e,{multitabNextAction:n},o),(0,a.UF)(e)}),(0,a.aJ)("clearMultitabNextAction",(e,t,n)=>{const{tabId:o=(0,S.g0)()}=n||{};return(0,D.w)(e,{multitabNextAction:void 0},o)});var R=i(61433),U=i(66644),_=i(30708),$=i(19822),j=i(37836);let V=!1;async function z(){await new Promise(e=>{const t=[];let n=performance.now();(0,$.i0)(()=>{const o=performance.now();if(t.push(o-n),n=o,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0},j.IJ)})<=35&&function(){V=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame(()=>{t.addEventListener("transitionend",()=>{e.remove()}),t.style.transform=""})}()}var Y=i(59607),G=i(43044),K=i(4350),W=i(19800);let H=!1;async function J(e){try{const t=e instanceof URL?e:new URL(e,window.location.href);if(window.location.origin===t.origin)await window.tauri.openNewWindow(t.toString());else{const e=await i.e(8967).then(i.bind(i,11348));await e.open(t.toString())}}catch(t){console.error("Failed to open link:",e,t)}}var q=i(84051),X=i(75357),Q=i(87357),Z=i(4029),ee=i(70934),te=i(43503);var ne=i(43874),oe=i(29886),re=i(5718),se=i(61157),ie=(i(88742),i(11117),i(48544),i(26943),i(4990),i(14)),ae=i(26072),ce=i(41036),de=i(80464),ue=i(52745),le=i(20021);const fe=()=>{const e=(0,de.A)(L.ar.Auth,"AuthCode");return e?(0,le.Y)(e,{}):(0,le.Y)(ue.A,{})},he=()=>{const e=(0,de.A)(L.ar.Auth,"AuthPassword");return e?(0,le.Y)(e,{}):(0,le.Y)(ue.A,{})},me=["400 1em Roboto","500 1em Roboto","500 1em 'Numbers Rounded'"];function pe(){if("fonts"in document)return Promise.all(me.map(e=>document.fonts.load(e)))}var ge=i(6e4),ye=i(64713);function be(){const e=new URL(window.location.href),t=document.referrer?new URL(document.referrer):void 0;if(t?.origin===e.origin&&t.pathname===e.pathname&&t.searchParams.get("account")!==e.searchParams.get("account"))return void window.location.assign(t);const n=(0,K.Nv)(1);window.location.href=n}function ve(){let e=navigator.language.toLowerCase();return e&&"pt-br"!==e&&(e=e.substr(0,2)),e}var we=i(37661),Ie=i(39351),Ce=i(4875),Ae=i(17712);function Se(e,t){const[n,o]=(0,q.J0)(void 0),r=(0,Ae.A)(async()=>{if(!t)return;const n=await(0,Ce.px)("fetchLangStrings",{langCode:t,langPack:c.rgX,keys:[e]}),o=n?.strings[e];return o&&"string"==typeof o?o:void 0});return(0,q.vJ)(()=>{r().then(o)},[e,t]),n}var ke=i(93855),Pe=i(64493),Te=i(19806),Me=i(40664),Ee=i(52491),Ne=i(529),Le=i(4961),Be=i(35297),Fe=i(22699),xe=i(24433),De=i(57474);const Oe=200+c.xB5;function Re(e,t=""){if(!t.length)return e;const n=(0,Ne.l)(t);return e.filter(e=>n(e.defaultName)||e.name&&n(e.name))}const Ue=(0,q.ph)((0,a.EK)(e=>{const{countryList:{phoneCodes:t}}=e;return{phoneCodeList:t}})(({id:e,value:t,isLoading:n,onChange:o,phoneCodeList:r})=>{const s=(0,Ie.A)(),i=(0,q.li)(),[a,c]=(0,q.J0)(),[u,l]=(0,q.J0)([]),f=(0,q.hb)(e=>{c(e),l(Re(r,e))},[r]);(0,Be.A)(([e])=>{!e?.length&&r.length&&l(Re(r,a))},[r,a]);const h=(0,q.hb)(e=>{o(e),setTimeout(()=>f(void 0),Oe)},[o,f]),m=(0,q.hb)(e=>{f(e.currentTarget.value)},[f]),p=(0,q.hb)(e=>{if(8!==e.keyCode)return;const n=e.currentTarget;t&&void 0===a&&(n.value=""),f(n.value)},[a,f,t]),g=(0,q.hb)(({onTrigger:o,isOpen:r})=>{const c=()=>{if(r)return;setTimeout(()=>{i.current.select()},50),o();const e=document.getElementById("auth-phone-number-form");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},u=t&&d.TL&&(0,Ee.D0)(t.iso2),l=a??[u,t?.name||t?.defaultName||""].filter(Boolean).join(" ");return(0,le.FD)("div",{className:(0,Q.A)("input-group",t&&"touched"),children:[(0,le.Y)("input",{ref:i,className:(0,Q.A)("form-control",r&&"focus"),type:"text",id:e,value:l,autoComplete:"off",spellCheck:!C.Vq&&void 0,onClick:c,onFocus:c,onInput:e=>{m(e),c()},onKeyDown:p}),(0,le.Y)("label",{children:s("LoginSelectCountryTitle")}),n?(0,le.Y)(De.A,{color:"black"}):(0,le.Y)("i",{onClick:c,className:(0,Q.A)("css-icon-down",r&&"open")})]})},[a,m,p,e,n,s,t]);return(0,le.FD)(Fe.A,{className:"CountryCodeInput",trigger:g,children:[u.map(e=>(0,le.FD)(xe.A,{className:t&&e.iso2===t.iso2?"selected":"",onClick:()=>h(e),children:[(0,le.Y)("span",{className:"country-flag",children:(0,Le.A)((0,Ee.D0)(e.iso2),["hq_emoji"])}),(0,le.Y)("span",{className:"country-name",children:e.name||e.defaultName}),(0,le.FD)("span",{className:"country-code",children:["+",e.countryCode]})]},`${e.iso2}-${e.countryCode}`)),!u.length&&(0,le.Y)(xe.A,{className:"no-results",disabled:!0,children:(0,le.Y)("span",{children:s("CountryNone")})},"no-results")]})})),_e=i.p+"monkey.a3d5fcdc50b18dc55695.svg";let $e=!1;const je=(0,q.ph)((0,a.EK)(e=>{const{sharedState:{settings:{language:t}},countryList:{phoneCodes:n},config:o,auth:r,connectionState:s}=e;return{auth:r,connectionState:s,language:t,phoneCodeList:n,isTestServer:o?.isTestServer}})(({auth:e,connectionState:t,phoneCodeList:n,language:o,isTestServer:r})=>{const{setAuthPhoneNumber:s,setAuthRememberMe:i,loadNearestCountry:c,loadCountryList:u,clearAuthErrorKey:f,goToAuthQrCode:h,setSharedSettingOption:m,loginWithPasskey:p}=(0,a.ko)(),{state:g,phoneNumber:y,nearestCountry:b,isLoading:v,errorKey:w,rememberMe:I,isLoadingQrCode:C,passkeyOption:A}=e,S=(0,Ie.A)(),k=(0,q.li)(),P=ve(),T="connectionStateReady"===t,M=Se("AuthContinueOnThisLanguage",P),[E,N]=(0,q.J0)(),[L,B]=(0,q.J0)(),[F,x]=(0,q.J0)(!1),[D,O]=(0,q.J0)(),[R,_,$]=(0,we.A)(),j=(0,ke.A)(),V=Object.values(j).length>0,z=(0,q.Kr)(()=>Object.entries(j).filter(([,e])=>e.isTest===r).reduce((e,[t,{phone:n}])=>(n&&(e[n]=Number(t)),e),{}),[j,r]),Y=E?`+${E.countryCode} ${L||""}`:L,G=Y&&Y.replace(/[^\d]+/g,"").length>=7;(0,q.vJ)(()=>{d.TF||k.current.focus()},[E]),(0,q.vJ)(()=>{T&&!b&&c()},[T,b]),(0,q.vJ)(()=>{T&&u({langCode:o})},[T,o]),(0,q.vJ)(()=>{b&&n&&!E&&!F&&N((0,ye.gH)(n,b))},[E,b,F,n]);const W=(0,Ae.A)(e=>{e.length||B("");const t=n&&(0,ye.oL)(n,e),o=!E||t&&t.iso2!==E.iso2||!t&&e.length?t:E;(!E||!o||o&&o.iso2!==E.iso2)&&N(o),B((0,ye.n4)(e,o))}),H=(0,Ae.A)(()=>{_(),(0,ge.wT)(P,()=>{$(),m({language:P})})});(0,q.vJ)(()=>{void 0===L&&y&&W(y)},[y,L,W]),(0,q.Nf)(()=>{k.current&&D&&k.current.setSelectionRange(...D)},[D]);const J=(0,q.li)(!1),X=(0,Ae.A)(()=>{J.current=!0,(0,U.YS)(()=>{J.current=!1})}),Q=(0,Ae.A)(()=>{be()}),Z=(0,Ae.A)(e=>{N(e),B("")}),ee=(0,Ae.A)(e=>{w&&f(),$e||($e=!0,pe(),(0,l.NN)(_e));const{value:t,selectionStart:n,selectionEnd:o}=e.target;O(n&&o&&o<t.length?[n,o]:void 0),x(!0);const r=d.Yw&&E&&void 0!==Y&&t.length-Y.length>1&&!J.current;W(r?`${E.countryCode} ${t}`:t)}),te=(0,Ae.A)(e=>{i({value:e.target.checked})}),ne=(0,Ae.A)(()=>{h()}),oe=(0,Ae.A)(()=>{p()}),re="authorizationStateWaitPhoneNumber"===g;return(0,le.FD)("div",{id:"auth-phone-number-form",className:"custom-scroll",children:[V&&(0,le.Y)(Pe.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",iconName:"close",onClick:Q}),(0,le.FD)("div",{className:"auth-form",children:[(0,le.Y)("div",{id:"logo"}),(0,le.Y)("h1",{children:S("AuthTitle")}),(0,le.Y)("p",{className:"note",children:S("StartText")}),(0,le.FD)("form",{className:"form",action:"",onSubmit:function(e){if(e.preventDefault(),v)return;const t=Y?.replace(/[^\d]/g,"");t&&z[t]?window.location.replace((0,K.Nv)(z[t])):G&&s({phoneNumber:Y})},children:[(0,le.Y)(Ue,{id:"sign-in-phone-code",value:E,isLoading:!b&&!E,onChange:Z}),(0,le.Y)(Me.A,{ref:k,id:"sign-in-phone-number",label:S("LoginPhonePlaceholder"),value:Y,error:w&&S.withRegular(w),inputMode:"tel",onChange:ee,onPaste:d.Yw?X:void 0}),(0,le.Y)(Te.A,{id:"sign-in-keep-session",label:S("AuthKeepSignedIn"),checked:Boolean(I),onChange:te}),G&&(re?(0,le.Y)(Pe.A,{className:"auth-button",type:"submit",ripple:!0,isLoading:v,children:S("LoginNext")}):(0,le.Y)(ue.A,{})),re&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,ripple:!0,isLoading:C,onClick:ne,children:S("LoginQRLogin")}),A&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,onClick:oe,children:S("LoginPasskey")}),P&&P!==o&&M&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,isLoading:R,onClick:H,children:M})]})]})]})}));var Ve=i(36175),ze=i(56863),Ye=i(83057),Ge=i(4438),Ke=i(61911);let We;const He=(0,q.ph)((0,a.EK)(e=>{const{connectionState:t,auth:n}=e,{language:o}=(0,_.lS)(e);return{connectionState:t,auth:n,language:o}})(({connectionState:e,auth:t,language:n})=>{const{returnToAuthPhoneNumber:o,setSharedSettingOption:r,loginWithPasskey:s}=(0,a.ko)(),{state:d,qrCode:u,passkeyOption:l}=t,f=ve(),h=(0,Ie.A)(),m=(0,q.li)(),p="connectionStateReady"===e,g=Se("AuthContinueOnThisLanguage",f),[y,b,v]=(0,we.A)(),[w,I,C]=(0,we.A)(),A=(0,ke.A)(),S=Object.values(A).length>0,{result:k}=(0,ze.A)(async()=>new(0,(await(We||(We=Promise.all([i.e(8287),i.e(21)]).then(i.t.bind(i,97283,23))),We)).default)({width:280,height:280,image:Ke,margin:10,type:"svg",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8},qrOptions:{errorCorrectionLevel:"M"}}),[]),P=(0,Ye.A)(w);(0,q.Nf)(()=>{if(!u||!k)return()=>{C()};if(!p)return;const e=m.current,t=`tg://login?token=${u.token}`;c.rkj&&(0,X.oA)(),k.update({data:t}),w||(k.append(e),I()),c.rkj&&setTimeout(()=>{(0,X.Z3)()},50)},[p,u,w,k]);const T=(0,Ae.A)(()=>{be()}),M=(0,Ae.A)(()=>{b(),(0,ge.wT)(f,()=>{v(),r({language:f})})}),E=(0,Ae.A)(()=>{o()}),N=(0,Ae.A)(()=>{s()}),L="authorizationStateWaitQrCode"===d;return(0,le.FD)("div",{id:"auth-qr-form",className:"custom-scroll",children:[S&&(0,le.Y)(Pe.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",iconName:"close",onClick:T}),(0,le.FD)("div",{className:"auth-form qr",children:[(0,le.FD)("div",{className:"qr-outer",children:[(0,le.FD)("div",{className:(0,Q.A)("qr-inner",P),children:[(0,le.Y)("div",{className:"qr-container",ref:m,style:"width: 280px; height: 280px"},"qr-container"),(0,le.Y)(Ge.A,{tgsUrl:Ve.w.QrPlane,size:54,className:"qr-plane",nonInteractive:!0,noLoop:!1})]},"qr-inner"),!w&&(0,le.Y)("div",{className:"qr-loading",children:(0,le.Y)(ue.A,{})})]}),(0,le.Y)("h1",{children:h("LoginQRTitle")}),(0,le.FD)("ol",{children:[(0,le.Y)("li",{children:(0,le.Y)("span",{children:h("LoginQRHelp1")})}),(0,le.Y)("li",{children:(0,le.Y)("span",{children:h("LoginQRHelp2",void 0,{withNodes:!0,withMarkdown:!0})})}),(0,le.Y)("li",{children:(0,le.Y)("span",{children:h("LoginQRHelp3")})})]}),L&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,onClick:E,children:h("LoginQRCancel")}),l&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,onClick:N,children:h("LoginPasskey")}),f&&f!==n&&g&&(0,le.Y)(Pe.A,{className:"auth-button",isText:!0,isLoading:y,onClick:M,children:g})]})]})})),Je=()=>{const e=(0,de.A)(L.ar.Auth,"AuthRegister");return e?(0,le.Y)(e,{}):(0,le.Y)(ue.A,{})},qe=(0,q.ph)((0,a.EK)(e=>({authState:e.auth.state}))(({authState:e})=>{const{returnToAuthPhoneNumber:t,goToAuthQrCode:n}=(0,a.ko)(),o="iOS"===d.Aw||"Android"===d.Aw;(0,ae.A)({isActive:!o&&"authorizationStateWaitPhoneNumber"===e||o&&"authorizationStateWaitQrCode"===e,onBack:()=>{o?t():n()}});const r=(0,ie.A)("authorizationStateReady"!==e?e:void 0,!0);return(0,le.Y)(ce.Ay,{activeKey:function(){switch(r){case"authorizationStateWaitCode":return 0;case"authorizationStateWaitPassword":return 1;case"authorizationStateWaitRegistration":return 2;case"authorizationStateWaitPhoneNumber":return 3;case"authorizationStateWaitQrCode":return 4;default:return o?3:4}}(),name:"fade",className:"Auth","data-tauri-drag-region":!(!C.Vq||!d.MP)||void 0,children:function(){switch(r){case"authorizationStateWaitCode":return(0,le.Y)(fe,{});case"authorizationStateWaitPassword":return(0,le.Y)(he,{});case"authorizationStateWaitRegistration":return(0,le.Y)(Je,{});case"authorizationStateWaitPhoneNumber":return(0,le.Y)(je,{});case"authorizationStateWaitQrCode":return(0,le.Y)(He,{});default:return o?(0,le.Y)(je,{}):(0,le.Y)(He,{})}}()})}));var Xe=i(83649),Qe=i(11778),Ze=i(76023),et=i(18501),tt=i(50680),nt=i(87412),ot=i(18276),rt=i(9267),st=i(3325),it=i(17663),at=i(32625),ct=i(59030),dt=i(68292);const ut={root:"eldglPwL",svg:"xhUfxjkV",circle:"hsaty2zA"},lt=(0,q.ph)(({duration:e,className:t,onEnd:n})=>{const[o,r]=(0,q.J0)(e),s=(0,ct.A)();return(0,at.A)(()=>r(e=>e-1),o>0?1e3:void 0),(0,q.vJ)(()=>{o<=0&&n?.()},[o,n]),(0,q.vJ)(()=>{r(e)},[e]),(0,le.FD)("div",{className:(0,Q.A)(ut.root,t),children:[(0,le.Y)("svg",{className:ut.svg,width:"32px",height:"32px",children:(0,le.Y)("circle",{cx:"16",cy:"16",r:14,transform:"rotate(-90, 16, 16)",pathLength:"100","stroke-dasharray":"100","stroke-dashoffset":100-(o-1)/e*100,className:ut.circle})}),(0,le.Y)(dt.A,{className:ut.text,text:(0,it.dq)(s,1e3*o)})]})}),ft=3e3,ht=1.75*Ze.$,mt=({notification:e})=>{const t=(0,a.ko)(),n=(0,Ie.A)(),{localId:o,message:r,action:s,actionText:i,cacheBreaker:d,className:u,disableClickDismiss:l,dismissAction:f,duration:h=ft,icon:m,shouldUseCustomIcon:p,customEmojiIconId:g,shouldShowTimer:y,title:b,containerSelector:v}=e,w=(0,Xe.Yw)(r),[I,C]=(0,q.J0)(!0),A=(0,q.li)(!1),S=(0,q.li)(),{transitionClassNames:k}=(0,tt.A)(I),P=(0,Ae.A)(()=>{t.dismissNotification({localId:o})}),T=(0,Ae.A)(e=>{!e&&l||(C(!1),setTimeout(P,150+c.xB5),f&&t[f.action](f.payload))}),M=(0,Ae.A)(e=>{s&&!A.current&&(A.current=!0,Array.isArray(s)?s.forEach(e=>t[e.action](e.payload)):t[s.action](s.payload)),l&&(C(!1),setTimeout(P,150+c.xB5)),T()}),E=(0,Ae.A)(()=>{s&&!A.current&&(A.current=!0,Array.isArray(s)?s.forEach(e=>t[e.action](e.payload)):t[s.action](s.payload)),T()});(0,q.vJ)(()=>I?(0,Qe.A)(T):void 0,[I,T]),(0,q.vJ)(()=>(S.current=window.setTimeout(()=>T(!0),h),()=>{S.current&&(clearTimeout(S.current),S.current=void 0)}),[h,d]);const N=(0,Ae.A)(()=>{l||S.current&&(clearTimeout(S.current),S.current=void 0)}),L=(0,Ae.A)(()=>{l||(S.current&&clearTimeout(S.current),S.current=window.setTimeout(T,h))}),B=(0,q.Kr)(()=>{if(b)return(0,Xe.Yw)(b)?n.with(b):(0,Le.A)(b,["simple_markdown","emoji","br","links"])},[n,b]),F=(0,q.Kr)(()=>w?n.with(r):"string"==typeof r?e.messageEntities?(0,et.fd)({text:r,entities:e.messageEntities}):(0,Le.A)(r,["simple_markdown","emoji","br","links"]):r,[w,n,r,e.messageEntities]),x=(0,q.Kr)(()=>{if(i)return(0,Xe.Yw)(i)?n.with(i):i},[n,i]),D=(0,q.Kr)(()=>g?(0,le.Y)(nt.A,{className:"notification-emoji-icon",forceAlways:!0,size:ht,documentId:g}):p&&"star"===m?(0,le.Y)(rt.A,{type:"gold",className:(0,Q.A)("notification-icon"),size:"adaptive"}):(0,le.Y)(ot.A,{name:m||"info-filled",className:"notification-icon"}),[g,m,p]);return(0,le.Y)(st.A,{className:"Notification-container",containerSelector:v,children:(0,le.FD)("div",{className:(0,Q.A)("Notification",k,u),onClick:E,onMouseEnter:N,onMouseLeave:L,children:[D,(0,le.FD)("div",{className:"content",children:[Boolean(B)&&(0,le.Y)("div",{className:"notification-title",children:B}),F]}),Boolean(x)&&(0,le.Y)(Pe.A,{color:"translucent-white",onClick:M,className:"notification-button",children:x}),y&&(0,le.Y)(lt,{className:"notification-timer",duration:Math.ceil(h/1e3)},d)]})})},pt=(0,q.ph)((0,a.EK)(e=>(0,T.Up)((0,b.nTw)(e),["notifications"]))(({notifications:e})=>{if(e.length)return(0,le.Y)("div",{id:"Notifications",children:e.map(e=>(0,le.Y)(mt,{notification:e},e.localId))})}));var gt=i(23174),yt=i(62214),bt=i(58554),vt=i(15283);const wt="ThfRMqwq",It="kN2M6u9m";var Ct=i(89704);const At=i.p+"mask.c474db1e76529489b940.svg",St=i.p+"telegram-logo.1b2bb5b107f046ea9325.svg";function kt(){const{listIds:e,byId:t}=(0,a.mS)().chats;if(e.active)return Promise.all(e.active.slice(0,10).map(async e=>{const n=t[e];if(!n)return;const o=(0,yt.cP)(n);return o?bt.hd(o,gt.qZ.BlobUrl):void 0}))}const Pt={main:()=>Promise.all([(0,L.Vw)(L.ar.Main).then(pe),kt(),(0,l.NN)(At),G.CO]),authPhoneNumber:()=>Promise.all([pe(),(0,l.NN)(St)]),authCode:()=>(0,l.NN)(_e),authPassword:()=>(0,l.NN)(_e),authQrCode:pe,lock:()=>Promise.all([pe(),(0,l.NN)(Ct)]),inactive:()=>{}},Tt=(0,a.EK)((e,{isMobile:t})=>{const n=(0,b.nTw)(e),{foldersPosition:o}=(0,_.lS)(e);return{shouldSkipHistoryAnimations:n.shouldSkipHistoryAnimations,uiReadyState:n.uiReadyState,isRightColumnShown:(0,b.gjV)(e,t),leftColumnWidth:e.leftColumnWidth,isFoldersSidebarShown:o===c._C3&&!t&&(0,b.XD6)(e)}})(({page:e,children:t,isRightColumnShown:n,shouldSkipHistoryAnimations:o,leftColumnWidth:r,isFoldersSidebarShown:s})=>{const{setIsUiReady:i}=(0,a.ko)(),[c,d]=(0,we.A)(),{shouldRender:u,transitionClassNames:l}=(0,tt.A)(!c,void 0,!0);return(0,vt.A)(()=>{let t;return Promise.race([(0,j.v7)(700),e?(async()=>{try{await Pt[e]()}catch(e){}})():Promise.resolve()]).then(()=>{d(),i({uiReadyState:1}),t=window.setTimeout(()=>{i({uiReadyState:2})},1e3)}),()=>{t&&(clearTimeout(t),t=void 0),i({uiReadyState:0})}}),(0,le.FD)(le.FK,{children:[t,u&&!o&&Boolean(e)&&(0,le.Y)("div",{className:(0,Q.A)("U9MowLv_",l),children:"main"===e?(0,le.FD)("div",{className:(0,Q.A)("RcG6eRZw",s&&"oHY8tVQC"),children:[s&&(0,le.Y)("div",{className:"HjZ2pMig"}),(0,le.Y)("div",{className:"oL7XcRwI",style:r?`width: ${r}px`:void 0}),(0,le.Y)("div",{className:(0,Q.A)("LYe7IaQO",wt)}),n&&(0,le.Y)("div",{className:"wYSGQZXX"})]}):"inactive"===e||"lock"===e?(0,le.Y)("div",{className:(0,Q.A)(It,wt)}):(0,le.Y)("div",{className:It})})]})}),Mt=i.p+"app-inactive.da3925145f0a7111c0f1.png",Et=({inactiveReason:e})=>{const t=(0,Ie.A)(),n=(0,Ae.A)(()=>{window.location.reload()});return(0,ae.A)({isActive:!0,onBack:n,shouldResetUrlHash:!0}),(0,le.Y)("div",{id:"AppInactive",children:(0,le.FD)("div",{className:"content",children:[(0,le.Y)("img",{src:Mt,alt:""}),(0,le.Y)("h3",{className:"title",children:t("auth"===e?"AppInactiveAuthTitle":"AppInactiveOtherClientTitle")}),(0,le.Y)("div",{className:"description",children:(0,Le.A)(t("auth"===e?"AppInactiveAuthDescription":"AppInactiveOtherClientDescription"),["br"])}),(0,le.Y)("div",{className:"actions",children:(0,le.Y)(Pe.A,{isText:!0,ripple:!0,onClick:n,children:t("AppInactiveReload")})})]})})},Nt=e=>{const{isLocked:t}=e,n=(0,de.A)(L.ar.Main,"LockScreen",!t);return n?(0,le.Y)(n,{...e}):void 0},Lt=e=>{const t=(0,de.A)(L.ar.Main,"Main");return t?(0,le.Y)(t,{...e}):void 0};var Bt=function(e){return e[e.auth=0]="auth",e[e.main=1]="main",e[e.lock=2]="lock",e[e.inactive=3]="inactive",e}(Bt||{});const Ft=Object.keys(Bt).length/2,xt=C.Vq?c.zGP:c.j0M,Dt=`${xt} ${c.LaL}`,Ot=(0,a.EK)(e=>{const{state:t,hasWebAuthTokenFailed:n,hasWebAuthTokenPasswordRequired:o}=e.auth;return{authState:t,isScreenLocked:e.passcode?.isScreenLocked,hasPasscode:e.passcode?.hasPasscode,inactiveReason:(0,b.nTw)(e).inactiveReason,hasWebAuthTokenFailed:n||o,theme:(0,b.SJA)(e),isTestServer:e.config?.isTestServer,actionMessageBg:(0,b.bdt)(e)}})(({authState:e,isScreenLocked:t,hasPasscode:n,inactiveReason:o,hasWebAuthTokenFailed:r,isTestServer:s,theme:i,actionMessageBg:a})=>{const{isMobile:u}=(0,ne.Ay)(),l="iOS"===d.Aw||"Android"===d.Aw;let f,h;if((0,q.vJ)(()=>{d.nB&&(0,Z.a)()},[]),(0,q.vJ)(()=>{const e=(0,B.cA)();if(!(0,M.wr)()&&!K.Xz&&!e){const t=(0,K.zk)();Object.keys(t).map(Number).sort((e,t)=>t-e).forEach(n=>{const o=Number(n);if(t[o]){const t=(0,K.Nv)(o);window.location.href=`${t}#${e||"login"}`}})}(async()=>{if((0,M.$m)()&&K.Xz&&await(0,ee.H)()){const e=(0,K.Nv)(1);window.location.href=e}})()},[]),(0,q.vJ)(()=>{const e=document.body,t=e=>{e.preventDefault(),e.dataTransfer&&(e.target.dataset.dropzone?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none")},n=e=>{e.preventDefault()};return e.addEventListener("drop",n),e.addEventListener("dragover",t),e.addEventListener("dragenter",t),()=>{e.removeEventListener("drop",n),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",t)}},[]),o)f=Bt.inactive;else if(t)h="lock",f=Bt.lock;else if(e)switch(e){case"authorizationStateWaitPhoneNumber":h="authPhoneNumber",f=Bt.auth;break;case"authorizationStateWaitCode":h="authCode",f=Bt.auth;break;case"authorizationStateWaitPassword":h="authPassword",f=Bt.auth;break;case"authorizationStateWaitRegistration":f=Bt.auth;break;case"authorizationStateWaitQrCode":h="authQrCode",f=Bt.auth;break;case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":h="main",f=Bt.main}else(0,M.wr)()?(h="main",f=Bt.main):n?f=Bt.lock:(h=l?"authPhoneNumber":"authQrCode",f=Bt.auth);f!==Bt.lock&&f!==Bt.inactive&&f!==Bt.main&&(0,B.f4)()?.tgWebAuthToken&&!r&&(h="main",f=Bt.main),(0,q.vJ)(()=>{(0,te.u)()},[]),(0,q.vJ)(()=>{document.title=o?Dt:xt},[o]);const m=(0,oe.A)(f);(()=>{const e=(0,q.hb)(async e=>{if(e.target instanceof HTMLElement&&!e.target?.closest("input, a, button")&&e.target?.closest("[data-tauri-drag-region]")){const e=await(window.tauri?.getCurrentWindow());e?.startDragging()}},[]);(0,q.vJ)(()=>{if(C.Vq&&d.MP)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[e])})(),(0,q.Nf)(()=>{document.body.classList.add(wt)},[]),(0,q.Nf)(()=>{document.body.style.setProperty("--theme-background-color","dark"===i?c.PqE:c.XLD)},[i]),(0,q.Nf)(()=>{a&&document.body.style.setProperty("--action-message-bg",a)},[a]);const p=se.GE;return(0,re.R)(()=>{(0,X.dL)(()=>{document.body.classList.toggle("in-background",p())},document.body)},[p]),(0,le.FD)(Tt,{page:h,isMobile:u,children:[(0,le.Y)(ce.Ay,{name:"fade",activeKey:f,shouldCleanup:!0,className:(0,Q.A)("full-height",(f===Bt.auth||m===Bt.auth)&&"is-auth"),renderCount:Ft,children:function(){switch(f){case Bt.auth:return(0,le.Y)(qe,{});case Bt.main:return(0,le.Y)(Lt,{isMobile:u});case Bt.lock:return(0,le.Y)(Nt,{isLocked:t});case Bt.inactive:return(0,le.Y)(Et,{inactiveReason:o})}}}),f===Bt.auth&&s&&(0,le.Y)("div",{className:"test-server-badge",children:"Test server"}),(0,le.Y)(pt,{})]})});c.rkj&&(0,U.Z3)(),C.Vq&&(function(){const e=Promise.resolve().then(i.bind(i,55962));window.tauri??={},Object.assign(window.tauri,{markTitleBarOverlay:async function(t){if(d.MP)return(await e).invoke("mark_title_bar_overlay",{isOverlay:t})},setNotificationsCount:async function(t,n=!1){return(await e).invoke("set_notifications_count",{amount:t,isMuted:n})},openNewWindow:async function(t){return(await e).invoke("open_new_window_cmd",{url:t})},relaunch:()=>i.e(2263).then(i.bind(i,82263)).then(({relaunch:e})=>e()),checkUpdate:()=>i.e(1567).then(i.bind(i,21567)).then(({check:e})=>e()),getCurrentWindow:()=>i.e(748).then(i.bind(i,60748)).then(({getCurrentWindow:e})=>e()),setWindowTitle:async function(t){return(await e).invoke("set_window_title",{title:t})}})}(),function(){function e(e){const t=e.target,n=t?.closest("a[href]");n&&("_blank"===n.target||e.ctrlKey||e.metaKey||e.button===d.w3.Auxiliary)&&(e.preventDefault(),J(n.getAttribute("href")))}H||(H=!0,c.Oig||document.addEventListener("contextmenu",e=>{e.preventDefault()}),i.e(8925).then(i.bind(i,8925)).then(({listen:e})=>{e("download-finished",e=>{e.payload.success||(0,a.ko)().showNotification({message:{key:"NativeDownloadFailed"}})})}),document.addEventListener("keydown",e=>{if("Backspace"===e.key||"Backspace"===e.code){const t=e.target;"INPUT"===t?.tagName||"TEXTAREA"===t?.tagName||t?.isContentEditable||e.preventDefault()}},!0),window.open=(e,t,n)=>(e&&J(e),null),document.addEventListener("click",e),document.addEventListener("auxclick",e))}()),async function(){if(c.Oig&&console.log(">>> INIT"),!window.isCompatTestPassed)return;(0,W.Tq)(),function(){const e=new BroadcastChannel(c.YoZ);e.addEventListener("message",e=>{if(e.data!==c.cK8){let e=(0,a.mS)();const t=(0,b.nTw)(e);e=(0,D.w)(e,{inactiveReason:"otherClient"},t.id),(0,a.UF)(e)}}),e.postMessage(c.cK8)}(),(0,Y.mY)(),await(0,Y.Ld)("12.0.17"),localStorage.setItem(K.pn,"1"),(0,j.yu)(()=>{const e=(0,a.mS)();1===Object.keys(e.byTabId).length&&localStorage.removeItem(K.pn)}),await E(),(0,a.ko)().init(),(0,a.ko)().updateShouldEnableDebugLog(),(0,a.ko)().updateShouldDebugExportedSenders();const e=(0,a.mS)();(0,G.S7)((0,_.lS)(e).language,!0),(0,S.wr)(e=>{(0,a.ko)().switchMultitabRole({isMasterTab:e},{forceSyncOnIOs:!0})});const t="authorizationStateReady"!==(0,a.mS)().auth.state;(0,S.UJ)(t),c.Oig&&console.log(">>> START INITIAL RENDER"),(0,U.RK)(()=>{!function(){if(!d.MP)return;const e=document.getElementById("the-manifest-placeholder");if(!e)return;const t=`site_apple${c.Oig?"_dev":""}.webmanifest`;e.setAttribute("href",t)}(),R.Ay.render((0,le.Y)(Ot,{}),document.getElementById("root")),function(){if(!d.pz)return;let e,t=Date.now();function n(){e||V||(e=window.setInterval(z,5e3))}window.addEventListener("focus",()=>{const e=Date.now();e-t<100||(t=e,n(),z())}),window.addEventListener("blur",()=>{clearInterval(e),e=void 0}),document.hasFocus()&&(n(),z())}()}),c.Oig&&console.log(">>> FINISH INITIAL RENDER"),c.Oig&&document.addEventListener("dblclick",()=>{console.warn("TAB STATE",(0,b.nTw)((0,a.mS)())),console.warn("GLOBAL STATE",(0,a.mS)())})}(),(0,j.yu)(()=>{const e=(0,a.ko)();e.leaveGroupCall?.({isPageUnload:!0}),e.hangUp?.({isPageUnload:!0})})})();
//# sourceMappingURL=main.e9789093343a2ac8f9f0.js.map