"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[6930],{42326:(e,t,a)=>{a.r(t),a.d(t,{PaidReactionModal:()=>Ce,StarPaymentModal:()=>ee,StarsBalanceModal:()=>Z,StarsGiftModal:()=>v,StarsGiftingPickerModal:()=>T,StarsSubscriptionModal:()=>me,StarsTransactionInfoModal:()=>le});var s=a(84051),r=a(13439),n=a(90709),i=a(29807),o=a(87357),l=a(17142),c=a(4961),m=a(17712),d=a(59030),u=a(21849),p=a(56440),y=a(1526),A=a(64493),h=a(8410);const S={modalDialog:"uH8fqafl",root:"aj6xpTC3",main:"Iqf5K4mR",headerInfo:"IOY_ESbV",logo:"Pl_aaBw0",logoBackground:"D5l7UeFq",description:"ecZztcn2",section:"t18TOwVL",header:"eRV8zao3",starHeaderText:"TTmBv6nH",hiddenHeader:"keGf2mX9",closeButton:"tlkzyZXX",avatar:"P0oMhbon",center:"Ri1FZd1z",secondaryInfo:"TWNeq00k"},f=a.p+"StarLogo.600328787c79d99dfd66.svg",g=a.p+"stars-bg.dee4c4b73c7d21c2ec73.png",v=(0,s.ph)((0,r.EK)((e=>{const{starsGiftOptions:t,forUserId:a,isCompleted:s}=(0,i.nTw)(e).starsGiftModal||{};return{isCompleted:s,starsGiftOptions:t,forUserId:a,user:a?(0,i.mBe)((0,r.mS)(),a):void 0}}))((e=>{let{isOpen:t,isCompleted:a,starsGiftOptions:i,forUserId:v,user:E}=e;const b=(0,s.li)(null),{closeStarsGiftModal:N,openInvoice:I,requestConfetti:C}=(0,r.ko)(),T=(0,d.A)(),[k,P]=(0,s.J0)(),[x,B]=(0,s.J0)(!0);(0,s.vJ)((()=>{t||B(!0)}),[t]);const M=(0,m.A)((()=>{const e=b.current;if(e&&t){const{top:t,left:a,width:s,height:r}=e.querySelector(".modal-content").getBoundingClientRect();C({top:t,left:a,width:s,height:r,withStars:!0})}}));(0,s.vJ)((()=>{a&&M()}),[a,M]);const w=(0,m.A)((e=>{P(e),I(E?{type:"starsgift",userId:v,stars:e.stars,currency:e.currency,amount:e.amount}:{type:"stars",stars:e.stars,currency:e.currency,amount:e.amount})})),_=(0,m.A)((()=>{N()})),K=(0,s.Kr)((()=>{const e=T("lng_credits_summary_options_about").split("{link}");return[e[0],s.Ay.createElement(p.A,{url:T("StarsTOSLink"),text:T("lng_credits_summary_options_about_link")}),e[1]]}),[T]);return s.Ay.createElement(h.A,{className:(0,o.A)(S.modalDialog,S.root),dialogRef:b,onClose:_,isOpen:t},s.Ay.createElement("div",{className:S.main,onScroll:function(e){const{scrollTop:t}=e.currentTarget;B(t<=150)}},s.Ay.createElement(A.A,{round:!0,size:"smaller",className:S.closeButton,color:"translucent",onClick:()=>N(),ariaLabel:T("Close")},s.Ay.createElement("i",{className:"icon icon-close"})),s.Ay.createElement("div",{className:(0,o.A)(S.header,x&&S.hiddenHeader)},s.Ay.createElement("h2",{className:S.starHeaderText},T(E?"GiftStarsTitle":"Star.List.GetStars"))),s.Ay.createElement("div",{className:S.headerInfo},E?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(u.A,{size:"huge",peer:E,className:S.avatar}),s.Ay.createElement("img",{className:S.logoBackground,src:g,alt:"",draggable:!1})):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("img",{className:S.logo,src:f,alt:"",draggable:!1}),s.Ay.createElement("img",{className:S.logoBackground,src:g,alt:"",draggable:!1}))),s.Ay.createElement("h2",{className:(0,o.A)(S.headerText,S.center)},a?E?(0,c.A)(T("Notification.StarsGift.SentYou",(0,l.A)(k.amount,k.currency,T.code)),["simple_markdown"]):(0,c.A)(T("StarsAcquiredInfo",k?.stars),["simple_markdown"]):T(E?"GiftStarsTitle":"Star.List.GetStars")),s.Ay.createElement("p",{className:S.description},E?(0,c.A)(T("ActionGiftStarsSubtitle",(0,n.qg)(T,E)),["simple_markdown"]):T("Stars.Purchase.GetStarsInfo")),s.Ay.createElement("div",{className:S.section},i&&s.Ay.createElement(y.A,{options:i,onClick:w}),s.Ay.createElement("div",{className:S.secondaryInfo},K))))})));var E=a(31481),b=a(87894),N=a(79582),I=a(54960),C=a(34642);const T=(0,s.ph)((0,r.EK)((e=>{const{chats:{listIds:t},currentUserId:a}=e;return{userIds:e.contactList?.userIds,activeListIds:t.active,archivedListIds:t.archived,currentUserId:a}}))((e=>{let{isOpen:t,currentUserId:a,activeListIds:i,archivedListIds:o,userIds:l}=e;const{closeStarsGiftingModal:c,openStarsGiftModal:u}=(0,r.ko)(),p=(0,d.A)(),[y,A]=(0,s.J0)(""),h=(0,s.Kr)((()=>{const e=(0,r.mS)().users.byId,t=[...l||[],...i||[],...o||[]],s=(0,n.Z$)(t,e,y);return(0,N.A)((0,b.Am)(s).filter((t=>{const s=e[t];return!(!s||s.isSupport||(0,n.tv)(s)||(0,n.PL)(s)||t===a||t===E.zv8)})))}),[a,y,l,i,o]),S=(0,m.A)((e=>{e?.length&&u({forUserId:e})}));return s.Ay.createElement(C.A,{className:"s3k01dTm",isOpen:t,onClose:c,title:p("GiftStarsTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,confirmButtonText:p("Continue"),onEnter:c},s.Ay.createElement(I.A,{className:"cuI2eDIY",itemIds:h,filterValue:y,filterPlaceholder:p("Search"),onFilterChange:A,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,onSelectedIdChange:S}))})));var k=a(37661),P=a(39351),x=a(18276),B=a(9267),M=a(46222),w=a(24680),_=a(41036),K=a(14242);const R={root:"TtE8LQNJ",transition:"nXQS4E59",main:"JuWZY1ds",container:"mnhBs1uK",section:"lYkNd_gb",sectionTitle:"FF8gm7MP",secondaryInfo:"fBublGG8",logo:"sjhpNB8l",logoBackground:"jjESKN3H",headerHext:"xbpAOr37",description:"teXilLxe",header:"fnhXotO2",starHeaderText:"iUwego5s",hiddenHeader:"DZk6d6hF",closeButton:"piD1PXHW",balance:"LitvQduT",smallerText:"rUnPcfmE",balanceBottom:"F5BTkZ9G",modalBalance:"t8tMrx3y",starButton:"oOt4VBD2",paymentContent:"OReEUNTV",paymentImages:"oKorQYTC",paymentPhoto:"HGTrEtUF",avatarStar:"Wu10dXoa",paymentImageBackground:"os8jb_qv",paymentAmount:"sd2jk3Hn",paymentButton:"VzR5cibf",paymentButtonStar:"Uhg7yWxK",transactions:"Qvc0fTTH",subscriptions:"IX5BhCUF",tabs:"KZVEyKOX",disclaimer:"bpVifdwH"},z=(0,s.ph)((e=>{let{balance:t,className:a}=e;const r=(0,d.A)();return s.Ay.createElement("div",{className:(0,o.A)(R.balance,a)},s.Ay.createElement("span",{className:R.smallerText},r("StarsBalance")),s.Ay.createElement("div",{className:R.balanceBottom},s.Ay.createElement(B.A,{type:"gold",size:"middle"}),(0,K.Sm)(t)))}));var O=a(17663),G=a(63527);const F={root:"ZXnbeQxP",info:"zLaaDX3c",status:"HbF2qTB2",statusPricing:"AveGvpdV",amount:"_CBiOQcv",title:"k9ZIv5Pd",description:"FlRlxMx2",statusPeriod:"MRrP7Oew",statusEnded:"pRHwfr8m",preview:"t6Syyhzd",subscriptionStar:"ftlbevPm"},L=(0,s.ph)((e=>{let{subscription:t}=e;const{openStarsSubscriptionModal:a}=(0,r.ko)(),{peerId:o,pricing:l,until:c,isCancelled:p}=t,y=(0,d.A)(),A=(0,G.A)(function(e){return t=>(0,i.PVB)(t,e)}(o)),h=(0,m.A)((()=>{a({subscription:t})}));if(!A)return;const S=c<Date.now()/1e3,f=(0,O.A)(1e3*c,y.code,!0,"long");return s.Ay.createElement("div",{className:F.root,onClick:h},s.Ay.createElement("div",{className:F.preview},s.Ay.createElement(u.A,{size:"medium",peer:A}),s.Ay.createElement(B.A,{className:F.subscriptionStar,type:"gold",size:"small"})),s.Ay.createElement("div",{className:F.info},s.Ay.createElement("h3",{className:F.title},(0,n.qg)(y,A)),s.Ay.createElement("p",{className:F.description},y(S?"StarsSubscriptionExpired":p?"StarsSubscriptionExpires":"StarsSubscriptionRenews",f))),s.Ay.createElement("div",{className:F.status},p||S?s.Ay.createElement("div",{className:F.statusEnded},y(S?"StarsSubscriptionStatusExpired":"StarsSubscriptionStatusCancelled")):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:F.statusPricing},s.Ay.createElement(B.A,{className:F.star,type:"gold",size:"adaptive"}),s.Ay.createElement("span",{className:F.amount},(0,K.Sm)(l.amount))),s.Ay.createElement("div",{className:F.statusPeriod},y("StarsParticipantSubscriptionPerMonth")))))}));var D=a(86046),U=a(58968),J=a(62587),V=a(27860);const j={root:"jQkp75Gb",preview:"OYGSN3PF",count:"KX1yz2Jy",thumb:"EvinKr5k",noOutline:"KSAAsUDv",itemCount1:"GxDajfX_",itemCount2:"jXuZoxq8",itemCount3:"TPn3XGHJ",blurry:"hWZuxLS8",full:"w56QPFhl",fadeIn:"ds43W8Wq"};function q(e){let{boughtMedia:t,index:a,className:r}=e;const i=t.video||t.photo,l=(0,n.VO)(i,"pictogram"),c=(0,n.VD)(i),m=(0,J.A)(l);return s.Ay.createElement("div",{className:(0,o.A)(j.thumb,void 0!==a&&`stars-transaction-media-${a}`,r)},c&&s.Ay.createElement("img",{className:j.blurry,src:c,alt:""}),m&&s.Ay.createElement("img",{className:j.full,src:m,alt:""}))}const H=(0,s.ph)((e=>{let{media:t,className:a,isTransactionPreview:r,onClick:n}=e;const i=Math.min(t.length,r?2:3),l="mediaType"in t[0];return s.Ay.createElement("div",{className:(0,o.A)(j.root,j[`itemCount${i}`],r&&j.preview,a),dir:"rtl",onClick:n},t.slice(0,i).reverse().map(((e,t,a)=>{const n=a.length-t-1;return"mediaType"in e?s.Ay.createElement(V.A,{className:j.thumb,isVisible:!0,width:e.width,height:e.height,thumbDataUri:e.thumbnail?.dataUri}):s.Ay.createElement(q,{className:(0,o.A)(r&&n>0&&j.noOutline),boughtMedia:e,index:n})})),l&&s.Ay.createElement("div",{className:j.count},s.Ay.createElement(x.A,{name:"stars-lock"}),t.length>1?t.length:""))})),W={root:"aHAxv_Jg",info:"oyYrn3II",stars:"K5lc75ku",amount:"QLQPuLAr",title:"e0pK8CJ_",description:"xbERdDMQ",date:"l6CwQ0Ev",positive:"P_42_ZWR",negative:"TGjnLJfH",preview:"cnjGihOT",subscriptionStar:"z43YvnDX"},Q=(0,s.ph)((e=>{let{transaction:t,className:a}=e;const{openStarsTransactionModal:l}=(0,r.ko)(),{date:c,stars:p,photo:y,peer:A,extendedMedia:h,subscriptionPeriod:S}=t,f=(0,d.A)(),g="peer"===A.type?A.id:void 0,v=(0,G.A)(function(e){return t=>e?(0,i.PVB)(t,e):void 0}(g)),E=(0,s.Kr)((()=>{let e,a,s,r=t.extendedMedia?f("StarMediaPurchase"):t.subscriptionPeriod?f("StarSubscriptionPurchase"):t.isReaction?f("StarsReactionsSent"):t.title;if("peer"===t.peer.type)e=v&&(0,n.qg)(f,v),s=v||U.lw;else{const a=(0,D.Pc)(t.peer);r=a.title||f(a.titleKey),e=f(a.subtitleKey),s=a}return t.photo&&(s=void 0),t.isRefund&&(a=f("StarsRefunded")),t.hasFailed&&(a=f("StarsFailed")),t.isPending&&(a=f("StarsPending")),{title:r,description:e,avatarPeer:s,status:a}}),[f,v,t]),b=(0,m.A)((()=>{l({transaction:t})}));return s.Ay.createElement("div",{className:(0,o.A)(W.root,a),onClick:b},s.Ay.createElement("div",{className:W.preview},h?s.Ay.createElement(H,{media:h,isTransactionPreview:!0}):s.Ay.createElement(u.A,{size:"medium",webPhoto:y,peer:E.avatarPeer}),Boolean(S)&&s.Ay.createElement(B.A,{className:W.subscriptionStar,type:"gold",size:"small"})),s.Ay.createElement("div",{className:W.info},s.Ay.createElement("h3",{className:W.title},E.title),s.Ay.createElement("p",{className:W.description},E.description),s.Ay.createElement("p",{className:W.date},(0,O.L2)(1e3*c,f.code,!0),E.status&&` — (${E.status})`)),s.Ay.createElement("div",{className:W.stars},s.Ay.createElement("span",{className:(0,o.A)(W.amount,p<0?W.negative:W.positive)},(0,D.hk)(p)),s.Ay.createElement(B.A,{className:W.star,type:"gold",size:"adaptive"})))})),X=["all","inbound","outbound"],$=[{title:"StarsTransactionsAll"},{title:"StarsTransactionsIncoming"},{title:"StarsTransactionsOutgoing"}],Y="StarsTransactionItem",Z=(0,s.ph)((0,r.EK)((e=>({starsBalanceState:e.stars,canBuyPremium:!(0,i.n_C)(e)})))((e=>{let{modal:t,starsBalanceState:a,canBuyPremium:l}=e;const{closeStarsBalanceModal:u,loadStarsTransactions:S,openStarsGiftingModal:v,openInvoice:E}=(0,r.ko)(),{balance:b,history:N,subscriptions:I}=a||{},C=(0,d.A)(),T=(0,P.A)(),[K,O]=(0,s.J0)(!0),[G,F]=(0,s.J0)(0),[D,U,J]=(0,k.A)(),V=Boolean(t&&a),{originPayment:j,originReaction:q}=t||{},H=j?.invoice?.amount||q?.amount,W=H?H-(b||0):void 0,Z=(0,s.Kr)((()=>{if(!W||W<0)return;const e=(0,r.mS)();if(q){const t=(0,i.hds)(e,q.chatId);if(!t)return;return C("StarsNeededTextReactions",(0,n.Js)(C,t))}if(j){const t=(0,i.mBe)(e,j.botId);if(!t)return;return C("StarsNeededText",(0,n.Yg)(t))}}),[C,j,q,W]),ee=Boolean(N?.all?.transactions.length&&!j&&!q),te=!j&&!q;(0,s.vJ)((()=>{V||(O(!0),F(0),J())}),[V]),(0,s.vJ)((()=>{H?U():J()}),[H]);const ae=(0,s.Kr)((()=>{if(!V)return;const e=C("lng_credits_summary_options_about").split("{link}");return[e[0],s.Ay.createElement(p.A,{url:C("StarsTOSLink"),text:C("lng_credits_summary_options_about_link")}),e[1]]}),[V,C]),se=(0,m.A)((()=>{S({type:X[G]})})),re=(0,m.A)((()=>{v({})})),ne=(0,m.A)((e=>{E({type:"stars",stars:e.stars,currency:e.currency,amount:e.amount})}));return s.Ay.createElement(h.A,{className:R.root,isOpen:V,onClose:u},s.Ay.createElement("div",{className:(0,o.A)(R.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;O(t<=150)}},s.Ay.createElement(A.A,{round:!0,size:"smaller",className:R.closeButton,color:"translucent",onClick:()=>u(),ariaLabel:T("Close")},s.Ay.createElement(x.A,{name:"close"})),s.Ay.createElement(z,{balance:b||0,className:R.modalBalance}),s.Ay.createElement("div",{className:(0,o.A)(R.header,K&&R.hiddenHeader)},s.Ay.createElement("h2",{className:R.starHeaderText},C("TelegramStars"))),s.Ay.createElement("div",{className:R.section},s.Ay.createElement("img",{className:R.logo,src:f,alt:"",draggable:!1}),s.Ay.createElement("img",{className:R.logoBackground,src:g,alt:"",draggable:!1}),s.Ay.createElement("h2",{className:R.headerText},W?C("StarsNeededTitle",H):C("TelegramStars")),s.Ay.createElement("div",{className:R.description},(0,c.A)(Z||C("TelegramStarsInfo"),["simple_markdown","emoji"])),l&&!D&&s.Ay.createElement(A.A,{className:R.starButton,onClick:U},C("Star.List.BuyMoreStars")),l&&!D&&te&&s.Ay.createElement(A.A,{className:(0,o.A)(R.starButton,"settings-main-menu-star"),color:"translucent",onClick:re},s.Ay.createElement(B.A,{className:"icon",type:"gold",size:"big"}),C("TelegramStarsGift")),D&&a?.topupOptions&&s.Ay.createElement(y.A,{starsNeeded:W,options:a.topupOptions,onClick:ne})),s.Ay.createElement("div",{className:R.secondaryInfo},ae),ee&&Boolean(I?.list.length)&&s.Ay.createElement("div",{className:R.section},s.Ay.createElement("h3",{className:R.sectionTitle},C("StarMySubscriptions")),s.Ay.createElement("div",{className:R.subscriptions},I?.list.map((e=>s.Ay.createElement(L,{key:e.id,subscription:e}))))),ee&&s.Ay.createElement("div",{className:R.container},s.Ay.createElement("div",{className:R.section},s.Ay.createElement(_.Ay,{name:T.isRtl?"slideOptimizedRtl":"slideOptimized",activeKey:G,renderCount:$.length,shouldRestoreHeight:!0,className:R.transition},s.Ay.createElement(M.A,{onLoadMore:se,items:N?.[X[G]]?.transactions,scrollContainerClosest:`.${R.main}`,itemSelector:`.${Y}`,className:R.transactions,noFastList:!0},N?.[X[G]]?.transactions.map((e=>s.Ay.createElement(Q,{key:`${e.id}-${e.isRefund}`,transaction:e,className:Y})))))),s.Ay.createElement(w.A,{className:R.tabs,tabClassName:R.tab,activeTab:G,tabs:$,onSwitchTab:F}))))}))),ee=(0,s.ph)((0,r.EK)((e=>{const t=(0,i.nTw)(e).payment,a=t?.botId?(0,i.mBe)(e,t.botId):void 0,s="message"===t.inputInvoice?.type?t.inputInvoice:void 0,r=s?(0,i.O5q)(e,s.chatId,s.messageId):void 0,n=s?(0,i.hds)(e,s.chatId):void 0,o=r?.content.paidMedia,l="chatInviteSubscription"===t.inputInvoice?.type?t.inputInvoice:void 0,c=l?.inviteInfo;return{bot:a,starsBalanceState:e.stars,payment:t,paidMediaMessage:o?r:void 0,paidMediaChat:o?n:void 0,inviteInfo:c}}))((e=>{let{modal:t,bot:a,starsBalanceState:i,payment:l,paidMediaMessage:y,paidMediaChat:S,inviteInfo:f}=e;const{closePaymentModal:v,openStarsBalanceModal:E,sendStarPaymentForm:b}=(0,r.ko)(),[N,I,C]=(0,k.A)(),T=Boolean(t&&i),x=l?.invoice?.photo,M=(0,d.A)(),w=(0,P.A)();(0,s.vJ)((()=>{T||C()}),[T]);const _=(0,s.Kr)((()=>{if(!l?.invoice)return"";const e=(0,n.Yg)(a),t=M("Stars.Intro.PurchasedText.Stars",l.invoice.amount);if(y){const e=y.content.paidMedia.extendedMedia,a=e.every((e=>!e.duration)),s=e.every((e=>!!e.duration)),r=M(a?"Stars.Transfer.Photos":s?"Stars.Transfer.Videos":"Media",e.length),i=(0,n.Js)(M,S);return M("Stars.Transfer.UnlockInfo",[r,i,t])}return f?w("StarsSubscribeText",{chat:f.title,amount:l.invoice.amount},{withNodes:!0,withMarkdown:!0,pluralValue:l.invoice.amount}):M("Stars.Transfer.Info",[l.invoice.title,e,t])}),[l?.invoice,a,M,w,y,S,f]),K=(0,s.Kr)((()=>{if(f)return w("StarsSubscribeInfo",{link:s.Ay.createElement(p.A,{url:w("StarsSubscribeInfoLink"),text:w("StarsSubscribeInfoLinkText")})},{withNodes:!0})}),[f,w]),O=(0,s.Kr)((()=>{if(f)return(0,n.nr)(f)}),[f]),G=(0,m.A)((()=>{const e=l?.invoice?.amount,t=i?.balance;void 0!==e&&void 0!==t&&(e>t?E({originPayment:l}):(b(),I()))}));return s.Ay.createElement(h.A,{contentClassName:R.paymentContent,isOpen:T,hasAbsoluteCloseButton:!0,isSlim:!0,onClose:v},s.Ay.createElement(z,{balance:i?.balance||0,className:R.modalBalance}),s.Ay.createElement("div",{className:R.paymentImages,dir:M.isRtl?"ltr":"rtl"},y?s.Ay.createElement(H,{media:y.content.paidMedia.extendedMedia}):O?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(u.A,{className:R.paymentPhoto,peer:O,size:"giant"}),s.Ay.createElement(B.A,{type:"gold",size:"adaptive",className:R.avatarStar})):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(u.A,{peer:a,size:"giant"}),x&&s.Ay.createElement(u.A,{className:R.paymentPhoto,webPhoto:x,size:"giant"})),s.Ay.createElement("img",{className:R.paymentImageBackground,src:g,alt:"",draggable:!1})),s.Ay.createElement("h2",{className:R.headerText},M(O?"StarsSubscribeTitle":"StarsConfirmPurchaseTitle")),s.Ay.createElement("div",{className:R.description},(0,c.A)(_,["simple_markdown","emoji"])),s.Ay.createElement(A.A,{className:R.paymentButton,size:"smaller",onClick:G,isLoading:N},M("Stars.Transfer.Pay"),s.Ay.createElement("div",{className:R.paymentAmount},l?.invoice?.amount,s.Ay.createElement(B.A,{className:R.paymentButtonStar,size:"small"}))),K&&s.Ay.createElement("div",{className:(0,o.A)(R.disclaimer,R.smallerText)},K))})));var te=a(89925),ae=a(85982),se=a(29886),re=a(79577),ne=a(70046);const ie="sso9uZM6",oe="ZZAj3hj7",le=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s="peer"===a?.transaction?.peer?.type&&a.transaction.peer.id,r=s?(0,i.PVB)(e,s):void 0,n=s?(0,i.mBe)(e,s):void 0,o=a?.transaction.stars,l=(0,i.WLj)(e,o);return{peer:r,user:n,canPlayAnimatedEmojis:(0,i.BWX)(e),starGiftSticker:l}}))((e=>{let{modal:t,peer:a,user:i,canPlayAnimatedEmojis:l,starGiftSticker:y}=e;const{showNotification:A,openMediaViewer:h,closeStarsTransactionModal:S}=(0,r.ko)(),f=(0,d.A)(),v=(0,P.A)(),{transaction:E}=t||{},b=(0,m.A)((()=>{const e=E?.extendedMedia;e&&h({origin:te.TQ.StarsTransaction,standaloneMedia:e.flatMap((e=>Object.values(e)))})})),N=(0,s.Kr)((()=>{const e=f("lng_credits_box_history_entry_gift_in_about").split("{link}");return s.Ay.createElement(s.Ay.Fragment,null,e[0],s.Ay.createElement(p.A,{url:f("lng_credits_box_history_entry_gift_about_url"),text:f("GiftStarsSubtitleLinkName")},(0,c.A)(f("GiftStarsSubtitleLinkName"),["simple_markdown"])),e[1])}),[f]),I=(0,s.Kr)((()=>v("CreditsBoxHistoryEntryGiftOutAbout",{user:s.Ay.createElement("strong",null,i?(0,n.Yg)(i):""),link:s.Ay.createElement(p.A,{url:f("lng_credits_box_history_entry_gift_about_url"),text:f("GiftStarsSubtitleLinkName")},(0,c.A)(f("GiftStarsSubtitleLinkName"),["simple_markdown"]))},{withNodes:!0})),[v,i,f]),C=(0,s.Kr)((()=>{if(!E)return;const{isGift:e,isPrizeStars:t,photo:r}=E,i=E.peer&&"peer"!==E.peer.type&&(0,D.Pc)(E.peer)||void 0,c="peer"===E.peer?.type?E.peer.id:void 0,m=E.peer&&f(function(e){switch(e.type){case"appStore":return"AppStore";case"playMarket":return"PlayMarket";case"fragment":return"Fragment";case"premiumBot":return"StarsTransactionBot";case"ads":return"StarsTransactionAds";default:return"Stars.Transaction.Unsupported.Title"}}(E.peer)),d=E.extendedMedia?f("StarMediaPurchase"):E.subscriptionPeriod?f("StarSubscriptionPurchase"):E.isReaction?f("StarsReactionsSent"):i?i.title||f(i.titleKey):E.title,h=a&&E.messageId?(0,n.yt)(a,void 0,E.messageId):void 0,S=E.extendedMedia,v=S?.length||0,C=S?.every((e=>!e.video)),T=S?.every((e=>!e.photo)),k=f(C?"Stars.Transfer.Photos":T?"Stars.Transfer.Videos":"Media",v),P=E.description||(S?k:void 0),M=!S&&!e&&!t,w=r?void 0:a||i,_=s.Ay.createElement("div",{className:(0,o.A)("qBOIq6Jn","VqKkGnpy")},S&&s.Ay.createElement(H,{className:(0,o.A)("C5r59yiV","transaction-media-preview"),media:S,onClick:b}),(e||t)&&y&&s.Ay.createElement(re.A,{key:E.id,sticker:y,play:l,noLoop:!0,nonInteractive:!0}),M&&s.Ay.createElement(u.A,{peer:w,webPhoto:r,size:"jumbo"}),s.Ay.createElement("img",{className:(0,o.A)("nML8IQqX"),src:g,alt:"",draggable:!1}),d&&s.Ay.createElement("h1",{className:oe},d),(e||t)&&s.Ay.createElement("h1",{className:(0,o.A)(oe,"KIlRQemn")},f(t?"StarsGiveawayPrizeReceived":E?.isMyGift?"StarsGiftSent":"StarsGiftReceived")),s.Ay.createElement("p",{className:"NuWOY7ED"},P),s.Ay.createElement("p",{className:ie},s.Ay.createElement("span",{className:(0,o.A)(ie,E.stars<0?"xDyq9cc0":"jvBZSrpd")},(0,D.hk)(E.stars)),s.Ay.createElement(B.A,{type:"gold",size:"middle"})),e&&s.Ay.createElement("span",{className:"mFYcIYMJ"},E?.isMyGift?I:N)),K=[];K.push([f(E.stars<0||E.isMyGift?"Stars.Transaction.To":c?"Star.Transaction.From":"Stars.Transaction.Via"),c?{chatId:c}:m||""]),h&&K.push([f("Stars.Transaction.Reaction.Post"),s.Ay.createElement(p.A,{url:h,text:h})]),t&&K.push([f("BoostReason"),f("Giveaway")],[f("Gift"),f("Stars",E.stars,"i")]),E.id&&!t&&K.push([f("Stars.Transaction.Id"),s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"tMF8VIOM",onClick:()=>{(0,ae.eM)(E.id),A({message:f("StarsTransactionIDCopied")})}},E.id),s.Ay.createElement(x.A,{className:"voCttFzS",name:"copy"}))]),K.push([f("Stars.Transaction.Date"),(0,O.L2)(1e3*E.date,f.code,!0)]);const R=f("lng_credits_box_out_about").split("{link}");return{header:_,tableData:K,footer:s.Ay.createElement("span",{className:"KgzPpgS6"},R[0],s.Ay.createElement(p.A,{url:f("StarsTOSLink"),text:f("lng_credits_summary_options_about_link")}),R[1])}}),[E,f,a,I,N,l,y]),T=(0,se.A)(C)||C;return s.Ay.createElement(ne.A,{isOpen:Boolean(E),className:"IzhfRIWu",header:T?.header,tableData:T?.tableData,footer:T?.footer,buttonText:f("OK"),onClose:S})}))),ce="oBLHWBtJ",me=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a?.subscription.peerId;return{peer:s?(0,i.PVB)(e,s):void 0}}))((e=>{let{modal:t,peer:a}=e;const{closeStarsSubscriptionModal:n,fulfillStarsSubscription:i,changeStarsSubscription:l,checkChatInvite:c,loadStarStatus:y}=(0,r.ko)(),h=(0,d.A)(),S=(0,P.A)(),{subscription:f}=t||{},v=(0,s.Kr)((()=>{if(!f)return"hidden";if(f.canRefulfill)return"refulfill";const e=f.until>Date.now()/1e3;return e&&!f.isCancelled?"cancel":e&&f.isCancelled?"renew":e?"ok":"restart"}),[f]),E=(0,m.A)((()=>{if(f){switch(v){case"refulfill":i({id:f.id});break;case"restart":c({hash:f.chatInviteHash}),y();break;case"renew":l({id:f.id,isCancelled:!1});break;case"cancel":l({id:f.id,isCancelled:!0})}n()}})),b=(0,s.Kr)((()=>{if(!f||!a)return;const{pricing:e,until:t,isCancelled:r,canRefulfill:n}=f,i=s.Ay.createElement("div",{className:(0,o.A)("E3R22yAI","gLkKCjkD")},s.Ay.createElement("div",{className:"wuTMXDP9"},s.Ay.createElement(u.A,{peer:a,size:"jumbo"}),s.Ay.createElement(B.A,{className:"enRetSny",type:"gold",size:"adaptive"})),s.Ay.createElement("img",{className:(0,o.A)("zGCayu45"),src:g,alt:"",draggable:!1}),s.Ay.createElement("h1",{className:"qdydQHgc"},h("StarsSubscriptionTitle")),s.Ay.createElement("p",{className:"FI6rEJlK"},S("StarsPerMonth",{amount:e.amount},{withNodes:!0,specialReplacement:{"⭐️":s.Ay.createElement(B.A,{className:"J8HIcN6k",size:"adaptive",type:"gold"})}}))),l=[];l.push([h("StarsSubscriptionChannel"),{chatId:a.id}]);const c=t<Date.now()/1e3;l.push([h(c?"StarsSubscriptionUntilExpired":r?"StarsSubscriptionUntilExpires":"StarsSubscriptionUntilRenews"),(0,O.L2)(1e3*t,h.code,!0)]);const m=S("StarsTransactionTOS",{link:s.Ay.createElement(p.A,{url:S("StarsTransactionTOSLink"),text:S("StarsTransactionTOSLinkText")})},{withNodes:!0});return{header:i,tableData:l,footer:s.Ay.createElement("span",{className:"GMWMuWCr"},s.Ay.createElement("p",{className:ce},m),r&&s.Ay.createElement("p",{className:"nkwiG25Q"},h("StarsSubscriptionCancelledText")),n&&s.Ay.createElement("p",{className:ce},h("StarsSubscriptionRefulfillInfo",(0,O.L2)(1e3*t,h.code,!0))),!r&&!n&&c&&s.Ay.createElement("p",{className:ce},h("StarsSubscriptionExpiredInfo",(0,O.L2)(1e3*t,h.code,!0))),!r&&!n&&!c&&s.Ay.createElement("p",{className:ce},h("StarsSubscriptionCancelInfo",(0,O.L2)(1e3*t,h.code,!0))),"hidden"!==v&&s.Ay.createElement(A.A,{size:"smaller",color:"cancel"===v?"danger":"primary",isText:"cancel"===v,onClick:E},h("cancel"===v?"StarsSubscriptionCancel":"refulfill"===v?"StarsSubscriptionRefulfill":"restart"===v?"StarsSubscriptionAgain":"renew"===v?"StarsSubscriptionRenew":"OK")))}}),[v,S,h,a,f]),N=(0,se.A)(b)||b;return s.Ay.createElement(ne.A,{isOpen:Boolean(f),className:"eR_RZfGB",header:N?.header,tableData:N?.tableData,footer:N?.footer,onClose:n})})));var de=a(84991),ue=a(19806),pe=a(32581),ye=a(66644),Ae=a(15283),he=a(93545),Se=a(68292),fe=a(85118);const ge={root:"CuBAw2yg",slider:"euOOAbZi",sparkles:"_L1YQTIP",progress:"kwK0cNPX",floatingBadgeWrapper:"uvlMoXj0",floatingBadge:"BGSDWAYc",floatingBadgeText:"qqQan8uF",floatingBadgeTriangle:"mIdJOmsB"},ve=[50,100,500,1e3,2e3,5e3,1e4];function Ee(e,t){const a=e.findIndex((e=>t<=e)),s=e[a-1]||1,r=e[a]||e[e.length-1];return a+(t-s)/(r-s)}function be(e,t){const a=Math.floor(t),s=e[a-1]||1,r=s+((e[a]||e[e.length-1])-s)*(t-a);return Math.round(r)}const Ne=(0,s.ph)((e=>{let{maxValue:t,defaultValue:a,className:r,onChange:n}=e;const i=(0,s.li)(null),l=(0,s.Kr)((()=>{const e=[];for(let a=0;a<ve.length;a++)if(ve[a]<t&&e.push(ve[a]),ve[a]>=t){e.push(t);break}return e}),[t]),[c,d]=(0,s.J0)(0);(0,Ae.A)((()=>{d(Ee(l,a))}));const u=(0,m.A)((()=>{const e=i.current;if(!e)return;const t=e.parentElement;(0,ye.YS)((()=>{const a=t.offsetLeft+e.offsetWidth/2,s=t.offsetLeft+t.offsetWidth-e.offsetWidth/2;(0,ye.RK)((()=>{t.style.setProperty("--_min-x",`${a}px`),t.style.setProperty("--_max-x",`${s}px`)}))}))}));(0,he.A)(i,u);const p=(0,m.A)((e=>{const t=Number(e.currentTarget.value);d(t),n(be(l,t))}));return s.Ay.createElement("div",{className:(0,o.A)(ge.root,r),style:"--progress: "+c/l.length},s.Ay.createElement("div",{className:ge.floatingBadgeWrapper},s.Ay.createElement("div",{className:ge.floatingBadge,ref:i},s.Ay.createElement("div",{className:ge.floatingBadgeText},s.Ay.createElement(x.A,{name:"star",className:ge.floatingBadgeIcon}),s.Ay.createElement(Se.A,{text:(0,K.Sm)(be(l,c))})),s.Ay.createElement("svg",{className:ge.floatingBadgeTriangle,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},s.Ay.createElement("defs",null,s.Ay.createElement("linearGradient",{id:"StarBadgeTriangle",x1:"0",x2:"1",y1:"0",y2:"0"},s.Ay.createElement("stop",{offset:"-50%","stop-color":"#FFAA00"}),s.Ay.createElement("stop",{offset:"150%","stop-color":"#FFCD3A"}))),s.Ay.createElement("path",{d:"m 28,4 v 9 c 0.0089,7.283278 -3.302215,5.319646 -6.750951,8.589815 l -5.8284,5.82843 c -0.781,0.78105 -2.0474,0.78104 -2.8284,0 L 6.7638083,21.589815 C 2.8288652,17.959047 0.04527024,20.332086 0,13 V 4 C 0,4 0.00150581,0.97697493 3,1 5.3786658,1.018266 22.594519,0.9142007 25,1 c 2.992326,0.1067311 3,3 3,3 z",fill:"url(#StarBadgeTriangle)"})))),s.Ay.createElement("div",{className:ge.progress}),s.Ay.createElement(fe.A,{preset:"progress",className:ge.sparkles}),s.Ay.createElement("input",{className:ge.slider,type:"range",min:0,max:l.length,defaultValue:Ee(l,a),step:"any",onChange:p}))})),Ie={avatarIcon:"author-hidden",customPeerAvatarColor:"#9eaab5",isCustomPeer:!0,titleKey:"StarsReactionAnonymous"},Ce=(0,s.ph)((0,r.EK)(((e,t)=>{let{modal:a}=t;const s=a&&(0,i.hds)(e,a.chatId),r=a&&(0,i.O5q)(e,a.chatId,a.messageId),n=e.stars?.balance;return{chat:s,message:r,starBalance:n,maxAmount:e.appConfig?.paidReactionMaxAmount||2500,defaultPrivacy:e.settings.paidReactionPrivacy}}))((e=>{let{modal:t,chat:a,message:o,maxAmount:l,starBalance:u,defaultPrivacy:y}=e;const{closePaidReactionModal:S,addLocalPaidReaction:f}=(0,r.ko)(),[g,v]=(0,s.J0)(50),[E,b,N]=(0,k.A)(),[I,C]=(0,s.J0)(!0),T=(0,d.A)(),B=(0,P.A)(),M=(0,m.A)((e=>{C(e.target.checked)})),w=(0,m.A)((e=>{v(e),b()}));(0,s.vJ)((()=>{t||N()}),[t]),(0,s.vJ)((()=>{const e=o?.reactions?.topReactors?.find((e=>e.isMe));C(e?!e.isAnonymous:y||!0)}),[y,o?.reactions?.topReactors]);const _=(0,m.A)((()=>{t&&(f({chatId:t.chatId,messageId:t.messageId,count:g,isPrivate:!I}),S())})),R=(0,s.Kr)((()=>{const e=(0,r.mS)(),t=o?.reactions?.topReactors;if(!t)return;const a=[];let s=!1;if(t.forEach((t=>{const r=t.peerId?(0,i.mBe)(e,t.peerId):void 0;(r||t.isAnonymous||t.isMe)&&(t.isMe&&(s=!0),a.push({amount:t.count,localAmount:t.isMe&&E?g:0,isMe:t.isMe,isAnonymous:t.isAnonymous,user:r}))})),!s&&E){const t=(0,i.mBe)(e,e.currentUserId);a.push({amount:0,localAmount:g,isMe:!0,user:t})}return a.sort(((e,t)=>t.amount+t.localAmount-(e.amount+e.localAmount))),a.slice(0,3)}),[E,o?.reactions?.topReactors,g]),O=a&&(0,n.Js)(T,a);return s.Ay.createElement(h.A,{isOpen:Boolean(t),onClose:S,isSlim:!0,hasAbsoluteCloseButton:!0,contentClassName:"RdhRpsCn"},void 0!==u&&s.Ay.createElement(z,{balance:u,className:"Q3560fzx"}),s.Ay.createElement(Ne,{className:"xePPMXOI",defaultValue:50,maxValue:l,onChange:w}),s.Ay.createElement("h3",{className:"yzbjj73U"},T("StarsReactionTitle")),s.Ay.createElement("div",{className:"BlpfdOtK"},(0,c.A)(T("StarsReactionText",O),["simple_markdown","emoji"])),s.Ay.createElement(pe.A,null,R&&s.Ay.createElement("div",{className:"bnou4CpV"},T("StarsReactionTopSenders"))),R&&s.Ay.createElement("div",{className:"QludQDKR"},R.map((e=>{const t=(0,K.Sm)(e.amount+e.localAmount),a=e.isAnonymous||!e.user||e.isMe&&!I?Ie:e.user,r="isCustomPeer"in a?T(a.titleKey):(0,n.Yg)(a);return s.Ay.createElement(de.A,{className:"Ty4Ud_Rd",key:`${e.user?.id||"anonymous"}-${t}`,peer:a,badgeText:t,badgeIcon:"star",badgeClassName:"JBF9pTUK",text:r})}))),s.Ay.createElement(ue.A,{className:"oQ5Ar48z",checked:I,onChange:M,label:T("StarsReactionShowMeInTopSenders")}),s.Ay.createElement(A.A,{size:"smaller",onClick:_},B("SendPaidReaction",{amount:g},{withNodes:!0,specialReplacement:{"⭐️":s.Ay.createElement(x.A,{className:"NJJFuym9",name:"star"})}})),s.Ay.createElement("p",{className:"KRvkHeo1"},B("StarsReactionTerms",{link:s.Ay.createElement(p.A,{text:B("StarsReactionLinkText"),url:B("StarsReactionLink")})},{withNodes:!0})))})))},84991:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(84051),r=a(87357),n=a(21849),i=a(18276);const o={root:"hyRfEyRz",top:"p_Ny8jqJ",badge:"QRrryqp4",text:"I5jdPgFL"},l=(0,s.ph)((e=>{let{peer:t,text:a,badgeText:l,badgeIcon:c,className:m,badgeClassName:d,onClick:u}=e;return s.Ay.createElement("div",{className:(0,r.A)(o.root,u&&o.clickable,m),onClick:u},s.Ay.createElement("div",{className:o.top},s.Ay.createElement(n.A,{size:"large",peer:t}),l&&s.Ay.createElement("div",{className:(0,r.A)(o.badge,d)},c&&s.Ay.createElement(i.A,{name:c}),l)),a&&s.Ay.createElement("p",{className:o.text},a))}))},85118:(e,t,a)=>{a.d(t,{A:()=>m});var s=a(84051),r=a(87357),n=a(95807);const i="fWE9Tkfe",o="wapdILU7",l=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],c=function(e){const t=[];for(let e=0;e<100;e++)t.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return t}(),m=(0,s.ph)((e=>{let{className:t,...a}=e;return"reaction"===a.preset?s.Ay.createElement("div",{className:(0,r.A)(i,"JJ_DPeVV",t)},l.map((e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),a=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return s.Ay.createElement("div",{className:o,style:(0,n.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${a}%`,`scale: ${e.size}%`)},"✦")}))):"progress"===a.preset?s.Ay.createElement("div",{className:(0,r.A)(i,"F0JPgXgb",t)},c.map((e=>s.Ay.createElement("div",{className:o,style:(0,n.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`)},"✦")))):void 0}))},34642:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(84051),r=a(87357),n=a(59030),i=a(64493),o=a(8410);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l.apply(this,arguments)}const c=(0,s.ph)((e=>{let{confirmButtonText:t,isConfirmDisabled:a,shouldAdaptToSearch:c,withFixedHeight:m,onConfirm:d,withPremiumGradient:u,...p}=e;const y=(0,n.A)(),A=Boolean(d||p.onClose);return s.Ay.createElement(o.A,l({},p,{isSlim:!0,className:(0,r.A)(c&&"WGSZ8u75",m&&"CrEsDylb",p.className),contentClassName:(0,r.A)("FuFYE0AA",p.contentClassName),headerClassName:(0,r.A)("iEptOmIp",p.headerClassName)}),p.children,A&&s.Ay.createElement("div",{className:"HqeDTaSr"},s.Ay.createElement(i.A,{withPremiumGradient:u,onClick:d||p.onClose,color:"primary",size:"smaller",disabled:a},t||y("Confirm"))))}))},70046:(e,t,a)=>{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),n=a(87357),i=a(17712),o=a(21849),l=a(71690),c=a(64493),m=a(8410);const d="Cnh5ENvm",u=(0,s.ph)((e=>{let{isOpen:t,title:a,tableData:u,headerAvatarPeer:p,header:y,footer:A,buttonText:h,className:S,onClose:f,onButtonClick:g}=e;const{openChat:v}=(0,r.ko)(),E=(0,i.A)((e=>{v({id:e}),f()}));return s.Ay.createElement(m.A,{isOpen:t,hasCloseButton:Boolean(a),hasAbsoluteCloseButton:!a,isSlim:!0,title:a,className:S,contentClassName:"KYHkJ9Qf",onClose:f},p&&s.Ay.createElement(o.A,{peer:p,size:"jumbo",className:"SHQbPR5Y"}),y,s.Ay.createElement("div",{className:"DFRB0Ad4"},u?.map((e=>{let[t,a]=e;return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:(0,n.A)(d,"AwnUe4Qk")},t),s.Ay.createElement("div",{className:(0,n.A)(d,"JGH6P9Az")},"object"==typeof a&&"chatId"in a?s.Ay.createElement(l.A,{peerId:a.chatId,className:"aS9U4hiQ",forceShowSelf:!0,fluid:!0,clickArg:a.chatId,onClick:E}):a))}))),A,h&&s.Ay.createElement(c.A,{size:"smaller",onClick:g||f},h))}))},1526:(e,t,a)=>{a.d(t,{A:()=>A});var s=a(84051),r=a(87357),n=a(17142),i=a(14242),o=a(4961),l=a(37661),c=a(39351),m=a(59030),d=a(18276),u=a(9267),p=a(64493);const y={options:"OnCj9kef",option:"tpTHQAUF",active:"U_9MXPG5",wideOption:"dJcJl33b",optionTop:"x9G4lqMf",stackedStars:"etXLebjM",stackedStar:"swttXv9P",optionBottom:"tK7La7L2",moreOptions:"AWXBaWLW",iconDown:"zWYHZJmd"},A=(0,s.ph)((e=>{let{isActive:t,className:a,options:A,selectedStarOption:h,selectedStarCount:S,starsNeeded:f,onClick:g}=e;const v=(0,m.A)(),E=(0,c.A)(),[b,N,I]=(0,l.A)();(0,s.vJ)((()=>{t||I()}),[t]);const[C,T]=(0,s.Kr)((()=>{if(!A)return[void 0,!1];const e=A.reduce(((e,t)=>e.stars>t.stars?e:t)),t=f&&e.stars<f,a=[];let s=0,r=!1;return A.forEach(((e,n)=>{e.isExtended||s++,f&&!t&&e.stars<f||(b||!e.isExtended?a.push({option:e,starsCount:Math.min(s,6),isWide:n===A.length-1}):r=!0)})),[a,r]}),[b,A,f]);return s.Ay.createElement("div",{className:(0,r.A)(y.options,a)},C?.map((e=>{let{option:t,starsCount:a,isWide:l}=e;const c=C?.length,m=c%2==0,d=t===h;let p;if(t&&"winners"in t){const e=t.winners.find((e=>e.users===S))||t.winners.reduce(((e,t)=>t.users>e.users?t:e),t.winners[0]);p=e?.perUserStars}return s.Ay.createElement("div",{className:(0,r.A)(y.option,!m&&l&&y.wideOption,d&&y.active),key:t.stars,onClick:()=>g?.(t)},s.Ay.createElement("div",{className:y.optionTop},"+",(0,i.Sm)(t.stars),s.Ay.createElement("div",{className:y.stackedStars,dir:E.isRtl?"ltr":"rtl"},Array.from({length:a}).map((()=>s.Ay.createElement(u.A,{className:y.stackedStar,type:"gold",size:"big"}))))),s.Ay.createElement("div",{className:y.optionBottom},(0,n.v)(t.amount,t.currency,v.code)),(d||h&&"winners"in h)&&p&&s.Ay.createElement("div",{className:y.optionBottom},s.Ay.createElement("div",{className:y.perUserStars},(0,o.A)(v("BoostGift.Stars.PerUser",(0,i.Sm)(p))))))})),!b&&T&&s.Ay.createElement(p.A,{className:y.moreOptions,isText:!0,noForcedUpperCase:!0,onClick:N},v("Stars.Purchase.ShowMore"),s.Ay.createElement(d.A,{className:y.iconDown,name:"down"})))}))},86046:(e,t,a)=>{a.d(t,{D5:()=>c,M6:()=>l,Pc:()=>i,hk:()=>o,jA:()=>n});var s=a(14242),r=a(29807);function n(e,t){if("slug"===t.type)return t;if("starsgift"===t.type){const{userId:a,stars:s,amount:n,currency:i}=t,o=(0,r.mBe)(e,a);if(!o)return;return{type:"stars",purpose:{type:"starsgift",user:o,stars:s,amount:n,currency:i}}}if("stars"===t.type){const{stars:e,amount:a,currency:s}=t;return{type:"stars",purpose:{type:"stars",stars:e,amount:a,currency:s}}}if("chatInviteSubscription"===t.type){const{hash:e}=t;return{type:"chatInviteSubscription",hash:e}}if("message"===t.type){const a=(0,r.hds)(e,t.chatId);if(!a)return;return{type:"message",chat:a,messageId:t.messageId}}if("giftcode"===t.type){const{userIds:a,boostChannelId:s,amount:n,currency:i,option:o}=t;return{type:"giveaway",option:o,purpose:{type:"giftcode",amount:n,currency:i,users:a.map((t=>(0,r.mBe)(e,t))).filter(Boolean),boostChannel:s?(0,r.hds)(e,s):void 0}}}if("starsgiveaway"===t.type){const{chatId:a,additionalChannelIds:s,amount:n,currency:i,untilDate:o,areWinnersVisible:l,countries:c,isOnlyForNewSubscribers:m,prizeDescription:d,stars:u,users:p}=t,y=(0,r.hds)(e,a);if(!y)return;const A=s?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"starsgiveaway",purpose:{type:"starsgiveaway",amount:n,currency:i,chat:y,additionalChannels:A,untilDate:o,areWinnersVisible:l,countries:c,isOnlyForNewSubscribers:m,prizeDescription:d,stars:u,users:p}}}if("giveaway"===t.type){const{chatId:a,additionalChannelIds:s,amount:n,currency:i,option:o,untilDate:l,areWinnersVisible:c,countries:m,isOnlyForNewSubscribers:d,prizeDescription:u}=t,p=(0,r.hds)(e,a);if(!p)return;const y=s?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"giveaway",option:o,purpose:{type:"giveaway",amount:n,currency:i,chat:p,additionalChannels:y,untilDate:l,areWinnersVisible:c,countries:m,isOnlyForNewSubscribers:d,prizeDescription:u}}}}function i(e){return"appStore"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.AppleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.AppleTopUp.Subtitle",peerColorId:5}:"playMarket"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.GoogleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.GoogleTopUp.Subtitle",peerColorId:3}:"fragment"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.FragmentTopUp.Title",subtitleKey:"Stars.Intro.Transaction.FragmentTopUp.Subtitle",customPeerAvatarColor:"#000000"}:"premiumBot"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Title",subtitleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Subtitle",peerColorId:1,withPremiumGradient:!0}:"ads"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.TelegramAds.Title",subtitleKey:"Stars.Intro.Transaction.TelegramAds.Subtitle",peerColorId:2}:{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.Unsupported.Title",subtitleKey:"Stars.Intro.Transaction.Unsupported.Title",peerColorId:0}}function o(e){return e<0?`- ${(0,s.Sm)(Math.abs(e))}`:`+ ${(0,s.Sm)(e)}`}function l(e){const{action:t}=e.content;if("giftStars"!==t?.type)return;const{transactionId:a,stars:s}=t;return{id:a,stars:s,peer:{type:"peer",id:e.isOutgoing?e.chatId:e.senderId||e.chatId},date:e.date,isGift:!0,isMyGift:e.isOutgoing||void 0}}function c(e){const{action:t}=e.content;if("prizeStars"!==t?.type)return;const{transactionId:a,stars:s,targetChatId:r}=t;return{id:a,stars:s,peer:{type:"peer",id:r},date:e.date,isPrizeStars:!0}}},58968:(e,t,a)=>{a.d(t,{LS:()=>n,V2:()=>r,lw:()=>s});const s={isCustomPeer:!0,type:"premium",titleKey:"PrivacyPremium",subtitleKey:"PrivacyPremiumText",avatarIcon:"star",isAvatarSquare:!0,withPremiumGradient:!0},r=[{isCustomPeer:!0,type:"contacts",titleKey:"FilterContacts",avatarIcon:"user",isAvatarSquare:!0,peerColorId:5},{isCustomPeer:!0,type:"nonContacts",titleKey:"FilterNonContacts",avatarIcon:"non-contacts",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"groups",titleKey:"FilterGroups",avatarIcon:"group",isAvatarSquare:!0,peerColorId:3},{isCustomPeer:!0,type:"channels",titleKey:"FilterChannels",avatarIcon:"channel",isAvatarSquare:!0,peerColorId:1},{isCustomPeer:!0,type:"bots",titleKey:"FilterBots",avatarIcon:"bots",isAvatarSquare:!0,peerColorId:6}],n=[{isCustomPeer:!0,type:"excludeMuted",titleKey:"FilterMuted",avatarIcon:"mute",isAvatarSquare:!0,peerColorId:6},{isCustomPeer:!0,type:"excludeRead",titleKey:"FilterRead",avatarIcon:"readchats",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"excludeArchived",titleKey:"FilterArchived",avatarIcon:"archive",isAvatarSquare:!0,peerColorId:5}]}}]);
//# sourceMappingURL=6930.e9a2271eafdef90016d5.js.map