"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[5278],{25404:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(84051),o=n(13439),s=n(31481),r=n(85982),a=n(17663),c=n(80140),d=n(39351),l=n(17712),u=n(59030),g=n(24433),m=n(20021);const h=(0,i.ph)(({peerId:e,canManage:t,gift:n,currentUserEmojiStatus:h,collectibleEmojiStatuses:p})=>{const{showNotification:A,openChatWithDraft:f,openGiftTransferModal:v,openGiftResalePriceComposerModal:C,openGiftStatusInfoModal:I,setEmojiStatus:y,toggleSavedGiftPinned:F,changeGiftVisibility:b,updateStarGiftPrice:k,closeGiftInfoModal:P}=(0,o.ko)(),N=(0,d.A)(),S=(0,u.A)(),Y=n&&"gift"in n,T=Y?n:void 0,w=Y?n.gift:n,G="starGiftUnique"===w?.type?w.slug:void 0,M=(0,i.Kr)(()=>{if(G)return`${s.jsp}nft/${G}`},[G]),x=(0,i.Kr)(()=>{if(G)return p?.find(e=>"collectible"===e.type&&e.slug===G)},[G,p]),B="collectible"===h?.type?h.slug:void 0,D=w&&"starGiftUnique"===w.type,U=D&&B===w.slug,R=x&&!U,L=D?w.resellPrice:void 0,E=t&&T&&!T.isUnsaved&&D,V=(0,l.A)(()=>{const{inputGift:e,isUnsaved:t}=T;b({gift:e,shouldUnsave:!t})}),j=(0,l.A)(()=>{M&&((0,r.eM)(M),A({message:N("LinkCopied")}))}),K=(0,l.A)(()=>{M&&f({text:{text:M}})}),O=(0,l.A)(()=>{T&&"starGiftUnique"===T?.gift.type&&(T.canTransferAt&&T.canTransferAt>(0,c.Fm)()?A({message:{key:"NotificationGiftCanTransferAt",variables:{date:(0,a.U)(S,1e3*T.canTransferAt)}}}):v({gift:T}))}),W=(0,l.A)(()=>{T&&(T.canResellAt&&T.canResellAt>(0,c.Fm)()?A({message:{key:"NotificationGiftCanResellAt",variables:{date:(0,a.U)(S,1e3*T.canResellAt)}}}):C({peerId:e,gift:T}))}),z=(0,l.A)(()=>{T&&"starGiftUnique"===T.gift.type&&T.inputGift&&(P(),k({gift:T.inputGift,price:{currency:s.OUy,amount:0,nanos:0}}),A({icon:"unlist-outline",message:{key:"NotificationGiftIsUnlist",variables:{gift:N("GiftUnique",{title:T.gift.title,number:T.gift.number})}}}))}),J=(0,l.A)(()=>{"starGiftUnique"===w?.type&&x&&I({emojiStatus:x})}),q=(0,l.A)(()=>{U&&y({emojiStatus:{type:"regular",documentId:s.zNY}})}),Q=(0,l.A)(()=>{F({peerId:e,gift:T})});return(0,m.FD)(m.FK,{children:[E&&(0,m.Y)(g.A,{icon:T.isPinned?"unpin":"pin",onClick:Q,children:N(T.isPinned?"ChatListUnpinFromTop":"ChatListPinToTop")}),(0,m.Y)(g.A,{icon:"link-badge",onClick:j,children:N("CopyLink")}),(0,m.Y)(g.A,{icon:"forward",onClick:K,children:N("Share")}),t&&D&&(0,m.Y)(g.A,{icon:"diamond",onClick:O,children:N("GiftInfoTransfer")}),t&&D&&!L&&(0,m.Y)(g.A,{icon:"sell-outline",onClick:W,children:N("Sell")}),t&&D&&Boolean(L)&&(0,m.Y)(g.A,{icon:"unlist-outline",onClick:z,children:N("GiftInfoUnlist")}),t&&T&&(0,m.Y)(g.A,{icon:T.isUnsaved?"eye-outline":"eye-crossed-outline",onClick:V,children:N(T.isUnsaved?"GiftActionShow":"GiftActionHide")}),R&&(0,m.Y)(g.A,{icon:"crown-wear-outline",onClick:J,children:N("GiftInfoWear")}),U&&(0,m.Y)(g.A,{icon:"crown-take-off-outline",onClick:q,children:N("GiftInfoTakeOff")})]})})},36143:(e,t,n)=>{n.d(t,{A:()=>Me});var i=n(84051),o=n(13439),s=n(23174),r=n(89925),a=n(31481),c=n(90709),d=n(26129),l=n(91048),u=n(63495),g=n(96454),m=n(87357),h=n(60343),p=n(41512),A=n(54464),f=n(43874),v=n(10722),C=n(49746),I=n(37661),y=n(5912),F=n(17712),b=n(14622),k=n(34201),P=n(48196),N=n(79519),S=n(96773),Y=n(76023),T=n(21849),w=n(50805),G=n(20021);const M=15*Y.$,x=(0,i.ph)(({action:e,onClick:t,observeIntersection:n})=>(0,G.Y)(T.A,{className:w.A.channelPhoto,photo:e.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:n,onClick:t,size:M}));var B=n(17142),D=n(18501),U=n(39351),R=n(85118),L=n(82855);const E=(0,i.ph)((0,o.EK)((e,{action:t})=>({sticker:"giftPremium"===t.type?(0,l.t0O)(e,t.months):"giftStars"===t.type?(0,l.WLj)(e,t.stars):(0,l.OD9)(e,t.cryptoAmount),canPlayAnimatedEmojis:(0,l.BWX)(e)}))(({action:e,sticker:t,canPlayAnimatedEmojis:n,onClick:o,observeIntersectionForLoading:s,observeIntersectionForPlaying:r})=>{const a=(0,i.li)(),c=(0,U.A)(),d="giftPremium"===e.type?e.message:void 0;return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:o,children:[(0,G.Y)("div",{ref:a,className:w.A.stickerWrapper,style:"width: 150px; height: 150px",children:t&&(0,G.Y)(L.A,{containerRef:a,sticker:t,size:150,observeIntersectionForLoading:s,observeIntersectionForPlaying:r,noLoad:!n})}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:"giftPremium"===e.type?c("ActionGiftPremiumTitle",{months:e.months},{pluralValue:e.months}):"giftStars"===e.type?c("ActionGiftStarsTitle",{amount:e.stars},{pluralValue:e.stars}):(()=>{const{cryptoAmount:t,cryptoCurrency:n}=e;return t?(0,B.vv)(c,t,n,{asFontIcon:!0}):void 0})()}),(0,G.FD)("div",{children:[d&&(0,D.fd)(d),!d&&c("giftTon"===e.type?"DescriptionAboutTon":"giftPremium"===e.type?"ActionGiftPremiumText":"ActionGiftStarsText")]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),c("ActionViewButton")]})]})}));var V=n(70636),j=n(4262);const K=(0,i.ph)((0,o.EK)((e,{action:t})=>({currentUserId:e.currentUserId,sticker:"giftCode"===t.type?(0,l.t0O)(e,t.months):(0,l.WLj)(e,t.stars),canPlayAnimatedEmojis:(0,l.BWX)(e),channel:t.boostPeerId?(0,l.hds)(e,t.boostPeerId):void 0}))(({currentUserId:e,action:t,sender:n,sticker:o,canPlayAnimatedEmojis:s,channel:r,onClick:a,observeIntersectionForLoading:c,observeIntersectionForPlaying:d})=>{const l=(0,i.li)(),u=(0,U.A)(),g=(0,i.Kr)(()=>{const e=r&&(0,V.F9)(u,r),t=u("ActionFallbackChannel");return(0,j.Nm)(r?.id,e||t)},[r,u]),m=(0,i.Kr)(()=>{const e=r||n,t=e&&(0,V.F9)(u,e),i=u("ActionFallbackChat");return(0,j.Nm)(e?.id,t||i)},[r,n,u]);return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:a,children:[(0,G.Y)("div",{ref:l,className:w.A.stickerWrapper,style:"width: 150px; height: 150px",children:o&&(0,G.Y)(L.A,{containerRef:l,sticker:o,size:150,observeIntersectionForLoading:c,observeIntersectionForPlaying:d,noLoad:!s})}),(0,G.FD)("div",{children:[(0,G.Y)("h3",{className:w.A.title,children:u("giftCode"!==t.type||t.isViaGiveaway?"ActionGiveawayResultTitle":"GiftInfoTitle")}),(0,G.FD)("div",{children:["giftCode"===t.type&&(t.isViaGiveaway?u("ActionGiveawayResultPremiumText",{channel:g,months:t.months},{withNodes:!0,withMarkdown:!0,pluralValue:t.months,renderTextFilters:["br"]}):(0,j.AD)(u,"ActionGiftCodeSubscriptionText",n?.id===e,{peer:m,months:t.months},{pluralValue:t.months,renderTextFilters:["br"]})),"prizeStars"===t.type&&u("ActionGiveawayResultStarsText",{amount:t.stars,channel:g},{withNodes:!0,withMarkdown:!0,pluralValue:t.stars,renderTextFilters:["br"]})]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),u("giftCode"===t.type?"ActionOpenGiftButton":"ActionViewButton")]})]})}));var O=n(48775),W=n(80140),z=n(14242),J=n(66833),q=n(87094),Q=n(87049);const H=(0,i.ph)((0,o.EK)((e,{message:t,action:n})=>{const i=(0,l.mBe)(e,e.currentUserId),o=(0,l.BWX)(e),s=(0,l.Y7C)(e,t),r=n.fromId?(0,l.PVB)(e,n.fromId):void 0,a=t.isOutgoing?(0,l.PVB)(e,t.chatId):i;return{canPlayAnimatedEmojis:o,sender:r||s,recipient:(n.peerId?(0,l.PVB)(e,n.peerId):void 0)||a,starGiftMaxConvertPeriod:e.appConfig.starGiftMaxConvertPeriod}})(({action:e,message:t,canPlayAnimatedEmojis:n,sender:o,recipient:s,starGiftMaxConvertPeriod:r,onClick:a,observeIntersectionForLoading:d,observeIntersectionForPlaying:l})=>{const u=(0,i.li)(),h=(0,i.li)(),p=(0,U.A)(),[A,f,v]=(0,I.A)(),{isOutgoing:C}=t,y=(0,J.yQ)(e.gift),F=C?s:o,b=F&&(0,V.vj)(F)&&(0,c.WX)(F),k=(0,q.A)(u,"background-color",!e.gift.availabilityTotal),P=p("ActionFallbackSomeone"),N=F&&(0,V.F9)(p,F),S=o?.id===s?.id,Y=(0,i.Kr)(()=>{const n=(0,j.Nm)(F?.id,N||P),i=void 0!==e.starsToConvert?(0,O.Kk)(p,e.starsToConvert):void 0;return e.isUpgraded?p("ActionStarGiftUpgraded"):e.alreadyPaidUpgradeStars?(0,j.AD)(p,"ActionStarGiftUpgradeText",!C||S,{peer:n}):e.isConverted?(0,j.AD)(p,"ActionStarGiftConvertedText",!C||S,{peer:n,amount:i}):r&&(0,W.Fm)()<t.date+r?(0,j.AD)(p,"ActionStarGiftConvertText",!C||S,{peer:n,amount:i}):b?p("ActionStarGiftChannelText",{amount:i},{withNodes:!0}):(0,j.AD)(p,"ActionStarGiftNoConvertText",!C||S,{peer:n})},[e,P,b,C,p,t.date,F?.id,N,r,S]);return(0,G.FD)("div",{ref:u,className:(0,m.A)("interactive-gift",w.A.contentBox,w.A.starGift),tabIndex:0,role:"button",onClick:a,onMouseEnter:g.TF?void 0:f,onMouseLeave:g.TF?void 0:v,children:[(0,G.Y)("div",{ref:h,className:w.A.stickerWrapper,style:"width: 120px; height: 120px",children:y&&(0,G.Y)(L.A,{containerRef:h,sticker:y,size:120,shouldLoop:A,observeIntersectionForLoading:d,observeIntersectionForPlaying:l,noLoad:!n})}),Boolean(e.gift.availabilityTotal)&&(0,G.Y)(Q.A,{color:k||"blue",text:p("ActionStarGiftLimitedRibbon",{total:(0,z.Vw)(p,e.gift.availabilityTotal)})}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:S?p("ActionStarGiftSelf"):p(C?"ActionStarGiftTo":"ActionStarGiftFrom",{peer:(0,j.Nm)(F?.id,N||P)},{withNodes:!0})}),(0,G.FD)("div",{className:w.A.subtitle,children:[e.message&&(0,D.fd)(e.message),!e.message&&Y]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),!e.alreadyPaidUpgradeStars||e.isUpgraded||C?p("ActionViewButton"):p("ActionStarGiftUnpack")]})]})}));var $=n(95807),X=n(92108),Z=n(40558);const _=(0,i.ph)((0,o.EK)((e,{message:t,action:n})=>{const i=(0,l.mBe)(e,e.currentUserId),o=(0,l.BWX)(e),s=(0,l.Y7C)(e,t),r=n.fromId?(0,l.PVB)(e,n.fromId):void 0,a=t.isOutgoing?(0,l.PVB)(e,t.chatId):i;return{canPlayAnimatedEmojis:o,sender:r||s,recipient:(n.peerId?(0,l.PVB)(e,n.peerId):void 0)||a}})(({action:e,message:t,canPlayAnimatedEmojis:n,sender:o,recipient:s,onClick:r,observeIntersectionForLoading:a,observeIntersectionForPlaying:c})=>{const d=(0,i.li)(),l=(0,U.A)(),[u,h,p]=(0,I.A)(),{isOutgoing:A}=t,f=(0,J.yQ)(e.gift),v=(0,J.uc)(e.gift),C=v.model,y=v.pattern,F=v.backdrop,b=[F.centerColor,F.edgeColor],k=`${F.patternColor.slice(0,7)}55`,P=(0,i.Kr)(()=>[[l("ActionStarGiftUniqueModel"),C.name],[l("ActionStarGiftUniqueBackdrop"),F.name],[l("ActionStarGiftUniqueSymbol"),y.name]],[l,C,y,F]),N=!A||e.isUpgrade,S=N&&!e.isUpgrade?o:s,Y=l("ActionFallbackSomeone"),T=S&&(0,V.F9)(l,S),M=o?.id===s?.id;return(0,G.FD)("div",{className:(0,m.A)("interactive-gift",w.A.contentBox,w.A.starGift,w.A.uniqueGift),tabIndex:0,role:"button",onClick:r,onMouseEnter:g.TF?void 0:h,onMouseLeave:g.TF?void 0:p,children:[(0,G.Y)("div",{className:w.A.uniqueBackgroundWrapper,children:(0,G.Y)(Z.A,{className:w.A.uniqueBackground,backgroundColors:b,patternColor:F.patternColor,patternIcon:y.sticker,clearBottomSector:!0})}),(0,G.Y)("div",{ref:d,className:w.A.stickerWrapper,style:"width: 120px; height: 120px",children:f&&(0,G.Y)(L.A,{containerRef:d,sticker:f,size:120,shouldLoop:u,observeIntersectionForLoading:a,observeIntersectionForPlaying:c,noLoad:!n})}),(0,G.Y)(Q.A,{color:k,text:l("ActionStarGiftUniqueRibbon")}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:M?l("ActionStarGiftSelf"):l(N?"ActionStarGiftFrom":"ActionStarGiftTo",{peer:(0,j.Nm)(S?.id,T||Y)},{withNodes:!0})}),(0,G.Y)("div",{className:w.A.subtitle,style:`color: ${F.textColor}`,children:l("GiftUnique",{title:e.gift.title,number:e.gift.number})}),(0,G.Y)(X.A,{data:P,style:`color: ${F.textColor}`,valueClassName:w.A.uniqueValue})]}),(0,G.FD)("div",{className:w.A.actionButton,style:(0,$.A)(k&&`background-color: ${k}`),children:[(0,G.Y)(R.A,{preset:"button"}),l("ActionViewButton")]})]})}));var ee=n(87679),te=n(62587),ne=n(94189),ie=n(90751);const oe=(0,i.ph)((0,o.EK)((e,{message:t})=>({peer:(0,l.PVB)(e,t.chatId)}))(({message:e,action:t,peer:n,observeIntersection:a})=>{const{openMediaViewer:d,uploadProfilePhoto:l,showNotification:u}=(0,o.ko)(),{isOutgoing:g}=e,m=t.photo,h=(0,U.A)(),[p,A]=(0,i.J0)(),[f,v,C]=(0,I.A)(!1),y=(0,te.A)((0,c.rI)(m,"full")),b=(0,te.A)((0,c.Pg)(m)),k=m.isVideo,P=(0,i.Kr)(()=>{const e=n&&(0,V.F9)(h,n)||h("ActionFallbackUser"),t=(0,j.Nm)(n?.id,e);return h(g?"ActionSuggestedPhotoYou":"ActionSuggestedPhoto",{user:t},{withNodes:!0})},[h,g,n]),N=(0,F.A)(()=>{u({title:h("ActionSuggestedPhotoUpdatedTitle"),message:h("ActionSuggestedPhotoUpdatedDescription"),action:{action:"openSettingsScreen",payload:{screen:r.VS.Main}},actionText:h("Open")})}),S=(0,F.A)(e=>{A(void 0),l({file:e}),N()}),Y=(0,F.A)(()=>{A(void 0)}),M=(0,F.A)(async()=>{if(!b)return;C(),N();const e=await(0,ee.sZ)(b);l({file:new File([e],"avatar.mp4"),isVideo:!0,videoTs:m.videoSizes?.find(e=>void 0!==e.videoStartTs)?.videoStartTs})});return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:async()=>{!g&&y?k?v():A(await(0,ee.sZ)(y)):d({chatId:e.chatId,messageId:e.id,threadId:s.l3,origin:r.TQ.SuggestedAvatar})},children:[(0,G.Y)(T.A,{className:w.A.suggestedAvatar,photo:t.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:a,size:"jumbo"}),(0,G.Y)("div",{className:w.A.suggestedText,children:P}),(0,G.Y)("div",{className:w.A.actionButton,children:h("ActionSuggestedPhotoButton")}),(0,G.Y)(ie.A,{file:p,onClose:Y,onChange:S}),(0,G.Y)(ne.A,{isOpen:f,title:h("ActionSuggestedVideoTitle"),confirmHandler:M,onClose:C,text:h("ActionSuggestedVideoText")})]})}));var se=n(17663),re=n(4961),ae=n(59030);const ce=(0,i.ph)((0,o.EK)((e,{message:t})=>{const n=(0,l.Y7C)(e,t),i=(0,l.k2W)(e,t.chatId),o=(0,d.Q)(t);let s;if("message"===o?.type&&o.replyToMsgId){const n=(0,l.gMr)(e,t);n&&(s=(0,l.Y7C)(e,n))}const{appConfig:r}=e;return{sender:n,chat:i,originalSender:s,ageMinSeconds:r.starsSuggestedPostAgeMin,isAdmin:!!i&&Boolean((0,l.ODG)(e,t.chatId))}})(({message:e,action:t,sender:n,chat:i,originalSender:o,ageMinSeconds:s,isAdmin:r,onClick:c})=>{const d=(0,U.A)(),l=(0,ae.A)(),{scheduleDate:u,amount:g}=t,h=i&&(0,V.em)(d,i),p=()=>(0,j.Nm)(i?.id,h||d("ActionFallbackChat")),A=o&&(0,V.em)(d,o),f=(0,j.Nm)(o?.id,A||d("ActionFallbackUser")),v=u?(0,se.e0)(u,d,l):d("SuggestMessageAnytime"),C=!!u&&u<=(0,W.Fm)(),I=g?.currency,y=g?.amount||0,F=y>0?I===a.ykW?(0,O.QH)(d,(0,B.wD)(y)):(0,O.Kk)(d,y):void 0,b=(0,se.A$)(d,s,!0);return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostContentBox),onClick:c,children:[(0,G.Y)("div",{className:w.A.suggestedPostApprovalTitle,children:(0,re.A)(d("SuggestedPostAgreementReached"))}),(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,C?"SuggestedPostPublished":"SuggestedPostPublishSchedule",!r,{peer:p(),date:v},{withMarkdown:!0})}),F&&(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostCharged",!r,{user:f,amount:F},{withMarkdown:!0})}),C&&F&&(0,G.FD)(G.FK,{children:[(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostReceiveAmount",!r,{peer:p(),duration:b},{withMarkdown:!0})}),(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostRefund",!r,{peer:p(),duration:b},{withMarkdown:!0})})]})]})})),de=(0,i.ph)((0,o.EK)((e,{message:t})=>{const n=(0,l.Y7C)(e,t),i="message"===t.replyInfo?.type&&t.replyInfo.replyToMsgId?(0,l.O5q)(e,t.chatId,t.replyInfo.replyToMsgId):void 0;return{sender:n,replyMessageSender:i?(0,l.Y7C)(e,i):void 0,replyMessage:i}})(({onClick:e,message:t,sender:n,replyMessageSender:i,replyMessage:s})=>{const{openStarsBalanceModal:r}=(0,o.ko)(),c=(0,U.A)(),d=(0,F.A)(e=>{e.preventDefault(),e.stopPropagation(),r({})}),l=i||n,u=l&&(0,V.em)(c,l),g=(0,j.Nm)(l?.id,u||c("ActionFallbackUser")),h=s?.suggestedPostInfo?.price?.currency||a.OUy,p=h===a.ykW?c("CurrencyTon"):c("CurrencyStars"),A=h===a.ykW?c("ButtonTopUpViaFragment"):c("ButtonBuyStars");return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostBalanceTooLowBox),onClick:e,children:[(0,G.Y)("div",{className:w.A.suggestedPostBalanceTooLowTitle,children:c("SuggestedPostBalanceTooLow",{peer:g,currency:p},{withNodes:!0,withMarkdown:!0})}),!t.isOutgoing&&(0,G.FD)("div",{className:w.A.actionButton,onClick:d,children:[(0,G.Y)(R.A,{preset:"button"}),A]})]})}));var le=n(18276);const ue=(0,i.ph)((0,o.EK)((e,{message:t})=>({sender:(0,l.Y7C)(e,t)}))(({message:e,action:t,sender:n,onClick:i})=>{const o=(0,U.A)(),{isOutgoing:s}=e,{rejectComment:r}=t,a=n&&(0,V.F9)(o,n),c=(0,j.Nm)(n?.id,a||o("ActionFallbackUser"));return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostRejectedContentBox),onClick:i,children:[(0,G.FD)("div",{className:w.A.suggestedPostRejectedTitle,children:[(0,G.Y)(le.A,{className:w.A.rejectedIcon,name:"close"}),(0,j.AD)(o,r?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",s,{peer:c},{withMarkdown:!0})]}),r&&(0,G.Y)("div",{className:w.A.suggestedPostRejectedComment,children:o("SuggestedPostRejectedComment",{comment:r})})]})}));var ge=n(99515),me=n(43581),he=n(14737),pe=n(48894);var Ae=n(36838),fe=n(64493),ve=n(55158);const Ce="d8axZxyN",Ie="glDpC2av",ye="gqCs9fSo",Fe="gnYhwnvf",be="HWgwnKui",ke="BTNQ4KBH",Pe="Xl9MVMTn",Ne="Qizai7yv";function Se({channel:e}){const{openChat:t}=(0,o.ko)(),n=function(e,t="#00000000"){const[n,o]=(0,i.J0)(t),r=(0,te.A)((0,c.cP)(e),!1,s.qZ.BlobUrl);return(0,i.vJ)(()=>{(async()=>{if(!r)return;const e=await(0,pe.rX)(r);o(`#${(0,pe.v2)(e)}`)})()},[r]),n}(e,"#3C3C4399"),r=(0,U.A)();return(0,G.FD)("div",{className:Ie,onClick:()=>t({id:e.id}),children:[(0,G.Y)(T.A,{className:ye,size:"large",peer:e},e.id),(0,G.FD)("div",{style:`background: ${n}`,className:Fe,children:[(0,G.Y)(le.A,{name:"user-filled",className:Ce}),(0,G.Y)("span",{className:be,children:(0,z.Vw)(r,e?.membersCount||0)})]}),(0,G.Y)("span",{className:ke,children:e.title})]})}function Ye({channel:e,chatId:t,channelsCount:n,isCurrentUserPremium:i}){const{openPremiumModal:s,openChatWithInfo:r}=(0,o.ko)(),a=(0,ae.A)();return(0,G.FD)("div",{className:(0,m.A)(Ie,"MBChXyXk"),onClick:()=>{i?r({id:t,shouldReplaceHistory:!0,profileTab:"similarChannels",forceScrollProfileTab:!0}):s()},children:[(0,G.Y)(T.A,{className:ye,size:"large",peer:e},e.id),(0,G.Y)("div",{className:Pe,children:(0,G.Y)("div",{className:Ne})}),(0,G.Y)("div",{className:(0,m.A)(Pe,"JxSmtOFi"),children:(0,G.Y)("div",{className:Ne})}),(0,G.FD)("div",{className:Fe,children:[(0,G.Y)("span",{className:be,children:`+${n}`}),!i&&(0,G.Y)(le.A,{name:"lock-badge",className:Ce})]}),(0,G.Y)("span",{className:ke,children:a("MoreSimilar")})]})}const Te=(0,i.ph)((0,o.EK)((e,{chatId:t})=>{const{similarChannelIds:n,isExpanded:i,count:o}=(0,l.dg4)(e,t)||{},s=(0,l.g29)(e),r=(0,l.AWZ)(e,t);return{similarChannelIds:n,isExpanded:i,count:o,isCurrentUserPremium:s,channelJoinInfo:r?.joinInfo}})(({chatId:e,similarChannelIds:t,isExpanded:n,count:s,isCurrentUserPremium:r,channelJoinInfo:a})=>{const{toggleChannelRecommendations:c,loadChannelRecommendations:d}=(0,o.ko)(),u=(0,ae.A)(),[g,h,p]=(0,I.A)(!1),[A,f,v]=(0,I.A)(!1),C=(0,i.li)(),y=(0,i.li)(!1),b=(0,i.Kr)(()=>{if(!t)return;const e=(0,o.mS)();return t.map(t=>(0,l.hds)(e,t)).filter(Boolean)},[t]),[k,P]=(0,i.J0)(!1),N=(0,i.Kr)(()=>b?.slice(0,10),[b]),S=Boolean(N?.length),Y=Boolean(!k&&(n||A||g)&&S);(0,Ae.A)(C,!Y,!0),(0,i.vJ)(()=>{t||d({chatId:e})},[e,t]),(0,he.A)(()=>P(!1),2e3),(0,i.vJ)(()=>{if(k&&b&&n){const e=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(e)}},[b,n,k]),(0,i.vJ)(()=>{n?(h(),v(),P(!t),y.current||setTimeout(()=>{C.current?.scrollIntoView({behavior:"smooth"})},150)):(p(),f())},[n,t]);const T=(0,F.A)(()=>{c({chatId:e})});if((0,i.vJ)(()=>{a?.joinedDate&&!n&&(0,W.Fm)()-a.joinedDate<=10&&(T(),y.current=!0)},[a,n]),Y||k)return(0,G.FD)("div",{className:(0,m.A)("V3RHiOJR"),children:[k&&(0,G.Y)(ve.A,{className:"xKVZv7KE"}),Y&&(0,G.FD)("div",{className:(0,m.A)(g&&"eb8rX09E",A&&"XR6_qLCc"),children:[(0,G.Y)("div",{className:"tfG_BSDt",children:(0,G.Y)("svg",{width:"19",height:"7",viewBox:"0 0 19 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,G.Y)("path",{className:"HVbeGv4t","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 7C16.8992 7 13.59 3.88897 11.5003 1.67424C10.7648 0.894688 10.397 0.50491 10.0434 0.385149C9.70568 0.270811 9.4225 0.270474 9.08456 0.38401C8.73059 0.50293 8.36133 0.892443 7.62279 1.67147C5.52303 3.88637 2.18302 7 0 7L19 7Z",fill:"white"})})}),(0,G.FD)("div",{className:"njAC8dR9",children:[(0,G.FD)("div",{className:"s7QOi22Q",children:[(0,G.Y)("span",{className:"JstcOhAN",children:u("SimilarChannels")}),(0,G.Y)(fe.A,{className:"meewH7t_",color:"translucent",onClick:T,children:(0,G.Y)(le.A,{name:"close"})})]}),(0,G.Y)("div",{ref:C,className:(0,m.A)("h4gWlNen","no-scrollbar"),children:N?.map((t,n)=>9===n?(0,G.Y)(Ye,{channel:t,chatId:e,channelsCount:s-10+1,isCurrentUserPremium:r}):(0,G.Y)(Se,{channel:t}))})]})]})]})})),we=new Set(["pinMessage","chatEditPhoto","chatDeletePhoto","todoCompletions","todoAppendTasks","unsupported"]),Ge=new Set(["giftCode","prizeStars","suggestProfilePhoto","suggestedPostApproval"]),Me=(0,i.ph)((0,o.EK)((e,{message:t,threadId:n})=>{const i=(0,l.nTw)(e),{themes:o}=e.settings,r=(0,l.hds)(e,t.chatId),a=(0,l.Y7C)(e,t),c=r?.isForum&&n!==s.l3,{replyToMsgId:u,replyToPeerId:g}=(0,d.Q)(t)||{},m=u?(0,l.O5q)(e,g||t.chatId,u):void 0,h=!!n&&(0,l.nJv)(e,t,n),{direction:p,noHighlight:A,isResizingContainer:f,scrollTargetPosition:v}=h&&i.focusedMessage||{},C=(0,l.g29)(e),I=r?.unreadReactions?.includes(t.id),y=(0,l.trm)(e);return{sender:a,currentUserId:e.currentUserId,isCurrentUserPremium:C,isFocused:h,focusDirection:p,noFocusHighlight:A,isInsideTopic:c,replyMessage:m,isInSelectMode:(0,l.rTV)(e),patternColor:o[(0,l.SJA)(e)]?.patternColor,hasUnreadReaction:I,isResizingContainer:f,scrollTargetPosition:v,isAccountFrozen:y}})(({message:e,threadId:t,sender:n,currentUserId:s,appearanceOrder:l,isJustAdded:Y,isLastInList:T,memoFirstUnreadIdRef:M,getIsMessageListReady:B,isInsideTopic:D,isFocused:U,focusDirection:R,noFocusHighlight:L,replyMessage:V,patternColor:j,isCurrentUserPremium:O,isInSelectMode:W,hasUnreadReaction:z,isResizingContainer:J,scrollTargetPosition:q,onIntersectPinnedMessage:Q,observeIntersectionForBottom:$,observeIntersectionForLoading:X,observeIntersectionForPlaying:Z,isAccountFrozen:ee})=>{const{requestConfetti:te,openMediaViewer:ne,getReceipt:ie,checkGiftCode:se,openPrizeStarsTransactionFromGiveaway:re,openPremiumModal:ae,openStarsTransactionFromGift:le,openGiftInfoModalFromMessage:he,toggleChannelRecommendations:pe,animateUnreadReaction:Ae,markMentionsRead:fe,focusMessage:ve}=(0,o.ko)(),Ce=(0,i.li)(),{id:Ie,chatId:ye}=e,Fe=e.content.action,be=(0,h.iL)(Ie),ke=Ge.has(Fe.type),Pe=we.has(Fe.type),Ne=g.uH&&!Pe,Se="suggestedPostSuccess"===Fe.type,Ye=(0,d.Q)(e),{replyToMsgId:Me,replyToPeerId:xe}=Ye||{},Be=Boolean(e.areReactionsPossible&&e?.reactions?.results?.length),De=D&&"topicCreate"===Fe.type,{isTouchScreen:Ue}=(0,f.Ay)();(0,y.mv)(Ce,De?void 0:$),(0,b.A)(Ce,!De&&T&&"channelJoined"!==Fe.type),(0,C.A)(xe||ye,Me,V,Ie),(0,N.A)({elementRef:Ce,chatId:ye,isFocused:U,focusDirection:R,noFocusHighlight:L,isResizingContainer:J,isJustAdded:Y,scrollTargetPosition:q}),(0,i._W)(()=>{e.isPinned&&Q?.({viewportPinnedIdsToRemove:[e.id]})});const{isContextMenuOpen:Re,contextMenuAnchor:Le,handleBeforeContextMenu:Ee,handleContextMenu:Ve,handleContextMenuClose:je,handleContextMenuHide:Ke}=(0,v.A)(Ce,Ue&&W||ee,!u.Vq,g.Ni,B),Oe=void 0!==Le,We=l<=0,[ze,Je]=(0,I.A)(We);(0,i.vJ)(()=>{We||setTimeout(Je,l*a.zq7)},[l,Je,We]);const{ref:qe}=(0,k.A)({isOpen:ze,noOpenTransition:We,noCloseTransition:!0,className:!1,ref:Ce});(0,i.vJ)(()=>{const t=Ce.current;t&&(0,p.Y)(t)&&(z&&Ae({messageIds:[Ie]}),e.hasUnreadMention&&fe({chatId:ye,messageIds:[Ie]}))},[z,ye,Ie,Ae,e.hasUnreadMention]),(0,i.vJ)(()=>{"giftPremium"===Fe.type&&(M?.current&&Ie>=M.current||be)&&te({})},[Fe.type,Ie,be,M]);const Qe=(0,P.A)(Ne?j:void 0),He=(0,F.A)(()=>{switch(Fe.type){case"paymentSent":case"paymentRefunded":ie({chatId:e.chatId,messageId:e.id});break;case"chatEditPhoto":ne({chatId:e.chatId,messageId:e.id,threadId:t,origin:r.TQ.ChannelAvatar});break;case"giftCode":se({slug:Fe.slug,message:{chatId:e.chatId,messageId:e.id}});break;case"prizeStars":re({chatId:e.chatId,messageId:e.id});break;case"giftPremium":ae({isGift:!0,fromUserId:n?.id,toUserId:n&&n.id===s?ye:s,monthsAmount:Fe.months});break;case"giftTon":case"giftStars":le({chatId:e.chatId,messageId:e.id});break;case"starGift":case"starGiftUnique":he({chatId:e.chatId,messageId:e.id});break;case"channelJoined":pe({chatId:ye});break;case"suggestedPostApproval":{const n=(0,d.Q)(e);"message"===n?.type&&n.replyToMsgId&&ve({chatId:e.chatId,threadId:t,messageId:n.replyToMsgId});break}case"suggestedPostSuccess":{const n=(0,d.Q)(e);"message"===n?.type&&n.replyToMsgId&&ve({chatId:e.chatId,threadId:t,messageId:n.replyToMsgId});break}}}),$e=(0,i.Kr)(()=>{switch(Fe.type){case"chatEditPhoto":if(!Fe.photo)return;return(0,G.Y)(x,{action:Fe,observeIntersection:X,onClick:He});case"suggestProfilePhoto":return(0,G.Y)(oe,{message:e,action:Fe,observeIntersection:X});case"prizeStars":case"giftCode":return(0,G.Y)(K,{action:Fe,sender:n,observeIntersectionForLoading:X,observeIntersectionForPlaying:Z,onClick:He});case"giftPremium":case"giftTon":case"giftStars":return(0,G.Y)(E,{action:Fe,observeIntersectionForLoading:X,observeIntersectionForPlaying:Z,onClick:He});case"starGift":return(0,G.Y)(H,{action:Fe,message:e,observeIntersectionForLoading:X,observeIntersectionForPlaying:Z,onClick:He});case"starGiftUnique":return(0,G.Y)(_,{action:Fe,message:e,observeIntersectionForLoading:X,observeIntersectionForPlaying:Z,onClick:He});case"channelJoined":return(0,G.Y)(Te,{chatId:e.chatId});case"suggestedPostApproval":return Fe.isBalanceTooLow?(0,G.Y)(de,{message:e,action:Fe,onClick:He}):Fe.isRejected?(0,G.Y)(ue,{message:e,action:Fe,onClick:He}):(0,G.Y)(ce,{message:e,action:Fe,onClick:He});default:return}},[Fe,e,X,n,Z]);if(!(D&&"topicCreate"===Fe.type||"phoneCall"===Fe.type))return(0,G.FD)("div",{ref:qe,id:(0,c.GZ)(Ie),className:(0,m.A)("ActionMessage","message-list-item",w.A.root,Pe&&w.A.singleLine,Ne&&w.A.fluidMultiline,$e&&w.A.hasFullContent,U&&!L&&"focused",Oe&&"has-menu-open",T&&"last-in-list"),"data-message-id":e.id,"data-is-pinned":e.isPinned||void 0,"data-has-unread-mention":e.hasUnreadMention||void 0,"data-has-unread-reaction":z||void 0,onMouseDown:e=>{(0,A.l)(e),Ee(e)},onContextMenu:Ve,children:[!ke&&(0,G.FD)(G.FK,{children:[Ne&&(0,G.Y)("div",{className:(0,m.A)(w.A.inlineWrapper,Se&&w.A.hoverable),children:(0,G.Y)("span",{className:w.A.fluidBackground,style:Qe,children:(0,G.Y)(S.A,{message:e,isInsideTopic:D})})}),(0,G.Y)("div",{className:(0,m.A)(w.A.inlineWrapper,Se&&w.A.hoverable),children:(0,G.Y)("span",{className:w.A.textContent,onClick:He,children:(0,G.Y)(S.A,{message:e,isInsideTopic:D})})})]}),$e,Le&&(0,G.Y)(ge.A,{isOpen:Re,anchor:Le,message:e,messageListType:"thread",className:w.A.contextContainer,onClose:je,onCloseAnimationEnd:Ke}),Be&&(0,G.Y)(me.A,{isOutside:!0,message:e,threadId:t,observeIntersection:Z,isCurrentUserPremium:O,isAccountFrozen:ee})]})}))},48196:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(84051),o=n(31481),s=n(28470),r=n(20021);const a=new Map;class c{referenceCount=0;constructor(e){this.color=e,this.filterId=`fluid-background-filter-${e.slice(1)}`,(0,s.z)((0,r.FD)("filter",{"color-interpolation-filters":"sRGB",xmlns:o.jNX,children:[(0,r.Y)("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"4",result:"blur"}),(0,r.Y)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 30 -15",result:"goo"}),(0,r.Y)("feComposite",{in:"SourceAlpha",in2:"goo",operator:"over",result:"outline"}),(0,r.Y)("feFlood",{"flood-color":e,result:"color"}),(0,r.Y)("feComposite",{in:"color",in2:"outline",operator:"in"})]}),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,s.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function d(e,t){if((0,i.vJ)(()=>{if(e)return()=>{const t=a.get(e);t&&(t.removeReference(),t.isUsed()||a.delete(t.color))}},[e]),!e)return;if(a.has(e))return l(a.get(e).getFilterId(),t);const n=new c(e);return a.set(e,n),l(n.getFilterId(),t)}function l(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},87049:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(84051),o=n(13439),s=n(91048),r=n(87357),a=n(14745);const c={root:"AmQSvxpZ",text:"pQW7dcwr"};var d=n(20021);const l={red:[["#FF5B54","#ED1C26"],["#653633","#532224"]],blue:[["#6ED2FF","#34A4FC"],["#344F5A","#152E42"]],purple:[["#E367D7","#757BF6"],["#E367D7","#757BF6"]],green:[["#52D553","#4BB121"],["#52D553","#4BB121"]],orange:[["#D48F23","#BE7E15"],["#D48F23","#BE7E15"]]},u=new Set(Object.keys(l)),g=(0,i.ph)((0,o.EK)(e=>({theme:(0,s.SJA)(e)}))(({text:e,color:t,className:n,theme:i})=>{const o=`svg-${(0,a.A)()}`,s=u.has(t)?t:void 0,g="dark"===i,m=Array.isArray(t)?t:s?l[s][g?1:0]:void 0,h=m?m[0]:t,p=m?m[1]:t;return(0,d.FD)("div",{className:(0,r.A)(c.root,n),children:[(0,d.FD)("svg",{className:c.ribbon,width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[(0,d.Y)("path",{d:"M52.4851 26.4853L29.5145 3.51472C27.2641 1.26428 24.2119 0 21.0293 0H2.82824C1.04643 0 0.154103 2.15429 1.41403 3.41422L52.5856 54.5858C53.8455 55.8457 55.9998 54.9534 55.9998 53.1716V34.9706C55.9998 31.788 54.7355 28.7357 52.4851 26.4853Z",fill:`url(#${o})`}),(0,d.Y)("defs",{children:(0,d.FD)("linearGradient",{id:o,x1:"27.9998",y1:"1",x2:"27.9998",y2:"55",gradientUnits:"userSpaceOnUse",children:[(0,d.Y)("stop",{"stop-color":h}),(0,d.Y)("stop",{offset:"1","stop-color":p})]})})]}),(0,d.Y)("div",{className:c.text,children:e})]})}))},92108:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(84051),o=n(87357);var s=n(20021);const r=(0,i.ph)(({data:e,style:t,className:n,valueClassName:i,keyClassName:r})=>(0,s.Y)("div",{className:(0,o.A)("cKr8J5k_",n),style:t,children:e.map(([e,t])=>(0,s.FD)(s.FK,{children:[(0,s.Y)("div",{className:(0,o.A)("c9RLLvfs",r),children:e}),(0,s.Y)("div",{className:(0,o.A)("QEuGpzIc",i),children:t})]}))}))}}]);
//# sourceMappingURL=5278.5a4c2c827f92bb86271c.js.map