"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[5278],{25404:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(84051),o=n(13439),s=n(31481),r=n(85982),a=n(17663),c=n(80140),l=n(39351),d=n(17712),u=n(59030),g=n(24433),m=n(20021);const h=(0,i.ph)(e=>{let{peerId:t,canManage:n,gift:h,currentUserEmojiStatus:p,collectibleEmojiStatuses:A}=e;const{showNotification:f,openChatWithDraft:v,openGiftTransferModal:C,openGiftResalePriceComposerModal:I,openGiftStatusInfoModal:y,setEmojiStatus:F,toggleSavedGiftPinned:b,changeGiftVisibility:k,updateStarGiftPrice:P,closeGiftInfoModal:N}=(0,o.ko)(),S=(0,l.A)(),Y=(0,u.A)(),T=h&&"gift"in h,w=T?h:void 0,G=T?h.gift:h,M="starGiftUnique"===G?.type?G.slug:void 0,x=(0,i.Kr)(()=>{if(M)return`${s.jsp}nft/${M}`},[M]),B=(0,i.Kr)(()=>{if(M)return A?.find(e=>"collectible"===e.type&&e.slug===M)},[M,A]),D="collectible"===p?.type?p.slug:void 0,U=G&&"starGiftUnique"===G.type,R=U&&D===G.slug,L=B&&!R,E=U?G.resellPrice:void 0,V=n&&w&&!w.isUnsaved&&U,j=(0,d.A)(()=>{const{inputGift:e,isUnsaved:t}=w;k({gift:e,shouldUnsave:!t})}),K=(0,d.A)(()=>{x&&((0,r.eM)(x),f({message:S("LinkCopied")}))}),O=(0,d.A)(()=>{x&&v({text:{text:x}})}),W=(0,d.A)(()=>{w&&"starGiftUnique"===w?.gift.type&&(w.canTransferAt&&w.canTransferAt>(0,c.Fm)()?f({message:{key:"NotificationGiftCanTransferAt",variables:{date:(0,a.U)(Y,1e3*w.canTransferAt)}}}):C({gift:w}))}),z=(0,d.A)(()=>{w&&(w.canResellAt&&w.canResellAt>(0,c.Fm)()?f({message:{key:"NotificationGiftCanResellAt",variables:{date:(0,a.U)(Y,1e3*w.canResellAt)}}}):I({peerId:t,gift:w}))}),J=(0,d.A)(()=>{w&&"starGiftUnique"===w.gift.type&&w.inputGift&&(N(),P({gift:w.inputGift,price:{currency:s.OUy,amount:0,nanos:0}}),f({icon:"unlist-outline",message:{key:"NotificationGiftIsUnlist",variables:{gift:S("GiftUnique",{title:w.gift.title,number:w.gift.number})}}}))}),q=(0,d.A)(()=>{"starGiftUnique"===G?.type&&B&&y({emojiStatus:B})}),Q=(0,d.A)(()=>{R&&F({emojiStatus:{type:"regular",documentId:s.zNY}})}),H=(0,d.A)(()=>{b({peerId:t,gift:w})});return(0,m.FD)(m.FK,{children:[V&&(0,m.Y)(g.A,{icon:w.isPinned?"unpin":"pin",onClick:H,children:S(w.isPinned?"ChatListUnpinFromTop":"ChatListPinToTop")}),(0,m.Y)(g.A,{icon:"link-badge",onClick:K,children:S("CopyLink")}),(0,m.Y)(g.A,{icon:"forward",onClick:O,children:S("Share")}),n&&U&&(0,m.Y)(g.A,{icon:"diamond",onClick:W,children:S("GiftInfoTransfer")}),n&&U&&!E&&(0,m.Y)(g.A,{icon:"sell-outline",onClick:z,children:S("Sell")}),n&&U&&Boolean(E)&&(0,m.Y)(g.A,{icon:"unlist-outline",onClick:J,children:S("GiftInfoUnlist")}),n&&w&&(0,m.Y)(g.A,{icon:w.isUnsaved?"eye-outline":"eye-crossed-outline",onClick:j,children:S(w.isUnsaved?"GiftActionShow":"GiftActionHide")}),L&&(0,m.Y)(g.A,{icon:"crown-wear-outline",onClick:q,children:S("GiftInfoWear")}),R&&(0,m.Y)(g.A,{icon:"crown-take-off-outline",onClick:Q,children:S("GiftInfoTakeOff")})]})})},36143:(e,t,n)=>{n.d(t,{A:()=>Me});var i=n(84051),o=n(13439),s=n(23174),r=n(89925),a=n(31481),c=n(90709),l=n(26129),d=n(91048),u=n(63495),g=n(96454),m=n(87357),h=n(60343),p=n(41512),A=n(54464),f=n(43874),v=n(10722),C=n(49746),I=n(37661),y=n(5912),F=n(17712),b=n(14622),k=n(34201),P=n(48196),N=n(79519),S=n(96773),Y=n(76023),T=n(21849),w=n(50805),G=n(20021);const M=15*Y.$,x=(0,i.ph)(e=>{let{action:t,onClick:n,observeIntersection:i}=e;return(0,G.Y)(T.A,{className:w.A.channelPhoto,photo:t.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:i,onClick:n,size:M})});var B=n(17142),D=n(18501),U=n(39351),R=n(85118),L=n(82855);const E=(0,i.ph)((0,o.EK)((e,t)=>{let{action:n}=t;return{sticker:"giftPremium"===n.type?(0,d.t0O)(e,n.months):"giftStars"===n.type?(0,d.WLj)(e,n.stars):(0,d.OD9)(e,n.cryptoAmount),canPlayAnimatedEmojis:(0,d.BWX)(e)}})(e=>{let{action:t,sticker:n,canPlayAnimatedEmojis:o,onClick:s,observeIntersectionForLoading:r,observeIntersectionForPlaying:a}=e;const c=(0,i.li)(),l=(0,U.A)(),d="giftPremium"===t.type?t.message:void 0;return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:s,children:[(0,G.Y)("div",{ref:c,className:w.A.stickerWrapper,style:"width: 150px; height: 150px",children:n&&(0,G.Y)(L.A,{containerRef:c,sticker:n,size:150,observeIntersectionForLoading:r,observeIntersectionForPlaying:a,noLoad:!o})}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:"giftPremium"===t.type?l("ActionGiftPremiumTitle",{months:t.months},{pluralValue:t.months}):"giftStars"===t.type?l("ActionGiftStarsTitle",{amount:t.stars},{pluralValue:t.stars}):(()=>{const{cryptoAmount:e,cryptoCurrency:n}=t;return e?(0,B.vv)(l,e,n,{asFontIcon:!0}):void 0})()}),(0,G.FD)("div",{children:[d&&(0,D.fd)(d),!d&&l("giftTon"===t.type?"DescriptionAboutTon":"giftPremium"===t.type?"ActionGiftPremiumText":"ActionGiftStarsText")]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),l("ActionViewButton")]})]})}));var V=n(70636),j=n(4262);const K=(0,i.ph)((0,o.EK)((e,t)=>{let{action:n}=t;return{currentUserId:e.currentUserId,sticker:"giftCode"===n.type?(0,d.t0O)(e,n.months):(0,d.WLj)(e,n.stars),canPlayAnimatedEmojis:(0,d.BWX)(e),channel:n.boostPeerId?(0,d.hds)(e,n.boostPeerId):void 0}})(e=>{let{currentUserId:t,action:n,sender:o,sticker:s,canPlayAnimatedEmojis:r,channel:a,onClick:c,observeIntersectionForLoading:l,observeIntersectionForPlaying:d}=e;const u=(0,i.li)(),g=(0,U.A)(),m=(0,i.Kr)(()=>{const e=a&&(0,V.F9)(g,a),t=g("ActionFallbackChannel");return(0,j.Nm)(a?.id,e||t)},[a,g]),h=(0,i.Kr)(()=>{const e=a||o,t=e&&(0,V.F9)(g,e),n=g("ActionFallbackChat");return(0,j.Nm)(e?.id,t||n)},[a,o,g]);return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:c,children:[(0,G.Y)("div",{ref:u,className:w.A.stickerWrapper,style:"width: 150px; height: 150px",children:s&&(0,G.Y)(L.A,{containerRef:u,sticker:s,size:150,observeIntersectionForLoading:l,observeIntersectionForPlaying:d,noLoad:!r})}),(0,G.FD)("div",{children:[(0,G.Y)("h3",{className:w.A.title,children:g("giftCode"!==n.type||n.isViaGiveaway?"ActionGiveawayResultTitle":"GiftInfoTitle")}),(0,G.FD)("div",{children:["giftCode"===n.type&&(n.isViaGiveaway?g("ActionGiveawayResultPremiumText",{channel:m,months:n.months},{withNodes:!0,withMarkdown:!0,pluralValue:n.months,renderTextFilters:["br"]}):(0,j.AD)(g,"ActionGiftCodeSubscriptionText",o?.id===t,{peer:h,months:n.months},{pluralValue:n.months,renderTextFilters:["br"]})),"prizeStars"===n.type&&g("ActionGiveawayResultStarsText",{amount:n.stars,channel:m},{withNodes:!0,withMarkdown:!0,pluralValue:n.stars,renderTextFilters:["br"]})]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),g("giftCode"===n.type?"ActionOpenGiftButton":"ActionViewButton")]})]})}));var O=n(48775),W=n(80140),z=n(14242),J=n(66833),q=n(87094),Q=n(87049);const H=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n,action:i}=t;const o=(0,d.mBe)(e,e.currentUserId),s=(0,d.BWX)(e),r=(0,d.Y7C)(e,n),a=i.fromId?(0,d.PVB)(e,i.fromId):void 0,c=n.isOutgoing?(0,d.PVB)(e,n.chatId):o;return{canPlayAnimatedEmojis:s,sender:a||r,recipient:(i.peerId?(0,d.PVB)(e,i.peerId):void 0)||c,starGiftMaxConvertPeriod:e.appConfig.starGiftMaxConvertPeriod}})(e=>{let{action:t,message:n,canPlayAnimatedEmojis:o,sender:s,recipient:r,starGiftMaxConvertPeriod:a,onClick:l,observeIntersectionForLoading:d,observeIntersectionForPlaying:u}=e;const h=(0,i.li)(),p=(0,i.li)(),A=(0,U.A)(),[f,v,C]=(0,I.A)(),{isOutgoing:y}=n,F=(0,J.yQ)(t.gift),b=y?r:s,k=b&&(0,V.vj)(b)&&(0,c.WX)(b),P=(0,q.A)(h,"background-color",!t.gift.availabilityTotal),N=A("ActionFallbackSomeone"),S=b&&(0,V.F9)(A,b),Y=s?.id===r?.id,T=(0,i.Kr)(()=>{const e=(0,j.Nm)(b?.id,S||N),i=void 0!==t.starsToConvert?(0,O.Kk)(A,t.starsToConvert):void 0;return t.isUpgraded?A("ActionStarGiftUpgraded"):t.alreadyPaidUpgradeStars?(0,j.AD)(A,"ActionStarGiftUpgradeText",!y||Y,{peer:e}):t.isConverted?(0,j.AD)(A,"ActionStarGiftConvertedText",!y||Y,{peer:e,amount:i}):a&&(0,W.Fm)()<n.date+a?(0,j.AD)(A,"ActionStarGiftConvertText",!y||Y,{peer:e,amount:i}):k?A("ActionStarGiftChannelText",{amount:i},{withNodes:!0}):(0,j.AD)(A,"ActionStarGiftNoConvertText",!y||Y,{peer:e})},[t,N,k,y,A,n.date,b?.id,S,a,Y]);return(0,G.FD)("div",{ref:h,className:(0,m.A)("interactive-gift",w.A.contentBox,w.A.starGift),tabIndex:0,role:"button",onClick:l,onMouseEnter:g.TF?void 0:v,onMouseLeave:g.TF?void 0:C,children:[(0,G.Y)("div",{ref:p,className:w.A.stickerWrapper,style:"width: 120px; height: 120px",children:F&&(0,G.Y)(L.A,{containerRef:p,sticker:F,size:120,shouldLoop:f,observeIntersectionForLoading:d,observeIntersectionForPlaying:u,noLoad:!o})}),Boolean(t.gift.availabilityTotal)&&(0,G.Y)(Q.A,{color:P||"blue",text:A("ActionStarGiftLimitedRibbon",{total:(0,z.Vw)(A,t.gift.availabilityTotal)})}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:Y?A("ActionStarGiftSelf"):A(y?"ActionStarGiftTo":"ActionStarGiftFrom",{peer:(0,j.Nm)(b?.id,S||N)},{withNodes:!0})}),(0,G.FD)("div",{className:w.A.subtitle,children:[t.message&&(0,D.fd)(t.message),!t.message&&T]})]}),(0,G.FD)("div",{className:w.A.actionButton,children:[(0,G.Y)(R.A,{preset:"button"}),!t.alreadyPaidUpgradeStars||t.isUpgraded||y?A("ActionViewButton"):A("ActionStarGiftUnpack")]})]})}));var $=n(95807),X=n(92108),Z=n(40558);const _=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n,action:i}=t;const o=(0,d.mBe)(e,e.currentUserId),s=(0,d.BWX)(e),r=(0,d.Y7C)(e,n),a=i.fromId?(0,d.PVB)(e,i.fromId):void 0,c=n.isOutgoing?(0,d.PVB)(e,n.chatId):o;return{canPlayAnimatedEmojis:s,sender:a||r,recipient:(i.peerId?(0,d.PVB)(e,i.peerId):void 0)||c}})(e=>{let{action:t,message:n,canPlayAnimatedEmojis:o,sender:s,recipient:r,onClick:a,observeIntersectionForLoading:c,observeIntersectionForPlaying:l}=e;const d=(0,i.li)(),u=(0,U.A)(),[h,p,A]=(0,I.A)(),{isOutgoing:f}=n,v=(0,J.yQ)(t.gift),C=(0,J.uc)(t.gift),y=C.model,F=C.pattern,b=C.backdrop,k=[b.centerColor,b.edgeColor],P=`${b.patternColor.slice(0,7)}55`,N=(0,i.Kr)(()=>[[u("ActionStarGiftUniqueModel"),y.name],[u("ActionStarGiftUniqueBackdrop"),b.name],[u("ActionStarGiftUniqueSymbol"),F.name]],[u,y,F,b]),S=!f||t.isUpgrade,Y=S&&!t.isUpgrade?s:r,T=u("ActionFallbackSomeone"),M=Y&&(0,V.F9)(u,Y),x=s?.id===r?.id;return(0,G.FD)("div",{className:(0,m.A)("interactive-gift",w.A.contentBox,w.A.starGift,w.A.uniqueGift),tabIndex:0,role:"button",onClick:a,onMouseEnter:g.TF?void 0:p,onMouseLeave:g.TF?void 0:A,children:[(0,G.Y)("div",{className:w.A.uniqueBackgroundWrapper,children:(0,G.Y)(Z.A,{className:w.A.uniqueBackground,backgroundColors:k,patternColor:b.patternColor,patternIcon:F.sticker,clearBottomSector:!0})}),(0,G.Y)("div",{ref:d,className:w.A.stickerWrapper,style:"width: 120px; height: 120px",children:v&&(0,G.Y)(L.A,{containerRef:d,sticker:v,size:120,shouldLoop:h,observeIntersectionForLoading:c,observeIntersectionForPlaying:l,noLoad:!o})}),(0,G.Y)(Q.A,{color:P,text:u("ActionStarGiftUniqueRibbon")}),(0,G.FD)("div",{className:w.A.info,children:[(0,G.Y)("h3",{className:w.A.title,children:x?u("ActionStarGiftSelf"):u(S?"ActionStarGiftFrom":"ActionStarGiftTo",{peer:(0,j.Nm)(Y?.id,M||T)},{withNodes:!0})}),(0,G.Y)("div",{className:w.A.subtitle,style:`color: ${b.textColor}`,children:u("GiftUnique",{title:t.gift.title,number:t.gift.number})}),(0,G.Y)(X.A,{data:N,style:`color: ${b.textColor}`,valueClassName:w.A.uniqueValue})]}),(0,G.FD)("div",{className:w.A.actionButton,style:(0,$.A)(P&&`background-color: ${P}`),children:[(0,G.Y)(R.A,{preset:"button"}),u("ActionViewButton")]})]})}));var ee=n(87679),te=n(62587),ne=n(94189),ie=n(90751);const oe=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n}=t;return{peer:(0,d.PVB)(e,n.chatId)}})(e=>{let{message:t,action:n,peer:a,observeIntersection:l}=e;const{openMediaViewer:d,uploadProfilePhoto:u,showNotification:g}=(0,o.ko)(),{isOutgoing:m}=t,h=n.photo,p=(0,U.A)(),[A,f]=(0,i.J0)(),[v,C,y]=(0,I.A)(!1),b=(0,te.A)((0,c.rI)(h,"full")),k=(0,te.A)((0,c.Pg)(h)),P=h.isVideo,N=(0,i.Kr)(()=>{const e=a&&(0,V.F9)(p,a)||p("ActionFallbackUser"),t=(0,j.Nm)(a?.id,e);return p(m?"ActionSuggestedPhotoYou":"ActionSuggestedPhoto",{user:t},{withNodes:!0})},[p,m,a]),S=(0,F.A)(()=>{g({title:p("ActionSuggestedPhotoUpdatedTitle"),message:p("ActionSuggestedPhotoUpdatedDescription"),action:{action:"openSettingsScreen",payload:{screen:r.VS.Main}},actionText:p("Open")})}),Y=(0,F.A)(e=>{f(void 0),u({file:e}),S()}),M=(0,F.A)(()=>{f(void 0)}),x=(0,F.A)(async()=>{if(!k)return;y(),S();const e=await(0,ee.sZ)(k);u({file:new File([e],"avatar.mp4"),isVideo:!0,videoTs:h.videoSizes?.find(e=>void 0!==e.videoStartTs)?.videoStartTs})});return(0,G.FD)("div",{className:w.A.contentBox,tabIndex:0,role:"button",onClick:async()=>{!m&&b?P?C():f(await(0,ee.sZ)(b)):d({chatId:t.chatId,messageId:t.id,threadId:s.l3,origin:r.TQ.SuggestedAvatar})},children:[(0,G.Y)(T.A,{className:w.A.suggestedAvatar,photo:n.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:l,size:"jumbo"}),(0,G.Y)("div",{className:w.A.suggestedText,children:N}),(0,G.Y)("div",{className:w.A.actionButton,children:p("ActionSuggestedPhotoButton")}),(0,G.Y)(ie.A,{file:A,onClose:M,onChange:Y}),(0,G.Y)(ne.A,{isOpen:v,title:p("ActionSuggestedVideoTitle"),confirmHandler:x,onClose:y,text:p("ActionSuggestedVideoText")})]})}));var se=n(17663),re=n(4961),ae=n(59030);const ce=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n}=t;const i=(0,d.Y7C)(e,n),o=(0,d.k2W)(e,n.chatId),s=(0,l.Q)(n);let r;if("message"===s?.type&&s.replyToMsgId){const t=(0,d.gMr)(e,n);t&&(r=(0,d.Y7C)(e,t))}const{appConfig:a}=e;return{sender:i,chat:o,originalSender:r,ageMinSeconds:a.starsSuggestedPostAgeMin,isAdmin:!!o&&Boolean((0,d.ODG)(e,n.chatId))}})(e=>{let{message:t,action:n,sender:i,chat:o,originalSender:s,ageMinSeconds:r,isAdmin:c,onClick:l}=e;const d=(0,U.A)(),u=(0,ae.A)(),{scheduleDate:g,amount:h}=n,p=o&&(0,V.em)(d,o),A=()=>(0,j.Nm)(o?.id,p||d("ActionFallbackChat")),f=s&&(0,V.em)(d,s),v=(0,j.Nm)(s?.id,f||d("ActionFallbackUser")),C=g?(0,se.e0)(g,d,u):d("SuggestMessageAnytime"),I=!!g&&g<=(0,W.Fm)(),y=h?.currency,F=h?.amount||0,b=F>0?y===a.ykW?(0,O.QH)(d,(0,B.wD)(F)):(0,O.Kk)(d,F):void 0,k=(0,se.A$)(d,r,!0);return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostContentBox),onClick:l,children:[(0,G.Y)("div",{className:w.A.suggestedPostApprovalTitle,children:(0,re.A)(d("SuggestedPostAgreementReached"))}),(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,I?"SuggestedPostPublished":"SuggestedPostPublishSchedule",!c,{peer:A(),date:C},{withMarkdown:!0})}),b&&(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostCharged",!c,{user:v,amount:b},{withMarkdown:!0})}),I&&b&&(0,G.FD)(G.FK,{children:[(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostReceiveAmount",!c,{peer:A(),duration:k},{withMarkdown:!0})}),(0,G.Y)("div",{className:w.A.suggestedPostApprovalSection,children:(0,j.AD)(d,"SuggestedPostRefund",!c,{peer:A(),duration:k},{withMarkdown:!0})})]})]})})),le=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n}=t;const i=(0,d.Y7C)(e,n),o="message"===n.replyInfo?.type&&n.replyInfo.replyToMsgId?(0,d.O5q)(e,n.chatId,n.replyInfo.replyToMsgId):void 0;return{sender:i,replyMessageSender:o?(0,d.Y7C)(e,o):void 0,replyMessage:o}})(e=>{let{onClick:t,message:n,sender:i,replyMessageSender:s,replyMessage:r}=e;const{openStarsBalanceModal:c}=(0,o.ko)(),l=(0,U.A)(),d=(0,F.A)(e=>{e.preventDefault(),e.stopPropagation(),c({})}),u=s||i,g=u&&(0,V.em)(l,u),h=(0,j.Nm)(u?.id,g||l("ActionFallbackUser")),p=r?.suggestedPostInfo?.price?.currency||a.OUy,A=p===a.ykW?l("CurrencyTon"):l("CurrencyStars"),f=p===a.ykW?l("ButtonTopUpViaFragment"):l("ButtonBuyStars");return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostBalanceTooLowBox),onClick:t,children:[(0,G.Y)("div",{className:w.A.suggestedPostBalanceTooLowTitle,children:l("SuggestedPostBalanceTooLow",{peer:h,currency:A},{withNodes:!0,withMarkdown:!0})}),!n.isOutgoing&&(0,G.FD)("div",{className:w.A.actionButton,onClick:d,children:[(0,G.Y)(R.A,{preset:"button"}),f]})]})}));var de=n(18276);const ue=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n}=t;return{sender:(0,d.Y7C)(e,n)}})(e=>{let{message:t,action:n,sender:i,onClick:o}=e;const s=(0,U.A)(),{isOutgoing:r}=t,{rejectComment:a}=n,c=i&&(0,V.F9)(s,i),l=(0,j.Nm)(i?.id,c||s("ActionFallbackUser"));return(0,G.FD)("div",{className:(0,m.A)(w.A.contentBox,w.A.suggestedPostRejectedContentBox),onClick:o,children:[(0,G.FD)("div",{className:w.A.suggestedPostRejectedTitle,children:[(0,G.Y)(de.A,{className:w.A.rejectedIcon,name:"close"}),(0,j.AD)(s,a?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",r,{peer:l},{withMarkdown:!0})]}),a&&(0,G.Y)("div",{className:w.A.suggestedPostRejectedComment,children:s("SuggestedPostRejectedComment",{comment:a})})]})}));var ge=n(99515),me=n(43581),he=n(14737),pe=n(48894);var Ae=n(36838),fe=n(64493),ve=n(55158);const Ce="d8axZxyN",Ie="glDpC2av",ye="gqCs9fSo",Fe="gnYhwnvf",be="HWgwnKui",ke="BTNQ4KBH",Pe="Xl9MVMTn",Ne="Qizai7yv";function Se(e){let{channel:t}=e;const{openChat:n}=(0,o.ko)(),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#00000000";const[n,o]=(0,i.J0)(t),r=(0,te.A)((0,c.cP)(e),!1,s.qZ.BlobUrl);return(0,i.vJ)(()=>{(async()=>{if(!r)return;const e=await(0,pe.rX)(r);o(`#${(0,pe.v2)(e)}`)})()},[r]),n}(t,"#3C3C4399"),a=(0,U.A)();return(0,G.FD)("div",{className:Ie,onClick:()=>n({id:t.id}),children:[(0,G.Y)(T.A,{className:ye,size:"large",peer:t},t.id),(0,G.FD)("div",{style:`background: ${r}`,className:Fe,children:[(0,G.Y)(de.A,{name:"user-filled",className:Ce}),(0,G.Y)("span",{className:be,children:(0,z.Vw)(a,t?.membersCount||0)})]}),(0,G.Y)("span",{className:ke,children:t.title})]})}function Ye(e){let{channel:t,chatId:n,channelsCount:i,isCurrentUserPremium:s}=e;const{openPremiumModal:r,openChatWithInfo:a}=(0,o.ko)(),c=(0,ae.A)();return(0,G.FD)("div",{className:(0,m.A)(Ie,"MBChXyXk"),onClick:()=>{s?a({id:n,shouldReplaceHistory:!0,profileTab:"similarChannels",forceScrollProfileTab:!0}):r()},children:[(0,G.Y)(T.A,{className:ye,size:"large",peer:t},t.id),(0,G.Y)("div",{className:Pe,children:(0,G.Y)("div",{className:Ne})}),(0,G.Y)("div",{className:(0,m.A)(Pe,"JxSmtOFi"),children:(0,G.Y)("div",{className:Ne})}),(0,G.FD)("div",{className:Fe,children:[(0,G.Y)("span",{className:be,children:`+${i}`}),!s&&(0,G.Y)(de.A,{name:"lock-badge",className:Ce})]}),(0,G.Y)("span",{className:ke,children:c("MoreSimilar")})]})}const Te=(0,i.ph)((0,o.EK)((e,t)=>{let{chatId:n}=t;const{similarChannelIds:i,isExpanded:o,count:s}=(0,d.dg4)(e,n)||{},r=(0,d.g29)(e),a=(0,d.AWZ)(e,n);return{similarChannelIds:i,isExpanded:o,count:s,isCurrentUserPremium:r,channelJoinInfo:a?.joinInfo}})(e=>{let{chatId:t,similarChannelIds:n,isExpanded:s,count:r,isCurrentUserPremium:a,channelJoinInfo:c}=e;const{toggleChannelRecommendations:l,loadChannelRecommendations:u}=(0,o.ko)(),g=(0,ae.A)(),[h,p,A]=(0,I.A)(!1),[f,v,C]=(0,I.A)(!1),y=(0,i.li)(),b=(0,i.li)(!1),k=(0,i.Kr)(()=>{if(!n)return;const e=(0,o.mS)();return n.map(t=>(0,d.hds)(e,t)).filter(Boolean)},[n]),[P,N]=(0,i.J0)(!1),S=(0,i.Kr)(()=>k?.slice(0,10),[k]),Y=Boolean(S?.length),T=Boolean(!P&&(s||f||h)&&Y);(0,Ae.A)(y,!T,!0),(0,i.vJ)(()=>{n||u({chatId:t})},[t,n]),(0,he.A)(()=>N(!1),2e3),(0,i.vJ)(()=>{if(P&&k&&s){const e=setTimeout(()=>{N(!1)},300);return()=>clearTimeout(e)}},[k,s,P]),(0,i.vJ)(()=>{s?(p(),C(),N(!n),b.current||setTimeout(()=>{y.current?.scrollIntoView({behavior:"smooth"})},150)):(A(),v())},[s,n]);const w=(0,F.A)(()=>{l({chatId:t})});if((0,i.vJ)(()=>{c?.joinedDate&&!s&&(0,W.Fm)()-c.joinedDate<=10&&(w(),b.current=!0)},[c,s]),T||P)return(0,G.FD)("div",{className:(0,m.A)("V3RHiOJR"),children:[P&&(0,G.Y)(ve.A,{className:"xKVZv7KE"}),T&&(0,G.FD)("div",{className:(0,m.A)(h&&"eb8rX09E",f&&"XR6_qLCc"),children:[(0,G.Y)("div",{className:"tfG_BSDt",children:(0,G.Y)("svg",{width:"19",height:"7",viewBox:"0 0 19 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,G.Y)("path",{className:"HVbeGv4t","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 7C16.8992 7 13.59 3.88897 11.5003 1.67424C10.7648 0.894688 10.397 0.50491 10.0434 0.385149C9.70568 0.270811 9.4225 0.270474 9.08456 0.38401C8.73059 0.50293 8.36133 0.892443 7.62279 1.67147C5.52303 3.88637 2.18302 7 0 7L19 7Z",fill:"white"})})}),(0,G.FD)("div",{className:"njAC8dR9",children:[(0,G.FD)("div",{className:"s7QOi22Q",children:[(0,G.Y)("span",{className:"JstcOhAN",children:g("SimilarChannels")}),(0,G.Y)(fe.A,{className:"meewH7t_",color:"translucent",onClick:w,children:(0,G.Y)(de.A,{name:"close"})})]}),(0,G.Y)("div",{ref:y,className:(0,m.A)("h4gWlNen","no-scrollbar"),children:S?.map((e,n)=>9===n?(0,G.Y)(Ye,{channel:e,chatId:t,channelsCount:r-10+1,isCurrentUserPremium:a}):(0,G.Y)(Se,{channel:e}))})]})]})]})})),we=new Set(["pinMessage","chatEditPhoto","chatDeletePhoto","todoCompletions","todoAppendTasks","unsupported"]),Ge=new Set(["giftCode","prizeStars","suggestProfilePhoto","suggestedPostApproval"]),Me=(0,i.ph)((0,o.EK)((e,t)=>{let{message:n,threadId:i}=t;const o=(0,d.nTw)(e),{themes:r}=e.settings,a=(0,d.hds)(e,n.chatId),c=(0,d.Y7C)(e,n),u=a?.isForum&&i!==s.l3,{replyToMsgId:g,replyToPeerId:m}=(0,l.Q)(n)||{},h=g?(0,d.O5q)(e,m||n.chatId,g):void 0,p=!!i&&(0,d.nJv)(e,n,i),{direction:A,noHighlight:f,isResizingContainer:v,scrollTargetPosition:C}=p&&o.focusedMessage||{},I=(0,d.g29)(e),y=a?.unreadReactions?.includes(n.id),F=(0,d.trm)(e);return{sender:c,currentUserId:e.currentUserId,isCurrentUserPremium:I,isFocused:p,focusDirection:A,noFocusHighlight:f,isInsideTopic:u,replyMessage:h,isInSelectMode:(0,d.rTV)(e),patternColor:r[(0,d.SJA)(e)]?.patternColor,hasUnreadReaction:y,isResizingContainer:v,scrollTargetPosition:C,isAccountFrozen:F}})(e=>{let{message:t,threadId:n,sender:s,currentUserId:d,appearanceOrder:Y,isJustAdded:T,isLastInList:M,memoFirstUnreadIdRef:B,getIsMessageListReady:D,isInsideTopic:U,isFocused:R,focusDirection:L,noFocusHighlight:V,replyMessage:j,patternColor:O,isCurrentUserPremium:W,isInSelectMode:z,hasUnreadReaction:J,isResizingContainer:q,scrollTargetPosition:Q,onIntersectPinnedMessage:$,observeIntersectionForBottom:X,observeIntersectionForLoading:Z,observeIntersectionForPlaying:ee,isAccountFrozen:te}=e;const{requestConfetti:ne,openMediaViewer:ie,getReceipt:se,checkGiftCode:re,openPrizeStarsTransactionFromGiveaway:ae,openPremiumModal:de,openStarsTransactionFromGift:he,openGiftInfoModalFromMessage:pe,toggleChannelRecommendations:Ae,animateUnreadReaction:fe,markMentionsRead:ve,focusMessage:Ce}=(0,o.ko)(),Ie=(0,i.li)(),{id:ye,chatId:Fe}=t,be=t.content.action,ke=(0,h.iL)(ye),Pe=Ge.has(be.type),Ne=we.has(be.type),Se=g.uH&&!Ne,Ye="suggestedPostSuccess"===be.type,Me=(0,l.Q)(t),{replyToMsgId:xe,replyToPeerId:Be}=Me||{},De=Boolean(t.areReactionsPossible&&t?.reactions?.results?.length),Ue=U&&"topicCreate"===be.type,{isTouchScreen:Re}=(0,f.Ay)();(0,y.mv)(Ie,Ue?void 0:X),(0,b.A)(Ie,!Ue&&M&&"channelJoined"!==be.type),(0,C.A)(Be||Fe,xe,j,ye),(0,N.A)({elementRef:Ie,chatId:Fe,isFocused:R,focusDirection:L,noFocusHighlight:V,isResizingContainer:q,isJustAdded:T,scrollTargetPosition:Q}),(0,i._W)(()=>{t.isPinned&&$?.({viewportPinnedIdsToRemove:[t.id]})});const{isContextMenuOpen:Le,contextMenuAnchor:Ee,handleBeforeContextMenu:Ve,handleContextMenu:je,handleContextMenuClose:Ke,handleContextMenuHide:Oe}=(0,v.A)(Ie,Re&&z||te,!u.Vq,g.Ni,D),We=void 0!==Ee,ze=Y<=0,[Je,qe]=(0,I.A)(ze);(0,i.vJ)(()=>{ze||setTimeout(qe,Y*a.zq7)},[Y,qe,ze]);const{ref:Qe}=(0,k.A)({isOpen:Je,noOpenTransition:ze,noCloseTransition:!0,className:!1,ref:Ie});(0,i.vJ)(()=>{const e=Ie.current;e&&(0,p.Y)(e)&&(J&&fe({messageIds:[ye]}),t.hasUnreadMention&&ve({chatId:Fe,messageIds:[ye]}))},[J,Fe,ye,fe,t.hasUnreadMention]),(0,i.vJ)(()=>{"giftPremium"===be.type&&(B?.current&&ye>=B.current||ke)&&ne({})},[be.type,ye,ke,B]);const He=(0,P.A)(Se?O:void 0),$e=(0,F.A)(()=>{switch(be.type){case"paymentSent":case"paymentRefunded":se({chatId:t.chatId,messageId:t.id});break;case"chatEditPhoto":ie({chatId:t.chatId,messageId:t.id,threadId:n,origin:r.TQ.ChannelAvatar});break;case"giftCode":re({slug:be.slug,message:{chatId:t.chatId,messageId:t.id}});break;case"prizeStars":ae({chatId:t.chatId,messageId:t.id});break;case"giftPremium":de({isGift:!0,fromUserId:s?.id,toUserId:s&&s.id===d?Fe:d,monthsAmount:be.months});break;case"giftTon":case"giftStars":he({chatId:t.chatId,messageId:t.id});break;case"starGift":case"starGiftUnique":pe({chatId:t.chatId,messageId:t.id});break;case"channelJoined":Ae({chatId:Fe});break;case"suggestedPostApproval":{const e=(0,l.Q)(t);"message"===e?.type&&e.replyToMsgId&&Ce({chatId:t.chatId,threadId:n,messageId:e.replyToMsgId});break}case"suggestedPostSuccess":{const e=(0,l.Q)(t);"message"===e?.type&&e.replyToMsgId&&Ce({chatId:t.chatId,threadId:n,messageId:e.replyToMsgId});break}}}),Xe=(0,i.Kr)(()=>{switch(be.type){case"chatEditPhoto":if(!be.photo)return;return(0,G.Y)(x,{action:be,observeIntersection:Z,onClick:$e});case"suggestProfilePhoto":return(0,G.Y)(oe,{message:t,action:be,observeIntersection:Z});case"prizeStars":case"giftCode":return(0,G.Y)(K,{action:be,sender:s,observeIntersectionForLoading:Z,observeIntersectionForPlaying:ee,onClick:$e});case"giftPremium":case"giftTon":case"giftStars":return(0,G.Y)(E,{action:be,observeIntersectionForLoading:Z,observeIntersectionForPlaying:ee,onClick:$e});case"starGift":return(0,G.Y)(H,{action:be,message:t,observeIntersectionForLoading:Z,observeIntersectionForPlaying:ee,onClick:$e});case"starGiftUnique":return(0,G.Y)(_,{action:be,message:t,observeIntersectionForLoading:Z,observeIntersectionForPlaying:ee,onClick:$e});case"channelJoined":return(0,G.Y)(Te,{chatId:t.chatId});case"suggestedPostApproval":return be.isBalanceTooLow?(0,G.Y)(le,{message:t,action:be,onClick:$e}):be.isRejected?(0,G.Y)(ue,{message:t,action:be,onClick:$e}):(0,G.Y)(ce,{message:t,action:be,onClick:$e});default:return}},[be,t,Z,s,ee]);if(!(U&&"topicCreate"===be.type||"phoneCall"===be.type))return(0,G.FD)("div",{ref:Qe,id:(0,c.GZ)(ye),className:(0,m.A)("ActionMessage","message-list-item",w.A.root,Ne&&w.A.singleLine,Se&&w.A.fluidMultiline,Xe&&w.A.hasFullContent,R&&!V&&"focused",We&&"has-menu-open",M&&"last-in-list"),"data-message-id":t.id,"data-is-pinned":t.isPinned||void 0,"data-has-unread-mention":t.hasUnreadMention||void 0,"data-has-unread-reaction":J||void 0,onMouseDown:e=>{(0,A.l)(e),Ve(e)},onContextMenu:je,children:[!Pe&&(0,G.FD)(G.FK,{children:[Se&&(0,G.Y)("div",{className:(0,m.A)(w.A.inlineWrapper,Ye&&w.A.hoverable),children:(0,G.Y)("span",{className:w.A.fluidBackground,style:He,children:(0,G.Y)(S.A,{message:t,isInsideTopic:U})})}),(0,G.Y)("div",{className:(0,m.A)(w.A.inlineWrapper,Ye&&w.A.hoverable),children:(0,G.Y)("span",{className:w.A.textContent,onClick:$e,children:(0,G.Y)(S.A,{message:t,isInsideTopic:U})})})]}),Xe,Ee&&(0,G.Y)(ge.A,{isOpen:Le,anchor:Ee,message:t,messageListType:"thread",className:w.A.contextContainer,onClose:Ke,onCloseAnimationEnd:Oe}),De&&(0,G.Y)(me.A,{isOutside:!0,message:t,threadId:n,observeIntersection:ee,isCurrentUserPremium:W,isAccountFrozen:te})]})}))},48196:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(84051),o=n(31481),s=n(28470),r=n(20021);const a=new Map;class c{referenceCount=0;constructor(e){this.color=e,this.filterId=`fluid-background-filter-${e.slice(1)}`,(0,s.z)((0,r.FD)("filter",{"color-interpolation-filters":"sRGB",xmlns:o.jNX,children:[(0,r.Y)("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"4",result:"blur"}),(0,r.Y)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 30 -15",result:"goo"}),(0,r.Y)("feComposite",{in:"SourceAlpha",in2:"goo",operator:"over",result:"outline"}),(0,r.Y)("feFlood",{"flood-color":e,result:"color"}),(0,r.Y)("feComposite",{in:"color",in2:"outline",operator:"in"})]}),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,s.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function l(e,t){if((0,i.vJ)(()=>{if(e)return()=>{const t=a.get(e);t&&(t.removeReference(),t.isUsed()||a.delete(t.color))}},[e]),!e)return;if(a.has(e))return d(a.get(e).getFilterId(),t);const n=new c(e);return a.set(e,n),d(n.getFilterId(),t)}function d(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},87049:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(84051),o=n(13439),s=n(91048),r=n(87357),a=n(14745);const c={root:"AmQSvxpZ",text:"pQW7dcwr"};var l=n(20021);const d={red:[["#FF5B54","#ED1C26"],["#653633","#532224"]],blue:[["#6ED2FF","#34A4FC"],["#344F5A","#152E42"]],purple:[["#E367D7","#757BF6"],["#E367D7","#757BF6"]],green:[["#52D553","#4BB121"],["#52D553","#4BB121"]],orange:[["#D48F23","#BE7E15"],["#D48F23","#BE7E15"]]},u=new Set(Object.keys(d)),g=(0,i.ph)((0,o.EK)(e=>({theme:(0,s.SJA)(e)}))(e=>{let{text:t,color:n,className:i,theme:o}=e;const s=`svg-${(0,a.A)()}`,g=u.has(n)?n:void 0,m="dark"===o,h=Array.isArray(n)?n:g?d[g][m?1:0]:void 0,p=h?h[0]:n,A=h?h[1]:n;return(0,l.FD)("div",{className:(0,r.A)(c.root,i),children:[(0,l.FD)("svg",{className:c.ribbon,width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[(0,l.Y)("path",{d:"M52.4851 26.4853L29.5145 3.51472C27.2641 1.26428 24.2119 0 21.0293 0H2.82824C1.04643 0 0.154103 2.15429 1.41403 3.41422L52.5856 54.5858C53.8455 55.8457 55.9998 54.9534 55.9998 53.1716V34.9706C55.9998 31.788 54.7355 28.7357 52.4851 26.4853Z",fill:`url(#${s})`}),(0,l.Y)("defs",{children:(0,l.FD)("linearGradient",{id:s,x1:"27.9998",y1:"1",x2:"27.9998",y2:"55",gradientUnits:"userSpaceOnUse",children:[(0,l.Y)("stop",{"stop-color":p}),(0,l.Y)("stop",{offset:"1","stop-color":A})]})})]}),(0,l.Y)("div",{className:c.text,children:t})]})}))},92108:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(84051),o=n(87357);var s=n(20021);const r=(0,i.ph)(e=>{let{data:t,style:n,className:i,valueClassName:r,keyClassName:a}=e;return(0,s.Y)("div",{className:(0,o.A)("cKr8J5k_",i),style:n,children:t.map(e=>{let[t,n]=e;return(0,s.FD)(s.FK,{children:[(0,s.Y)("div",{className:(0,o.A)("c9RLLvfs",a),children:t}),(0,s.Y)("div",{className:(0,o.A)("QEuGpzIc",r),children:n})]})})})})}}]);
//# sourceMappingURL=5278.6fd880f600de8897bf7c.js.map